<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF8">
    <title>AtFunctions.rb</title>
    <link rel="STYLESHEET" href="styles.css">
    <script src="main.js" type="text/javascript"></script>
</head>
<body><div id="content"><h1>AtFunctions.rb</h1><p><a href="./index.html">Return to the index.</a><p><h2>Table of Contents</h2><p><em>Function count: 311</em></p><p>Click on genres to show all functions in that genre.</p><table id="toc"><tr><td class="genre-source">(class<span class="minimize"></span>)</td><td><code><a href="#Class">Class</a></code>, <code><a href="#ClassNamed">ClassNamed</a></code>, <code><a href="#New">New</a></code></td></tr><tr><td class="genre-source">(conversion<span class="minimize"></span>)</td><td><code><a href="#Char">Char</a></code>, <code><a href="#N">N</a></code>, <code><a href="#String">String</a></code></td></tr><tr><td class="genre-source">(data<span class="minimize"></span>)</td><td><code><a href="#Hash">Hash</a></code>, <code><a href="#Pred">Pred</a></code>, <code><a href="#Succ">Succ</a></code>, <code><a href="#V">V</a></code></td></tr><tr><td class="genre-source">(functional<span class="minimize"></span>)</td><td><code><a href="#Agenda">Agenda</a></code>, <code><a href="#Applier">Applier</a></code>, <code><a href="#Apply">Apply</a></code>, <code><a href="#Bond">Bond</a></code>, <code><a href="#C">C</a></code>, <code><a href="#Call">Call</a></code>, <code><a href="#CallN">CallN</a></code>, <code><a href="#Configure">Configure</a></code>, <code><a href="#Curry">Curry</a></code>, <code><a href="#Fixpoint">Fixpoint</a></code>, <code><a href="#Fork">Fork</a></code>, <code><a href="#GenerateFirst">GenerateFirst</a></code>, <code><a href="#GenerateN">GenerateN</a></code>, <code><a href="#Hook">Hook</a></code>, <code><a href="#Id">Id</a></code>, <code><a href="#InvocationIndex">InvocationIndex</a></code>, <code><a href="#Nest">Nest</a></code>, <code><a href="#NestList">NestList</a></code>, <code><a href="#NestListWhile">NestListWhile</a></code>, <code><a href="#NestWhile">NestWhile</a></code>, <code><a href="#On">On</a></code>, <code><a href="#Periodic">Periodic</a></code>, <code><a href="#PeriodicSteps">PeriodicSteps</a></code>, <code><a href="#RBond">RBond</a></code>, <code><a href="#Series">Series</a></code>, <code><a href="#SeriesIf">SeriesIf</a></code>, <code><a href="#TakeWhile">TakeWhile</a></code>, <code><a href="#Tie">Tie</a></code>, <code><a href="#TieArray">TieArray</a></code></td></tr><tr><td class="genre-source">(IO<span class="minimize"></span>)</td><td><code><a href="#AllInput">AllInput</a></code>, <code><a href="#Arg">Arg</a></code>, <code><a href="#ClearScreen">ClearScreen</a></code>, <code><a href="#Display">Display</a></code>, <code><a href="#Exit">Exit</a></code>, <code><a href="#Option">Option</a></code>, <code><a href="#Print">Print</a></code>, <code><a href="#Prompt">Prompt</a></code>, <code><a href="#ReadChar">ReadChar</a></code>, <code><a href="#ReadFloat">ReadFloat</a></code>, <code><a href="#ReadInt">ReadInt</a></code>, <code><a href="#ReadLine">ReadLine</a></code>, <code><a href="#ReadLineLoop">ReadLineLoop</a></code>, <code><a href="#ReadNumber">ReadNumber</a></code>, <code><a href="#Stdin">Stdin</a></code>, <code><a href="#Stdout">Stdout</a></code></td></tr><tr><td class="genre-source">(IO<span class="minimize">/files</span>)</td><td><code><a href="#FileExists">FileExists</a></code>, <code><a href="#FileRead">FileRead</a></code>, <code><a href="#FileWrite">FileWrite</a></code></td></tr><tr><td class="genre-source">(list<span class="minimize"></span>)</td><td><code><a href="#Accumulate">Accumulate</a></code>, <code><a href="#Average">Average</a></code>, <code><a href="#Bisect">Bisect</a></code>, <code><a href="#Bounce">Bounce</a></code>, <code><a href="#Chop">Chop</a></code>, <code><a href="#Chunk">Chunk</a></code>, <code><a href="#Collapse">Collapse</a></code>, <code><a href="#Complement">Complement</a></code>, <code><a href="#Concat">Concat</a></code>, <code><a href="#Count">Count</a></code>, <code><a href="#Delta">Delta</a></code>, <code><a href="#Difference">Difference</a></code>, <code><a href="#Enumerate">Enumerate</a></code>, <code><a href="#Find">Find</a></code>, <code><a href="#First">First</a></code>, <code><a href="#Flat">Flat</a></code>, <code><a href="#FlatGet">FlatGet</a></code>, <code><a href="#Flip">Flip</a></code>, <code><a href="#Get">Get</a></code>, <code><a href="#Grade">Grade</a></code>, <code><a href="#Has">Has</a></code>, <code><a href="#Index">Index</a></code>, <code><a href="#IndexFlat">IndexFlat</a></code>, <code><a href="#Indices">Indices</a></code>, <code><a href="#IndicesFlat">IndicesFlat</a></code>, <code><a href="#Integers">Integers</a></code>, <code><a href="#Intersection">Intersection</a></code>, <code><a href="#Intersperse">Intersperse</a></code>, <code><a href="#Iota">Iota</a></code>, <code><a href="#Larger">Larger</a></code>, <code><a href="#Last">Last</a></code>, <code><a href="#LastIndex">LastIndex</a></code>, <code><a href="#LastIndexFlat">LastIndexFlat</a></code>, <code><a href="#List">List</a></code>, <code><a href="#Max">Max</a></code>, <code><a href="#Median">Median</a></code>, <code><a href="#Min">Min</a></code>, <code><a href="#Outers">Outers</a></code>, <code><a href="#Pop">Pop</a></code>, <code><a href="#Positions">Positions</a></code>, <code><a href="#Powerset">Powerset</a></code>, <code><a href="#Prefixes">Prefixes</a></code>, <code><a href="#Prod">Prod</a></code>, <code><a href="#Push">Push</a></code>, <code><a href="#Range">Range</a></code>, <code><a href="#Remove">Remove</a></code>, <code><a href="#RemoveAmong">RemoveAmong</a></code>, <code><a href="#RemoveFirst">RemoveFirst</a></code>, <code><a href="#RemoveLast">RemoveLast</a></code>, <code><a href="#Repeat">Repeat</a></code>, <code><a href="#Resize">Resize</a></code>, <code><a href="#Reverse">Reverse</a></code>, <code><a href="#RLE">RLE</a></code>, <code><a href="#Rotate">Rotate</a></code>, <code><a href="#Rotations">Rotations</a></code>, <code><a href="#Same">Same</a></code>, <code><a href="#Shift">Shift</a></code>, <code><a href="#Slices">Slices</a></code>, <code><a href="#SlicesFill">SlicesFill</a></code>, <code><a href="#StdDev">StdDev</a></code>, <code><a href="#Suffixes">Suffixes</a></code>, <code><a href="#TriangleRange">TriangleRange</a></code>, <code><a href="#TriangleSelect">TriangleSelect</a></code>, <code><a href="#Union">Union</a></code>, <code><a href="#Unique">Unique</a></code>, <code><a href="#Unshift">Unshift</a></code></td></tr><tr><td class="genre-source">(list<span class="minimize">/logic</span>)</td><td><code><a href="#Decreasing">Decreasing</a></code>, <code><a href="#Increasing">Increasing</a></code>, <code><a href="#Overlap">Overlap</a></code>, <code><a href="#Palindromic">Palindromic</a></code></td></tr><tr><td class="genre-source">(list<span class="minimize">/matrix</span>)</td><td><code><a href="#ArrayFlatten">ArrayFlatten</a></code>, <code><a href="#LowerTriangle">LowerTriangle</a></code>, <code><a href="#UpperTriangle">UpperTriangle</a></code></td></tr><tr><td class="genre-source">(logic<span class="minimize"></span>)</td><td><code><a href="#All">All</a></code>, <code><a href="#Any">Any</a></code>, <code><a href="#DoWhile">DoWhile</a></code>, <code><a href="#Falsey">Falsey</a></code>, <code><a href="#ForEach">ForEach</a></code>, <code><a href="#If">If</a></code>, <code><a href="#Invariant">Invariant</a></code>, <code><a href="#Mask">Mask</a></code>, <code><a href="#None">None</a></code>, <code><a href="#Not">Not</a></code>, <code><a href="#Truthy">Truthy</a></code>, <code><a href="#While">While</a></code></td></tr><tr><td class="genre-source">(meta<span class="minimize"></span>)</td><td><code><a href="#Eval">Eval</a></code>, <code><a href="#EvalHere">EvalHere</a></code>, <code><a href="#Needs">Needs</a></code>, <code><a href="#Save">Save</a></code></td></tr><tr><td class="genre-source">(numeric<span class="minimize"></span>)</td><td><code><a href="#Abs">Abs</a></code>, <code><a href="#Add">Add</a></code>, <code><a href="#Ceiling">Ceiling</a></code>, <code><a href="#Digits">Digits</a></code>, <code><a href="#Divide">Divide</a></code>, <code><a href="#Double">Double</a></code>, <code><a href="#Exp">Exp</a></code>, <code><a href="#Floor">Floor</a></code>, <code><a href="#GCD">GCD</a></code>, <code><a href="#Halve">Halve</a></code>, <code><a href="#Im">Im</a></code>, <code><a href="#IntLog">IntLog</a></code>, <code><a href="#LCM">LCM</a></code>, <code><a href="#Ln">Ln</a></code>, <code><a href="#Log">Log</a></code>, <code><a href="#LogBase">LogBase</a></code>, <code><a href="#Multiply">Multiply</a></code>, <code><a href="#PlusMinus">PlusMinus</a></code>, <code><a href="#Random">Random</a></code>, <code><a href="#Rational">Rational</a></code>, <code><a href="#Re">Re</a></code>, <code><a href="#Round">Round</a></code>, <code><a href="#Sign">Sign</a></code>, <code><a href="#Sqrt">Sqrt</a></code>, <code><a href="#Square">Square</a></code>, <code><a href="#Subtract">Subtract</a></code></td></tr><tr><td class="genre-source">(numeric<span class="minimize">/bases</span>)</td><td><code><a href="#Bin">Bin</a></code>, <code><a href="#FromBase">FromBase</a></code>, <code><a href="#Hex">Hex</a></code>, <code><a href="#Oct">Oct</a></code>, <code><a href="#ToBase">ToBase</a></code>, <code><a href="#UnBin">UnBin</a></code>, <code><a href="#UnHex">UnHex</a></code>, <code><a href="#UnOct">UnOct</a></code></td></tr><tr><td class="genre-source">(numeric<span class="minimize">/logic</span>)</td><td><code><a href="#Even">Even</a></code>, <code><a href="#Imaginary">Imaginary</a></code>, <code><a href="#Integral">Integral</a></code>, <code><a href="#IsImaginary">IsImaginary</a></code>, <code><a href="#IsRational">IsRational</a></code>, <code><a href="#Negative">Negative</a></code>, <code><a href="#Numeric">Numeric</a></code>, <code><a href="#Odd">Odd</a></code>, <code><a href="#Positive">Positive</a></code>, <code><a href="#Real">Real</a></code>, <code><a href="#Zero">Zero</a></code></td></tr><tr><td class="genre-source">(numeric<span class="minimize">/prime</span>)</td><td><code><a href="#IsComposite">IsComposite</a></code>, <code><a href="#IsPrime">IsPrime</a></code>, <code><a href="#NextPrime">NextPrime</a></code>, <code><a href="#PreviousPrime">PreviousPrime</a></code>, <code><a href="#Prime">Prime</a></code>, <code><a href="#PrimeDivision">PrimeDivision</a></code>, <code><a href="#PrimeFactors">PrimeFactors</a></code>, <code><a href="#PrimeNu">PrimeNu</a></code>, <code><a href="#PrimeOmega">PrimeOmega</a></code>, <code><a href="#Primes">Primes</a></code></td></tr><tr><td class="genre-source">(numeric<span class="minimize">/rational</span>)</td><td><code><a href="#Denominator">Denominator</a></code>, <code><a href="#Numerator">Numerator</a></code></td></tr><tr><td class="genre-source">(numeric<span class="minimize">/series</span>)</td><td><code><a href="#Collatz">Collatz</a></code>, <code><a href="#CollatzSize">CollatzSize</a></code>, <code><a href="#Fibonacci">Fibonacci</a></code>, <code><a href="#Polygonal">Polygonal</a></code>, <code><a href="#Pythagorean">Pythagorean</a></code>, <code><a href="#Triangular">Triangular</a></code></td></tr><tr><td class="genre-source">(numeric<span class="minimize">/trig</span>)</td><td><code><a href="#ArcCos">ArcCos</a></code>, <code><a href="#ArcCosh">ArcCosh</a></code>, <code><a href="#ArcSin">ArcSin</a></code>, <code><a href="#ArcSinh">ArcSinh</a></code>, <code><a href="#ArcTan">ArcTan</a></code>, <code><a href="#ArcTan2">ArcTan2</a></code>, <code><a href="#ArcTanh">ArcTanh</a></code>, <code><a href="#Cos">Cos</a></code>, <code><a href="#Cosh">Cosh</a></code>, <code><a href="#Sin">Sin</a></code>, <code><a href="#Sinh">Sinh</a></code>, <code><a href="#Tan">Tan</a></code>, <code><a href="#Tanh">Tanh</a></code></td></tr><tr><td class="genre-source">(operator<span class="minimize"></span>)</td><td><code><a href="#%">%</a></code>, <code><a href="#*">*</a></code>, <code><a href="#+">+</a></code>, <code><a href="#-">-</a></code>, <code><a href="#->">-></a></code>, <code><a href="#.">.</a></code>, <code><a href="#..">..</a></code>, <code><a href="#...">...</a></code>, <code><a href="#/">/</a></code>, <code><a href="#//">//</a></code>, <code><a href="#:">:</a></code>, <code><a href="#::">::</a></code>, <code><a href="#<|"><|</a></code>, <code><a href="#^">^</a></code>, <code><a href="#^^">^^</a></code>, <code><a href="#|>">|></a></code>, <code><a href="#±">±</a></code>, <code><a href="#Ø">Ø</a></code>, <code><a href="#‥">‥</a></code>, <code><a href="#…">…</a></code>, <code><a href="#⁄">⁄</a></code>, <code><a href="#→">→</a></code>, <code><a href="#∆">∆</a></code>, <code><a href="#∩">∩</a></code>, <code><a href="#∪">∪</a></code>, <code><a href="#▷">▷</a></code>, <code><a href="#◁">◁</a></code>, <code><a href="#⩓">⩓</a></code></td></tr><tr><td class="genre-source">(operator<span class="minimize">/logic</span>)</td><td><code><a href="#!in">!in</a></code>, <code><a href="#/=">/=</a></code>, <code><a href="#<"><</a></code>, <code><a href="#<="><=</a></code>, <code><a href="#=">=</a></code>, <code><a href="#=/=">=/=</a></code>, <code><a href="#==">==</a></code>, <code><a href="#>">></a></code>, <code><a href="#>=">>=</a></code>, <code><a href="#|">|</a></code>, <code><a href="#∧">∧</a></code>, <code><a href="#∨">∨</a></code>, <code><a href="#≠">≠</a></code>, <code><a href="#≤">≤</a></code>, <code><a href="#≥">≥</a></code>, <code><a href="#⊻">⊻</a></code>, <code><a href="#⊼">⊼</a></code>, <code><a href="#⊽">⊽</a></code>, <code><a href="#and">and</a></code>, <code><a href="#else">else</a></code>, <code><a href="#in">in</a></code>, <code><a href="#is">is</a></code>, <code><a href="#is_a">is_a</a></code>, <code><a href="#nand">nand</a></code>, <code><a href="#nor">nor</a></code>, <code><a href="#not">not</a></code>, <code><a href="#or">or</a></code>, <code><a href="#xor">xor</a></code></td></tr><tr><td class="genre-source">(scope<span class="minimize"></span>)</td><td><code><a href="#Clear">Clear</a></code>, <code><a href="#ClearLocal">ClearLocal</a></code>, <code><a href="#Define">Define</a></code>, <code><a href="#Local">Local</a></code>, <code><a href="#Modify">Modify</a></code>, <code><a href="#Retrieve">Retrieve</a></code></td></tr><tr><td class="genre-source">(string<span class="minimize"></span>)</td><td><code><a href="#Center">Center</a></code>, <code><a href="#Chars">Chars</a></code>, <code><a href="#Downcase">Downcase</a></code>, <code><a href="#FindHead">FindHead</a></code>, <code><a href="#Format">Format</a></code>, <code><a href="#Grid">Grid</a></code>, <code><a href="#Join">Join</a></code>, <code><a href="#Lines">Lines</a></code>, <code><a href="#Ord">Ord</a></code>, <code><a href="#Ords">Ords</a></code>, <code><a href="#PadLeft">PadLeft</a></code>, <code><a href="#PadRight">PadRight</a></code>, <code><a href="#Replace">Replace</a></code>, <code><a href="#ReplaceF">ReplaceF</a></code>, <code><a href="#ReplaceMultiple">ReplaceMultiple</a></code>, <code><a href="#Rot">Rot</a></code>, <code><a href="#Split">Split</a></code>, <code><a href="#Translate">Translate</a></code>, <code><a href="#Upcase">Upcase</a></code></td></tr><tr><td class="genre-source">(string<span class="minimize">/HTML</span>)</td><td><code><a href="#HTMLEscape">HTMLEscape</a></code></td></tr><tr><td class="genre-source">(string<span class="minimize">/regex</span>)</td><td><code><a href="#Match">Match</a></code>, <code><a href="#MatchAll">MatchAll</a></code></td></tr><tr><td class="genre-source">(unary operator<span class="minimize"></span>)</td><td><code><a href="#'">'</a></code>, <code><a href="#not">not</a></code>, <code><a href="#parentof">parentof</a></code>, <code><a href="#typeof">typeof</a></code></td></tr></table><div id="functions"><div class="function" id="!in"><h2><code>(<span class="type">(*)</span> x) !in (<span class="type">[(*)]</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>false</code> if <code>y</code> contains <code>x</code>, otherwise <code>true</code>. See also: <code><a href="#Has">Has</a></code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_whitespace"> </code><code class="at_operator">!in</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? false
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_number">30</code><code class="at_whitespace"> </code><code class="at_operator">!in</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? true</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2lhBMTNPwdDKNJbL3l4hLTGnOJULKmOAIlVSVArUBAA">Try it online!</a><button class="source-button" id="!in-button">toggle source</button><div id="!in-source" class="code-source"><pre>"!in" => lambda { |inst, x, y|
    !@@functions["Has"][inst, y, x]
},</pre></div></div><div class="function" id="%"><h2><code>(<span class="type">(*)</span> a) % (<span class="type">(*)</span> b) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Modulo. <button class="source-button" id="%-button">toggle source</button><div id="%-source" class="code-source"><pre>"%" => vectorize_dyad { |inst, a, b|
    if class_has? a, "$mod"
        a["$mod"][inst, b]
    elsif class_has? b, "$rmod"
        b["$rmod"][inst, a]
    else
        a % b
    end
},</pre></div></div><div class="function" id="unary_'"><h2><code>' (<span class="type">fn</span> func) &rarr; <span class="return">fn</span> </code><span class="genre">(unary operator)</span></h2>Forces <code>func</code> to use parent scope. <h3>Example</h3><div class="example"><code><code class="at_word">a</code><code class="at_whitespace"> </code><code class="at_operator">.=</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_whitespace">
</code><code class="at_word">Call</code><code class="at_bracket_open">[</code><code class="at_func_start">{</code><code class="at_whitespace"> </code><code class="at_word">a</code><code class="at_whitespace"> </code><code class="at_operator">.=</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_whitespace"> </code><code class="at_func_end">}</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">a</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 5
</code><code class="at_word">Call</code><code class="at_bracket_open">[</code><code class="at_operator">'</code><code class="at_func_start">{</code><code class="at_whitespace"> </code><code class="at_word">a</code><code class="at_whitespace"> </code><code class="at_operator">.=</code><code class="at_whitespace"> </code><code class="at_number">93</code><code class="at_whitespace"> </code><code class="at_func_end">}</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">a</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 93</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P1FBz1bBlMs5MScnuloBzDNWqI3lCijKzCuJTozlsreHSatD5S0xFFga//8PAA">Try it online!</a><button class="source-button" id="unary_'-button">toggle source</button><div id="unary_'-source" class="code-source"><pre>"'" => lambda { |inst, func|
    func.descend = func.ascend = false
    func
},</pre></div></div><div class="function" id="*"><h2><code>(<span class="type">(*)</span> a) * (<span class="type">(*)</span> b) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Multiplication. <button class="source-button" id="*-button">toggle source</button><div id="*-source" class="code-source"><pre>"*" => vectorize_dyad { |inst, a, b|
    if class_has? a, "$mul"
        a["$mul"][inst, b]
    elsif class_has? b, "$rmul"
        b["$rmul"][inst, a]
    elsif String === b
        b * a
    else
        a * b
    end
},</pre></div></div><div class="function" id="+"><h2><code>(<span class="type">(*)</span> a) + (<span class="type">(*)</span> b) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Addition. <button class="source-button" id="+-button">toggle source</button><div id="+-source" class="code-source"><pre>"+" => vectorize_dyad { |inst, a, b|
    if class_has? a, "$add"
        a["$add"][inst, b]
    elsif class_has? b, "$radd"
        b["$radd"][inst, a]
    else
        a + b
    end
},</pre></div></div><div class="function" id="-"><h2><code>(<span class="type">(*)</span> a) - (<span class="type">(*)</span> b) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Subtraction. <button class="source-button" id="--button">toggle source</button><div id="--source" class="code-source"><pre>"-" => vectorize_dyad { |inst, a, b|
    if class_has? a, "$sub"
        a["$sub"][inst, b]
    elsif class_has? b, "$rsub"
        b["$rsub"][inst, a]
    else
        a - b
    end
},</pre></div></div><div class="function" id="->"><h2><code>(<span class="type">expr</span> key) -> (<span class="type">(*)</span> value) &rarr; <span class="return">ConfigureValue</span> </code><span class="genre">(operator)</span></h2>Returns a ConfigureValue key-value pair of <code>key</code> and <code>value</code>. Used for configurable functions and hashes. <button class="source-button" id="->-button">toggle source</button><div id="->-source" class="code-source"><pre>"->" => lambda { |inst, key, value|
    if key.is_a?(Node) && key.head.raw == "V"
        # make a function
        params = key.children.map(&:raw)
        value.params = params
        value
    elsif key.is_a?(Token) && key.type == :word
        ConfigureValue.new key.raw, value, raw: true
    elsif key.is_a?(Node)
        keyval = inst.evaluate_node key
        ConfigureValue.new keyval, value, raw: false
    else
        keyval = inst.get_value key
        ConfigureValue.new keyval, value, raw: false
    end
},</pre></div></div><div class="function" id="."><h2><code>(<span class="type">(*)</span> obj) . (<span class="type">raw</span> prop) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator)</span></h2>Obtains the member in <code>obj</code> with <code>prop</code> as a key. </p><p><em>Note:</em> this feature is not completely finished, and may have unintended behaviours, such as <code>[1, 2, 3].size</code>. <h3>Example</h3><div class="example"><code><code class="at_word">ages</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_curry_open">&lt;~</code><code class="at_whitespace">
  </code><code class="at_word">john</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_number">32</code><code class="at_comma">,</code><code class="at_whitespace">
  </code><code class="at_word">bob</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_number">14</code><code class="at_comma">,</code><code class="at_whitespace">
  </code><code class="at_word">dude</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_number">92</code><code class="at_whitespace">
</code><code class="at_curry_close">~&gt;</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">ages</code><code class="at_operator">.</code><code class="at_word">john</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 32
</code><code class="at_whitespace">
</code><code class="at_word">Person</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Class</code><code class="at_operator">!</code><code class="at_whitespace"> </code><code class="at_func_start">{</code><code class="at_whitespace">
    </code><code class="at_word">name</code><code class="at_whitespace"> </code><code class="at_operator">.=</code><code class="at_whitespace"> </code><code class="at_abstract">_1</code><code class="at_whitespace">
    </code><code class="at_word">age</code><code class="at_whitespace"> </code><code class="at_operator">.=</code><code class="at_whitespace"> </code><code class="at_abstract">_2</code><code class="at_whitespace">
</code><code class="at_func_end">}</code><code class="at_whitespace">
</code><code class="at_word">john</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">New</code><code class="at_bracket_open">[</code><code class="at_word">Person</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;John Smith&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">43</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">john</code><code class="at_operator">.</code><code class="at_word">name</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">john</code><code class="at_operator">.</code><code class="at_word">age</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">joiner</code><code class="at_operator">-&gt;</code><code class="at_string">&quot;, &quot;</code><code class="at_bracket_close">]</code></code></div><a href="https://tio.run/##LY49D4IwEIb3@xUnc2nCx6IRGNwcDIkjIabIRTBSElrjYOSv1151u@fyPu@dslZdB3JO3cjgrsD9Coj3edAYl5ilwlM3dwxJztA/e2LaprCWUC@jtg27kp0WqspLADUtZtbcd3goYzb49iqiVhOhLPCSBPReoBQ@EE76/Ilezc8WGB15eZ5GO0QC86z93@Os5C4RPpW@h6dR0xKXPhm1zn0B">Try it online!</a><button class="source-button" id=".-button">toggle source</button><div id=".-source" class="code-source"><pre>"." => lambda { |inst, obj, prop|
    if AtClassInstance === obj || Hash === obj
        obj[prop.raw]
    elsif obj.respond_to? prop.raw.to_sym
        obj.send prop.raw.to_sym
    else
        raise 'idk'
    end
},</pre></div></div><div class="function" id=".."><h2><code>(<span class="type">number</span> x) .. (<span class="type">number</span> y) &rarr; <span class="return">[number]</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns a range from <code>x</code> to <code>y</code>, inclusive. <button class="source-button" id="..-button">toggle source</button><div id="..-source" class="code-source"><pre>".." => vectorize_dyad { |inst, x, y|
    (x..y).to_a
},</pre></div></div><div class="function" id="..."><h2><code>(<span class="type">number</span> x) ... (<span class="type">number</span> y) &rarr; <span class="return">[number]</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns a range from <code>x</code> to <code>y</code>, excluding <code>y</code>. <button class="source-button" id="...-button">toggle source</button><div id="...-source" class="code-source"><pre>"..." => vectorize_dyad { |inst, x, y|
    (x...y).to_a
},</pre></div></div><div class="function" id="/"><h2><code>(<span class="type">number</span> a) / (<span class="type">number</span> b) &rarr; <span class="return">number</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Divides <code>a</code> by <code>b</code>. If <code>a / b</code> represents an integer, the argument becomes an integer. E.g., <code>4 / 2</code> is <code>2</code>, not <code>2.0</code>. <button class="source-button" id="/-button">toggle source</button><div id="/-source" class="code-source"><pre>"/" => vectorize_dyad { |inst, a, b|
    # p 'div',a,b
    if class_has? a, "$div"
        a["$div"][inst, b]
    elsif class_has? b, "$rdiv"
        b["$rdiv"][inst, a]
    elsif AtState.func_like? a
        AtFunction.from(arity: b) { |inst, *args|
            a[inst, *args]
        }
    else
        simplify_number a * 1.0 / b
    end
},</pre></div></div><div class="function" id="//"><h2><code>(<span class="type">number|fn</span> a) // (<span class="type">number</span> b) &rarr; <span class="return">rational</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Creates a fraction <code>a / b</code>. See also: <code><a href="#Rational">Rational</a></code> <h3>Arguments</h3><p><code><span class="type">fn</span> a</code> - Returns a function which, given <code>e</code>, returns <code>Nest[a, e, b]</code>.</p><button class="source-button" id="//-button">toggle source</button><div id="//-source" class="code-source"><pre>"//" => vectorize_dyad { |inst, a, b|
    if AtState.func_like? a
        lambda { |inst, e|
            @@functions["Nest"][inst, a, e, b]
        }
    else
        Rational(a, b)
    end
},</pre></div></div><div class="function" id="/="><h2><code>(<span class="type">(*)</span> x) /= (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>true</code> if <code>x</code> does <em>not</em> equal <code>y</code>, <code>false</code> otherwise. <em>Note:</em> does not call operator equality. <button class="source-button" id="/=-button">toggle source</button><div id="/=-source" class="code-source"><pre>"/=" => vectorize_dyad { |inst, x, y|
    x != y
},</pre></div></div><div class="function" id=":"><h2><code>(<span class="type">number|fn</span> x) : (<span class="type">number|fn</span> y) &rarr; <span class="return">[number]|fn</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns a range from <code>x</code> up to <code>y</code>. If <code>x</code> and <code>y</code> are both functions, returns a function <code>f[...args]</code> which calls <code>x[...Map[y, args]]</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_operator">:</code><code class="at_number">6</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [3, 4, 5, 6]
</code><code class="at_word">add_rev</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Add</code><code class="at_operator">:</code><code class="at_word">Reverse</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">add_rev</code><code class="at_bracket_open">[</code><code class="at_number">23</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">45</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 86</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2tjKLJbL3l4h2lhHwURHwVRHAchPTEmJL0otU7CyVXBMSbEKSi1LLSpO5YLogEpGG4F0mMaCdVuY/f8PAA">Try it online!</a><button class="source-button" id=":-button">toggle source</button><div id=":-source" class="code-source"><pre>":" => vectorize_dyad { |inst, x, y|
    if AtState.func_like?(x) && AtState.func_like?(y)
        lambda { |inst, *args|
            x[inst, *args.map { |e|
                y[inst, e]
            }]
        }
    else
        (x..y).to_a
    end
},</pre></div></div><div class="function" id="::"><h2><code>(<span class="type">number</span> x) :: (<span class="type">number</span> y) &rarr; <span class="return">[number]</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns a range from <code>x</code> up to <code>y</code>. If <code>x &gt; y</code>, returns a reversed range. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_operator">::</code><code class="at_number">6</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [3, 4, 5, 6]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_number">6</code><code class="at_operator">::</code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [6, 5, 4, 3]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_operator">-</code><code class="at_number">3</code><code class="at_operator">::</code><code class="at_operator">-</code><code class="at_number">6</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [-3, -4, -5, -6]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2tjKyiyWy95eIdpYR8FER8FURwHIh8iZWVkZQ@TMwBJAaWOYnC5Qoy5Upy5Qqy5QUheoBij2/z8A">Try it online!</a><button class="source-button" id="::-button">toggle source</button><div id="::-source" class="code-source"><pre>"::" => vectorize_dyad { |inst, x, y|
    if x < y
        @@operators[":"][inst, x, y]
    else
        @@operators[":"][inst, y, x].reverse
    end
},</pre></div></div><div class="function" id="<"><h2><code>(<span class="type">(*)</span> x) < (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>true</code> if <code>x</code> is less than <code>y</code>, <code>false</code> otherwise. <button class="source-button" id="<-button">toggle source</button><div id="<-source" class="code-source"><pre>"<" => vectorize_dyad { |inst, x, y|
    x < y
},</pre></div></div><div class="function" id="<="><h2><code>(<span class="type">(*)</span> x) <= (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>true</code> if <code>x</code> is less than or equal <code>y</code>, <code>false</code> otherwise. <button class="source-button" id="<=-button">toggle source</button><div id="<=-source" class="code-source"><pre>"<=" => vectorize_dyad { |inst, x, y|
    x <= y
},</pre></div></div><div class="function" id="<|"><h2><code>(<span class="type">fn</span> x) <| (<span class="type">(*)</span> y) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator)</span></h2>Calls <code>x</code> with single parameter <code>y</code>. <button class="source-button" id="<|-button">toggle source</button><div id="<|-source" class="code-source"><pre>"<|" => lambda { |inst, x, y|
    x[inst, y]
},</pre></div></div><div class="function" id="="><h2><code>(<span class="type">(*)</span> x) = (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>true</code> if <code>x</code> equals <code>y</code>, <code>false</code> otherwise. <button class="source-button" id="=-button">toggle source</button><div id="=-source" class="code-source"><pre>"=" => vectorize_dyad { |inst, x, y|
    x == y
},</pre></div></div><div class="function" id="=/="><h2><code>(<span class="type">(*)</span> x) =/= (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if <code>x</code> does <em>not</em> equal <code>y</code>, <code>false</code> otherwise. <button class="source-button" id="=/=-button">toggle source</button><div id="=/=-source" class="code-source"><pre>"=/=" => lambda { |inst, x, y|
    x != y
},</pre></div></div><div class="function" id="=="><h2><code>(<span class="type">(*)</span> x) == (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if <code>x</code> equals <code>y</code>, <code>false</code> otherwise. <button class="source-button" id="==-button">toggle source</button><div id="==-source" class="code-source"><pre>"==" => lambda { |inst, x, y|
    if class_has? x, "$equal"
        x["$equal"][inst, y]
    elsif class_has? y, "$equal"
        y["$equal"][inst, x]
    elsif Type === x
        x.to_s == y
    elsif Type === y
        x == y.to_s
    else
        x == y
    end
},</pre></div></div><div class="function" id=">"><h2><code>(<span class="type">(*)</span> x) > (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>true</code> if <code>x</code> is greater than <code>y</code>, <code>false</code> otherwise. <button class="source-button" id=">-button">toggle source</button><div id=">-source" class="code-source"><pre>">" => vectorize_dyad { |inst, x, y|
    x > y
},</pre></div></div><div class="function" id=">="><h2><code>(<span class="type">(*)</span> x) >= (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>true</code> if <code>x</code> is greater than or equal to <code>y</code>, <code>false</code> otherwise. <button class="source-button" id=">=-button">toggle source</button><div id=">=-source" class="code-source"><pre>">=" => vectorize_dyad { |inst, x, y|
    x >= y
},</pre></div></div><div class="function" id="^"><h2><code>(<span class="type">(*)</span> a) ^ (<span class="type">(*)</span> b) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Exponentiation. <button class="source-button" id="^-button">toggle source</button><div id="^-source" class="code-source"><pre>"^" => vectorize_dyad { |inst, a, b|
    if class_has? a, "$pow"
        a["$pow"][inst, b]
    elsif class_has? b, "$rpow"
        b["$rpow"][inst, a]
    else
        a ** b
    end
},</pre></div></div><div class="function" id="^^"><h2><code>(<span class="type">[(*)]</span> a) ^^ (<span class="type">(*)</span> b) &rarr; <span class="return">[(*)]</span> </code><span class="genre">(operator)</span></h2>Removes all <code>b</code> from <code>a</code>. See also: <a href="#Remove"><code>Remove</code></a>. <button class="source-button" id="^^-button">toggle source</button><div id="^^-source" class="code-source"><pre>"^^" => lambda { |inst, a, b|
    @@functions["Remove"][inst, a, b]
},</pre></div></div><div class="function" id="|"><h2><code>(<span class="type">(*)</span> a) | (<span class="type">fn|(*)</span> b) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator/logic)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>true</code> if <code>a</code> divides evenly into <code>b</code>. <h3>Arguments</h3><p><code><span class="type">fn</span> b</code> - When <code>b</code> a function, calls <code>b[a]</code>.</p><button class="source-button" id="|-button">toggle source</button><div id="|-source" class="code-source"><pre>"|" => vectorize_dyad { |inst, a, b|
    if AtState.func_like? b
        b[inst, a]
    else
        @@operators["%"][inst, b, a] == 0
    end
},</pre></div></div><div class="function" id="|>"><h2><code>(<span class="type">(*)</span> x) |> (<span class="type">fn</span> y) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator)</span></h2>Calls <code>y</code> with single parameter <code>x</code>. <button class="source-button" id="|>-button">toggle source</button><div id="|>-source" class="code-source"><pre>"|>" => lambda { |inst, x, y|
    y[inst, x]
},</pre></div></div><div class="function" id="±"><h2><code>(<span class="type">(*)</span> a) ± (<span class="type">(*)</span> b) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code><a href="#PlusMinus">PlusMinus</a>[a, b]</a></code>. <button class="source-button" id="±-button">toggle source</button><div id="±-source" class="code-source"><pre>"±" => vectorize_dyad { |inst, a, b|
    @@functions["PlusMinus"][inst, a, b]
},</pre></div></div><div class="function" id="Ø"><h2><code>(<span class="type">[(*)]</span> a) Ø (<span class="type">[(*)]</span> b) &rarr; <span class="return">[(*)]</span> </code><span class="genre">(operator)</span></h2>Returns the <code>a</code> without all elements of <code>b</code>. See also: <a href="#Complement"><code>Complement</code></a>. <button class="source-button" id="Ø-button">toggle source</button><div id="Ø-source" class="code-source"><pre>"Ø" => lambda { |inst, a, b|
    a - b
},</pre></div></div><div class="function" id="‥"><h2><code>(<span class="type">number</span> x) ‥ (<span class="type">number</span> y) &rarr; <span class="return">[number]</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns a range from <code>x</code> to <code>y</code>, inclusive. See also: <a href="#.."><code>..</code></a>. <button class="source-button" id="‥-button">toggle source</button><div id="‥-source" class="code-source"><pre>"‥" => vectorize_dyad { |inst, x, y|
    @@operators[".."][inst, x, y]
},</pre></div></div><div class="function" id="…"><h2><code>(<span class="type">number</span> x) … (<span class="type">number</span> y) &rarr; <span class="return">[number]</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns a range from <code>x</code> to <code>y</code>, excluding <code>y</code>. See also: <a href="#..."><code>...</code></a>. <button class="source-button" id="…-button">toggle source</button><div id="…-source" class="code-source"><pre>"…" => vectorize_dyad { |inst, x, y|
    @@operators["..."][inst, x, y]
},</pre></div></div><div class="function" id="⁄"><h2><code>(<span class="type">number</span> a) ⁄ (<span class="type">number</span> b) &rarr; <span class="return">rational</span> </code><span class="genre">(operator)</span></h2><p><em>Vectorizes dyadically.</em></p>Creates a fraction <code>a / b</code>. See also: <code><a href="#Rational">Rational</a></code> and <code><a href="#//">//</a></code>. <button class="source-button" id="⁄-button">toggle source</button><div id="⁄-source" class="code-source"><pre>"⁄" => vectorize_dyad { |inst, a, b|
    Rational(a, b)
},</pre></div></div><div class="function" id="→"><h2><code>(<span class="type">expr</span> key) → (<span class="type">(*)</span> value) &rarr; <span class="return">ConfigureValue</span> </code><span class="genre">(operator)</span></h2>Returns a ConfigureValue key-value pair of <code>key</code> and <code>value</code>. See also: <a href="#->"><code>-&gt;</code></a>. <button class="source-button" id="→-button">toggle source</button><div id="→-source" class="code-source"><pre>"→" => lambda { |inst, key, value|
    @@operators["->"][inst, key, value]
},</pre></div></div><div class="function" id="∆"><h2><code>(<span class="type">[(*)]</span> a) ∆ (<span class="type">[(*)]</span> b) &rarr; <span class="return">[(*)]</span> </code><span class="genre">(operator)</span></h2>Returns the symmetric difference between <code>a</code> and <code>b</code>. <button class="source-button" id="∆-button">toggle source</button><div id="∆-source" class="code-source"><pre>"∆" => lambda { |inst, a, b|
    (a | b) - (a & b)
},</pre></div></div><div class="function" id="∧"><h2><code>(<span class="type">(*)</span> a) ∧ (<span class="type">(*)</span> b) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if both of <code>a</code> and <code>b</code> are truthy, <code>false</code> otherwise. Short-circuits. See also: <a href="#and"><code>and</code></a>. <button class="source-button" id="∧-button">toggle source</button><div id="∧-source" class="code-source"><pre>"∧" => held(true, true) { |inst, a, b|
    @@operators["and"][inst, a, b]
},</pre></div></div><div class="function" id="∨"><h2><code>(<span class="type">(*)</span> a) ∨ (<span class="type">(*)</span> b) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>a</code> if <code>a</code> is truthy, <code>b</code> otherwise. Short-circuits. See also: <a href="#or"><code>or</code></a>. <button class="source-button" id="∨-button">toggle source</button><div id="∨-source" class="code-source"><pre>"∨" => held(true, true) { |inst, a, b|
    @@operators["or"][inst, a, b]
},</pre></div></div><div class="function" id="∩"><h2><code>(<span class="type">[(*)]</span> a) ∩ (<span class="type">[(*)]</span> b) &rarr; <span class="return">[(*)]</span> </code><span class="genre">(operator)</span></h2>Returns the intersection of <code>a</code> and <code>b</code>. <button class="source-button" id="∩-button">toggle source</button><div id="∩-source" class="code-source"><pre>"∩" => lambda { |inst, a, b|
    a & b
},</pre></div></div><div class="function" id="∪"><h2><code>(<span class="type">[(*)]</span> a) ∪ (<span class="type">[(*)]</span> b) &rarr; <span class="return">[(*)]</span> </code><span class="genre">(operator)</span></h2>Returns the union of <code>a</code> and <code>b</code>. <button class="source-button" id="∪-button">toggle source</button><div id="∪-source" class="code-source"><pre>"∪" => lambda { |inst, a, b|
    a | b
},</pre></div></div><div class="function" id="≠"><h2><code>(<span class="type">(*)</span> x) ≠ (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>true</code> if <code>x</code> does <em>not</em> equal <code>y</code>, <code>false</code> otherwise. See also: <a href="#/="><code>/=</code></a>. <button class="source-button" id="≠-button">toggle source</button><div id="≠-source" class="code-source"><pre>"≠" => vectorize_dyad { |inst, x, y|
    x != y
},</pre></div></div><div class="function" id="≤"><h2><code>(<span class="type">(*)</span> x) ≤ (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>true</code> if <code>x</code> is less than or equal <code>y</code>, <code>false</code> otherwise. See also: <a href="#<="><code>&lt;=</code></a>. <button class="source-button" id="≤-button">toggle source</button><div id="≤-source" class="code-source"><pre>"≤" => vectorize_dyad { |inst, x, y|
    x <= y
},</pre></div></div><div class="function" id="≥"><h2><code>(<span class="type">(*)</span> x) ≥ (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>true</code> if <code>x</code> is greater than or equal to <code>y</code>, <code>false</code> otherwise. See also: <a href="#>="><code>&gt;=</code></a>. <button class="source-button" id="≥-button">toggle source</button><div id="≥-source" class="code-source"><pre>"≥" => vectorize_dyad { |inst, x, y|
    x >= y
},</pre></div></div><div class="function" id="⊻"><h2><code>(<span class="type">(*)</span> a) ⊻ (<span class="type">(*)</span> b) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if exactly one of <code>a</code> and <code>b</code> is truthy, <code>false</code> otherwise. See also: <a href="#xor"><code>xor</code></a>. <button class="source-button" id="⊻-button">toggle source</button><div id="⊻-source" class="code-source"><pre>"⊻" => lambda { |inst, a, b|
    @@operators["xor"][inst, a, b]
},</pre></div></div><div class="function" id="⊼"><h2><code>(<span class="type">(*)</span> a) ⊼ (<span class="type">(*)</span> b) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if one of <code>a</code> and <code>b</code> are falsey, <code>false</code> otherwise. Short-circuits. See also: <a href="#nand"><code>nand</code></a>. <button class="source-button" id="⊼-button">toggle source</button><div id="⊼-source" class="code-source"><pre>"⊼" => held(true, true) { |inst, a, b|
    @@operators["nand"][inst, a, b]
},</pre></div></div><div class="function" id="⊽"><h2><code>(<span class="type">(*)</span> a) ⊽ (<span class="type">(*)</span> b) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if both of <code>a</code> and <code>b</code> are falsey, <code>false</code> otherwise. Short-circuits. See also: <a href="#nor"><code>nor</code></a>. <button class="source-button" id="⊽-button">toggle source</button><div id="⊽-source" class="code-source"><pre>"⊽" => held(true, true) { |inst, a, b|
    @@operators["nor"][inst, a, b]
},</pre></div></div><div class="function" id="▷"><h2><code>(<span class="type">(*)</span> x) ▷ (<span class="type">fn</span> y) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator)</span></h2>Calls <code>y</code> with single parameter <code>x</code>. See also: <a href="#|>"><code>|&gt;</code></a>. <button class="source-button" id="▷-button">toggle source</button><div id="▷-source" class="code-source"><pre>"▷" => lambda { |inst, x, y|
    @@operators["|>"][inst, x, y]
},</pre></div></div><div class="function" id="◁"><h2><code>(<span class="type">fn</span> x) ◁ (<span class="type">(*)</span> y) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator)</span></h2>Calls <code>x</code> with single parameter <code>y</code>. See also: <a href="#<|"><code>&lt;|</code></a>. <button class="source-button" id="◁-button">toggle source</button><div id="◁-source" class="code-source"><pre>"◁" => lambda { |inst, x, y|
    @@operators["<|"][inst, x, y]
},</pre></div></div><div class="function" id="⩓"><h2><code>(<span class="type">[(*)]</span> a) ⩓ (<span class="type">(*)</span> b) &rarr; <span class="return">[(*)]</span> </code><span class="genre">(operator)</span></h2>Removes all <code>b</code> from <code>a</code>. See also: <a href="#^^"><code>a ^^ b</code></a>. <button class="source-button" id="⩓-button">toggle source</button><div id="⩓-source" class="code-source"><pre>       "⩓" => lambda { |inst, a, b|
           @@functions["Remove"][inst, a, b]
       },
</pre></div></div><div class="function" id="Abs"><h2><code>Abs[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates the absolute value of <code>n</code>. <button class="source-button" id="Abs-button">toggle source</button><div id="Abs-source" class="code-source"><pre>"Abs" => vectorize_monad { |inst, n|
    n.abs
},</pre></div></div><div class="function" id="Accumulate"><h2><code>Accumulate[<span class="type">[number]</span> list] &rarr; <span class="return">[number]</span> </code><span class="genre">(list)</span></h2>Generates the cumulative sums of <code>list</code>. <button class="source-button" id="Accumulate-button">toggle source</button><div id="Accumulate-source" class="code-source"><pre>"Accumulate" => lambda { |inst, list|
    list.prefixes.map { |e| @@functions["Sum"][inst, e] }
},</pre></div></div><div class="function" id="Add"><h2><code>Add[<span class="type">number</span> ...args] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2>Adds each of <code>args</code> together. <button class="source-button" id="Add-button">toggle source</button><div id="Add-source" class="code-source"><pre>"Add" => lambda { |inst, *args|
    @@functions["Sum"][inst, args]
},</pre></div></div><div class="function" id="Agenda"><h2><code>Agenda[<span class="type">fn</span> flist, <span class="type">fn[(*) -> number]</span> cond, ...args] &rarr; <span class="return">fn[(*) -> (*)]</span> </code><span class="genre">(functional)</span></h2><p><em>Curries.</em></p>Returns a function <code>fn[...args]</code> such that the <code>cond[...args]</code>th element of <code>flist</code> is called upon <code>args</code>. <h3>Arguments</h3><p><code><span class="type">fn</span> flist</code> - A list of functions.</p><p><code><span class="type">fn[(*) -> number]</span> cond</code> - A function which produces an index by which to obtain a function from <code>flist</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">f</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Agenda</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_word">Halve</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_func_start">{</code><code class="at_number">3</code><code class="at_whitespace"> </code><code class="at_operator">*</code><code class="at_whitespace"> </code><code class="at_abstract">_</code><code class="at_whitespace"> </code><code class="at_operator">+</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_func_end">}</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Odd</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Map</code><code class="at_bracket_open">[</code><code class="at_word">f</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [4, 1, 10, 2]</code></code></div><a href="https://tio.run/##DcnNCkBAFAbQvaf41tyFwUpJdjZif7vpZsZPSdJkI88@bM9R73VaXQgzygrN4g6rDG51vx3hyRFjRALzCqG3VqLh2g7PnZ48E9gQMkJOKEQkqmtwQfjRpH9ICB8">Try it online!</a><button class="source-button" id="Agenda-button">toggle source</button><div id="Agenda-source" class="code-source"><pre>       "Agenda" => curry(3) { |inst, flist, cond, *args|
           unless AtState.func_like? cond
               ind = cond
           else
               ind = from_numlike cond[inst, *args]
           end
           flist[ind][inst, *args]
       },</pre></div></div><div class="function" id="All"><h2><code>All[<span class="type">fn|[(*)]</span> f, <span class="type">[(*)]</span> list?] &rarr; <span class="return">bool</span> </code><span class="genre">(logic)</span></h2>Returns <code>true</code> if all members of <code>Map[f, list]</code> are truthy. <h3>Arguments</h3><p><code><span class="type">[(*)]</span> list?</code> - When omitted, returns <code>true</code> if all members of <code>f</code> are truthy. Otherwise, returns <code>false</code>. When specified, <code>f</code> <em>must</em> be a function.</p><button class="source-button" id="All-button">toggle source</button><div id="All-source" class="code-source"><pre>"All" => lambda { |inst, f, list=nil|
    if list.nil?
        f.all? { |e| AtState.truthy? e }
    else
        list.all? { |e| AtState.truthy?(f[inst, e]) }
    end
},</pre></div></div><div class="function" id="AllInput"><h2><code>AllInput[] &rarr; <span class="return">string</span> </code><span class="genre">(IO)</span></h2>Reads all input from the instance's source input. <button class="source-button" id="AllInput-button">toggle source</button><div id="AllInput-source" class="code-source"><pre>"AllInput" => lambda { |inst|
    inst.in.read
},
</pre></div></div><div class="function" id="and"><h2><code>(<span class="type">(*)</span> a) and (<span class="type">(*)</span> b) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if both of <code>a</code> and <code>b</code> are truthy, <code>false</code> otherwise. Short-circuits. <button class="source-button" id="and-button">toggle source</button><div id="and-source" class="code-source"><pre>"and" => lambda { |inst, a, b|
    lres = inst.evaluate_node_safe a
    if AtState.falsey? lres
        lres
    else
        inst.evaluate_node_safe b
    end
},</pre></div></div><div class="function" id="Any"><h2><code>Any[<span class="type">fn|[(*)]</span> f, <span class="type">[(*)]</span> list?] &rarr; <span class="return">bool</span> </code><span class="genre">(logic)</span></h2>Returns <code>true</code> if any member of <code>Map[f, list]</code> is truthy. <h3>Arguments</h3><p><code><span class="type">[(*)]</span> list?</code> - When omitted, returns <code>true</code> if any member of <code>f</code> is truthy. Otherwise, returns <code>false</code>. When specified, <code>f</code> <em>must</em> be a function.</p><button class="source-button" id="Any-button">toggle source</button><div id="Any-source" class="code-source"><pre>"Any" => lambda { |inst, f, list=nil|
    if list.nil?
        f.any? { |e| AtState.truthy? e }
    else
        list.any? { |e| AtState.truthy?(f[inst, e]) }
    end
},</pre></div></div><div class="function" id="Applier"><h2><code>Applier[<span class="type">fn</span> func] &rarr; <span class="return">fn[[(*)]]</span> </code><span class="genre">(functional)</span></h2>Returns a function <code>fn[...args]</code> which applies <code>func</code> to <code>args</code>. <h3>Example</h3><div class="example"><code><code class="at_word">f</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Applier</code><code class="at_bracket_open">[</code><code class="at_word">Print</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">f</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 1 2 3 4 5</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P03BylbBsaAgJzO1KDqgKDOvJJYrLdrQyjSWC8yLNtRRMNJRMNZRMNFRAAra2ysYKhgpGCuYKJj@/w8A">Try it online!</a><button class="source-button" id="Applier-button">toggle source</button><div id="Applier-source" class="code-source"><pre>"Applier" => lambda { |inst, func|
    lambda { |inst, args|
        func[inst, *args]
    }
},</pre></div></div><div class="function" id="Apply"><h2><code>Apply[<span class="type">fn</span> func, <span class="type">[(*)]</span> arg_arr] &rarr; <span class="return">(*)</span> </code><span class="genre">(functional)</span></h2>Calls <code>func</code> with <code>arg_arr</code>. <h3>Example</h3><div class="example"><code><code class="at_word">args</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_word">Reverse</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_string">&quot;hello&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;world&quot;</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_word">Apply</code><code class="at_bracket_open">[</code><code class="at_word">Map</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">args</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;olleh&quot;, &quot;dlrow&quot;]</code></code></div><a href="https://tio.run/##FctBCoAgEEbhfaf4mbUnCCI6QBBtxYXUkMGQMkrR6S13Dx6fL8VvgWv1emT0AyxWvlkzmz8psEgkA3qiyk5wcN2i51UsppTktbNPBs22M46wFEU4NLKLxodcrR8">Try it online!</a><button class="source-button" id="Apply-button">toggle source</button><div id="Apply-source" class="code-source"><pre>"Apply" => lambda { |inst, func, arg_arr|
    func[inst, *arg_arr]
},</pre></div></div><div class="function" id="ArcCos"><h2><code>ArcCos[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>cos</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="ArcCos-button">toggle source</button><div id="ArcCos-source" class="code-source"><pre>"ArcCos" => vectorize_monad { |inst, n|
    Math::acos n
},</pre></div></div><div class="function" id="ArcCosh"><h2><code>ArcCosh[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>cosh</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="ArcCosh-button">toggle source</button><div id="ArcCosh-source" class="code-source"><pre>"ArcCosh" => vectorize_monad { |inst, n|
    Math::acosh n
},</pre></div></div><div class="function" id="ArcSin"><h2><code>ArcSin[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>sin</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="ArcSin-button">toggle source</button><div id="ArcSin-source" class="code-source"><pre>"ArcSin" => vectorize_monad { |inst, n|
    Math::asin n
},</pre></div></div><div class="function" id="ArcSinh"><h2><code>ArcSinh[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>sinh</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="ArcSinh-button">toggle source</button><div id="ArcSinh-source" class="code-source"><pre>"ArcSinh" => vectorize_monad { |inst, n|
    Math::asinh n
},</pre></div></div><div class="function" id="ArcTan"><h2><code>ArcTan[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>tan</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="ArcTan-button">toggle source</button><div id="ArcTan-source" class="code-source"><pre>"ArcTan" => vectorize_monad { |inst, n|
    Math::atan n
},</pre></div></div><div class="function" id="ArcTan2"><h2><code>ArcTan2[<span class="type">number</span> y, <span class="type">number</span> x] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes dyadically.</em></p>Calculates the principal value of <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>tan</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>(</mo><mi>y</mi><mo>/</mo><mi>x</mi><mo>)</mo></math>, or <code>atan2(y, x)</code>. <button class="source-button" id="ArcTan2-button">toggle source</button><div id="ArcTan2-source" class="code-source"><pre>"ArcTan2" => vectorize_dyad { |inst, y, x|
    Math::atan2 y, x
},</pre></div></div><div class="function" id="ArcTanh"><h2><code>ArcTanh[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>tanh</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="ArcTanh-button">toggle source</button><div id="ArcTanh-source" class="code-source"><pre>"ArcTanh" => vectorize_monad { |inst, n|
    Math::atanh n
},</pre></div></div><div class="function" id="Arg"><h2><code>Arg[<span class="type">number</span> n=0] &rarr; <span class="return">string</span> </code><span class="genre">(IO)</span></h2>Returns the <code>n</code>th argument given to the program. <button class="source-button" id="Arg-button">toggle source</button><div id="Arg-source" class="code-source"><pre>"Arg" => lambda { |inst, n=0|
    ARGV[n + 1]
},</pre></div></div><div class="function" id="ArrayFlatten"><h2><code>ArrayFlatten[<span class="type">[[list]]</span> list] &rarr; <span class="return">[list]</span> </code><span class="genre">(list/matrix)</span></h2>Flattens the matrices held in the matrix-like <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">m1</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">m2</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_number">0</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">7</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">7</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">ArrayFlatten</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_word">m1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">m2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">m1</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_word">m2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">m1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">m2</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">??  1 2 0 0 1 2
</code><code class="at_comment">??  3 4 7 7 3 4
</code><code class="at_comment">??  0 0 1 2 0 0
</code><code class="at_comment">??  7 7 3 4 7 7</code></code></div><a href="https://tio.run/##LUtJCsMwDLz3FfMAHWwnYCiUUCj9hNBBlEALcSmpL3m9IzlhEKPZtFZ9vefWSsT1BuZISELggTCKXEo67EAIbmdCNvvx@f8W3fi@rro9F611/rLVis1LsotePj53RGCraQIiEoLBuOsBI7LBuOszc@76zJxb2wE">Try it online!</a><button class="source-button" id="ArrayFlatten-button">toggle source</button><div id="ArrayFlatten-source" class="code-source"><pre>       "ArrayFlatten" => lambda { |inst, list|
           inner = list.flatten(1).first { |e| Array === e }
           size = [*dim(inner)]
           if size.size < 2
               list
           else
               list.map { |row|
                   row.inject { |acc, mat|
                       unless Array === mat
                           mat = mat_from(*size, mat)
                       end
                       stitch acc, mat
                   }
               }.flatten(1)
           end
       },</pre></div></div><div class="function" id="Average"><h2><code>Average[<span class="type">[number]</span> list] &rarr; <span class="return">number</span> </code><span class="genre">(list)</span></h2>Returns the average of <code>list</code>, that is, the sum of the elements divided by the length. <button class="source-button" id="Average-button">toggle source</button><div id="Average-source" class="code-source"><pre>"Average" => lambda { |inst, list|
    list.average
},</pre></div></div><div class="function" id="Bin"><h2><code>Bin[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/bases)</span></h2><p><em>Vectorizes monadically.</em></p>Converts <code>n</code> to base <code>2</code>. <button class="source-button" id="Bin-button">toggle source</button><div id="Bin-source" class="code-source"><pre>"Bin" => vectorize_monad { |inst, n|
    @@functions["ToBase"][inst, n, 2]
},</pre></div></div><div class="function" id="Bisect"><h2><code>Bisect[<span class="type">[(*)]</span> list, **opts] &rarr; <span class="return">[[(*)], [(*)]]</span> </code><span class="genre">(list)</span></h2>Splits <code>list</code> in half. <h3>Options</h3><p><code>bias</code> &rarr; what should be done with the center element, in the case of odd lists. <code>"none"</code>: drop it (default). <code>"left"</code>: append center to the left half. <code>"right"</code>: append center to the right half.</p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Bisect</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">4</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1, 2], [3, 4]]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Bisect</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1, 2], [4, 5]]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Bisect</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">bias</code><code class="at_operator">-&gt;</code><code class="at_reference">$none</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1, 2], [4, 5]]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Bisect</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">bias</code><code class="at_operator">-&gt;</code><code class="at_reference">$left</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1, 2, 3], [4, 5]]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Bisect</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">bias</code><code class="at_operator">-&gt;</code><code class="at_reference">$right</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1, 2], [3, 4, 5]]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2imzODW5JNrQyiQ2lsveXiE62lBHwShWRyHaWEcBJIamzBRdmYmOgikWZToKSZmJxbp2Knn5eamk6slJTStB1qOjYEyMtqLM9IwSbN4A6/v/HwA">Try it online!</a><button class="source-button" id="Bisect-button">toggle source</button><div id="Bisect-source" class="code-source"><pre>       "Bisect" => configurable(arity: 1) { |inst, list, **opts|
           opts[:bias] ||= "none"
           right_upper = list.size / 2.0
           left_lower = list.size / 2.0
           case opts[:bias]
               when "none"
                   right_upper = right_upper.floor
                   left_lower = left_lower.ceil
               when "left"
                   right_upper = right_upper.ceil
                   left_lower = left_lower.ceil
               when "right"
                   right_upper = right_upper.floor
                   left_lower = left_lower.floor
               else
                   STDERR.puts "Invalid option to `Bisect`: #{opts[:bias].inspect}"
           end
           [list[0...right_upper], list[left_lower..-1]]
       },</pre></div></div><div class="function" id="Bond"><h2><code>Bond[<span class="type">fn</span> func, <span class="type">(*)</span> larg] &rarr; <span class="return">fn</span> </code><span class="genre">(functional)</span></h2>Bonds <code>larg</code> to the left side of <code>func</code>. That is, <code>Bond[func, larg][...args]</code> is the same as <code>func[larg, ...args]</code>. <button class="source-button" id="Bond-button">toggle source</button><div id="Bond-source" class="code-source"><pre>"Bond" => lambda { |inst, func, larg|
    lambda { |inst, *args|
        func[inst, larg, *args]
    }
},</pre></div></div><div class="function" id="Bounce"><h2><code>Bounce[<span class="type">[(*)]</span> list] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result.</em></p>"Bounces" a list. That is, returns the list concatenated with itself reversed, where the last element of the original array is not duplicated in the concatenation. Inspiration: <a href="https://github.com/DennisMitchell/jellylanguage/wiki/Atoms#%C5%92-atoms-other-monads">Jelly's <code>ŒB</code> monadic atom</code></a>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Bounce</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 3, 2, 1]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Bounce</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? HellolleH
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Bounce</code><code class="at_bracket_open">[</code><code class="at_number">942</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 94249</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2im/NC85NdrQyjg2lsveXiHaUEfBSEfBGEwaxnKhqFLySM3JyVeCqASzc3JSPVDVWJoYQeSBDBPL//8B">Try it online!</a><button class="source-button" id="Bounce-button">toggle source</button><div id="Bounce-source" class="code-source"><pre>"Bounce" => lambda { |inst, list|
    listified = inst.cast_list(list)
    bounced = listified[0..-2] + listified.reverse
    reform_list bounced, list
},</pre></div></div><div class="function" id="C"><h2><code>C[<span class="type">(*)</span> arg] &rarr; <span class="return">fn</span> </code><span class="genre">(functional)</span></h2>Returns a function that returns <code>arg</code>. <button class="source-button" id="C-button">toggle source</button><div id="C-source" class="code-source"><pre>"C" => lambda { |inst, arg|
    lambda { |inst, *discard|
        arg
    }
},</pre></div></div><div class="function" id="Call"><h2><code>Call[<span class="type">fn</span> f, <span class="type">(*)</span> ...args] &rarr; <span class="return">(*)</span> </code><span class="genre">(functional)</span></h2>Calls <code>f</code> over <code>args</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Call</code><code class="at_bracket_open">[</code><code class="at_word">Print</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;Hello&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;World&quot;</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? Hello World</code></code></div><a href="https://tio.run/##SywpSUzOSP3/3zkxJyc6oCgzr0RHQckjNScnXwnICM8vyklRiuWyt1cAiymABf7/BwA">Try it online!</a><button class="source-button" id="Call-button">toggle source</button><div id="Call-source" class="code-source"><pre>"Call" => lambda { |inst, f, *args|
    f[inst, *args]
},</pre></div></div><div class="function" id="CallN"><h2><code>CallN[<span class="type">fn</span> f, <span class="type">number</span> n, <span class="type">(*)</span> ...args] &rarr; <span class="return">(*)</span> </code><span class="genre">(functional)</span></h2>Calls <code>f</code> <code>n</code> times over <code>args</code>, storing the results in a list. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">CallN</code><code class="at_bracket_open">[</code><code class="at_word">Random</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">10</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 4 random integers between 3 and 10
</code><code class="at_comment">?? e.g.:
</code><code class="at_comment">?? [5, 8, 10, 9]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2jkxJ8cvOigxLyU/V0fBREfBWEfB0CA2lsveXsFEoQgsrgBUmJqeWlSskJRaUp6amqdgrACUAKoDqUrVS9ezAjGiTXUULEC6dRQsY///BwA">Try it online!</a><button class="source-button" id="CallN-button">toggle source</button><div id="CallN-source" class="code-source"><pre>"CallN" => lambda { |inst, f, n, *args|
    res = []
    n.times {
        res << f[inst, *args]
    }
    res
},</pre></div></div><div class="function" id="Ceiling"><h2><code>Ceiling[<span class="type">number</span> n, <span class="type">number</span> r?] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>n</code> rounded up to the nearest integer. <h3>Arguments</h3><p><code><span class="type">number</span> r?</code> - the precision to round. No precision if omitted.</p><button class="source-button" id="Ceiling-button">toggle source</button><div id="Ceiling-source" class="code-source"><pre>"Ceiling" => vectorize_dyad { |inst, n, r=nil|
    if r.nil?
        n.ceil
    else
        n.ceil(r)
    end
},</pre></div></div><div class="function" id="Center"><h2><code>Center[<span class="type">[(*)]</span> ent, <span class="type">number</span> amt, <span class="type">(*)</span> pad?] &rarr; <span class="return">string</span> </code><span class="genre">(string)</span></h2>Centers <code>ent</code> to <code>amt</code> elements, padding with <code>pad</code>. <h3>Arguments</h3><p><code><span class="type">(*)</span> pad?</code> - Default: <code>" "</code> or <code>0</code>, depending on <code>ent</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Center</code><code class="at_bracket_open">[</code><code class="at_string">&quot;a&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot; a &quot;
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Center</code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">6</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [0, 0, 1, 2, 0, 0]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Center</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hi!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">10</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;~&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_string">&quot;~~~Hi!~~~~&quot;</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Center</code><code class="at_bracket_open">[</code><code class="at_number">9</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 11911</code></code></div><a href="https://tio.run/##XYwxCoAwDEX3niJmzmAUBScHF0f30qFIwS4dpHOuXqOdKoQQ/n95Pmd/XqGU444p2y2kHG6LHglG58y6AoIHNE1tmWBwBHMlbE@g84bf0bsWxz126mOtUFB/UEQ00y0/80IwKVm9zAtzKQ8">Try it online!</a><button class="source-button" id="Center-button">toggle source</button><div id="Center-source" class="code-source"><pre>       "Center" => lambda { |inst, ent, amt, pad=NOT_PROVIDED|
           list = inst.cast_list(ent)
           deficit = amt - list.size
           return reform_list(list, ent) if deficit <= 0
           pad = default_sentinel(pad) {
               inst.default_cell_type(list[0]) rescue 0
           }
           before = deficit / 2
           after = deficit - before
           result = Array.new(before) { pad } + list + Array.new(after) { pad }
           reform_list(result, ent)
       },</pre></div></div><div class="function" id="Char"><h2><code>Char[<span class="type">number|[number]</span> arg] &rarr; <span class="return">string</span> </code><span class="genre">(conversion)</span></h2>Converts <code>arg</code> to characters. <h3>Arguments</h3><p><code><span class="type">number</span> arg</code> - Converts <code>arg</code> to a character.</p><p><code><span class="type">[number]</span> arg</code> - Converts <code>arg</code> to a string of char codes.</p><button class="source-button" id="Char-button">toggle source</button><div id="Char-source" class="code-source"><pre>"Char" => lambda { |inst, arg|
    if arg.is_a? Array
        arg.map(&:chr).join
    else
        arg.chr
    end
},</pre></div></div><div class="function" id="Chars"><h2><code>Chars[<span class="type">string</span> str] &rarr; <span class="return">[string]</span> </code><span class="genre">(string)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the characters of <code>str</code>. <button class="source-button" id="Chars-button">toggle source</button><div id="Chars-source" class="code-source"><pre>"Chars" => vectorize_monad { |inst, str|
    str.chars
},</pre></div></div><div class="function" id="Chop"><h2><code>Chop[<span class="type">[(*)]</span> list, size, **opts] &rarr; <span class="return">[[(*)]]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result's elements.</em></p>Chops <code>list</code> into groups of length <code>size</code>. <h3>Options</h3><p><code>extra</code> &rarr; Boolean: keeps elements which don't add up to <code>size</code> if <code>true</code>. Default: <code>true</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Chop</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">8</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1, 2, 3], [4, 5, 6], [7, 8]]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Chop</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">8</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">extra</code><code class="at_operator">-&gt;</code><code class="at_word">false</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1, 2, 3], [4, 5, 6]]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Chop</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;Hel&quot;, &quot;lo,&quot;, &quot; Wo&quot;, &quot;rld&quot;, &quot;!&quot;]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Chop</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">12</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1], [2, 3], [4, 5, 6], [7], [8, 9], [10, 11, 12]]</code></code></div><a href="https://tio.run/##dU@7DsIwDNz5CjezkXB5FYZ2YGFkY7AyRBBUpIhUIQN/H@yliNfis@U739nl7E69L@WQrrfMuz4OTNsGYW7tpOuAmRBqHRF4gbBEWGm7RmiE8a1C8I@c3LS9uHD3/2@8ac3ehxARjjGFc2Ve7rqQ0chSQQgKQlKozEcAEpPRa8yvrr8@0CKRN4o0QyBRUm1tKU8">Try it online!</a><button class="source-button" id="Chop-button">toggle source</button><div id="Chop-source" class="code-source"><pre>"Chop" => lambda { |inst, list, size, **opts|
    extra = get_default opts, :extra, true
    res = chop inst.cast_list(list), size, extra
    res.map { |e|
        reform_list e, list
    }
},</pre></div></div><div class="function" id="Chunk"><h2><code>Chunk[<span class="type">[(*)]</span> list, <span class="type">fn</span> f?] &rarr; <span class="return">[[(*), [(*)]]]</span> </code><span class="genre">(list)</span></h2>Chunks <code>list</code> into runs of consecutive values. Returns an array of members which look like <code>[el, els]</code>, where <code>el</code> is the principal run value, and <code>els</code> are the values in that run. <h3>Arguments</h3><p><code><span class="type">fn</span> f?</code> - When specified, maps each value <code>el</code> in <code>list</code> over <code>f</code>, then uses <code>f[el]</code> as the principal run value.</p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Chunk</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1, [1]], [2, [2]], [3, [3]], [2, [2, 2]], [3, [3]]]
</code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">Chunk</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_operator">-</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_operator">-</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_operator">-</code><code class="at_number">2</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Square</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">??   1 [1, -1, 1, 1]
</code><code class="at_comment">??   4           [2]
</code><code class="at_comment">??   9       [3, -3]
</code><code class="at_comment">??  25           [5]
</code><code class="at_comment">??   4          [-2]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2jmjNC87WiHaUEfBSEfBGEyCGLEKsbFc9vYK0SCZaMPYWCBpBMJgljEII8SAWpCFY7lcMosLchIrkU3XBWIIgtijC8SmQMpIAagzuLA0sSgVaqWCgiGKDqigiQICAJ0BEbSECYBNhAgamSKrNMXUHq1rFPv/PwA">Try it online!</a><button class="source-button" id="Chunk-button">toggle source</button><div id="Chunk-source" class="code-source"><pre>"Chunk" => lambda { |inst, list, f=nil|
    list = inst.cast_list list
    if f.nil?
        list.chunk { |e| e }.to_a
    else
        list.chunk { |e| f[inst, e] }.to_a
    end
},</pre></div></div><div class="function" id="Class"><h2><code>Class[<span class="type">fn</span> body] &rarr; <span class="return">class</span> </code><span class="genre">(class)</span></h2>Creates an anonymous class. <h3>Arguments</h3><p><code><span class="type">fn</span> body</code> - Any local definition made within constitutes a method or instance variable decleration.</p><button class="source-button" id="Class-button">toggle source</button><div id="Class-source" class="code-source"><pre>"Class" => lambda { |inst, body|
    AtClass.new inst, body
},</pre></div></div><div class="function" id="ClassNamed"><h2><code>ClassNamed[<span class="type">string</span> name] &rarr; <span class="return">fn</span> </code><span class="genre">(class)</span></h2>Creates a named class. Returns a function which acts similarly to <a href="#Class"><code>Class</code></a>. <button class="source-button" id="ClassNamed-button">toggle source</button><div id="ClassNamed-source" class="code-source"><pre>"ClassNamed" => held(true) { |inst, name|
    #p name
    lambda { |inst, body|
        inst.define name.raw, AtClass.new(inst, body, name: name.raw)
    }
},</pre></div></div><div class="function" id="Clear"><h2><code>Clear[<span class="type">string</span> name] &rarr; <span class="return">(*)</span> </code><span class="genre">(scope)</span></h2>Undefines <code>name</code> from the global scope. Returns that variable's value, or <code>nil</code> if the variable was undefined. <button class="source-button" id="Clear-button">toggle source</button><div id="Clear-source" class="code-source"><pre>"Clear" => lambda { |inst, name|
    inst.clear name
},</pre></div></div><div class="function" id="ClearLocal"><h2><code>ClearLocal[<span class="type">string</span> name] &rarr; <span class="return">(*)</span> </code><span class="genre">(scope)</span></h2>Undefines <code>name</code> from the local scope. Returns that variable's value, or <code>nil</code> if the variable was undefined. <button class="source-button" id="ClearLocal-button">toggle source</button><div id="ClearLocal-source" class="code-source"><pre>"ClearLocal" => lambda { |inst, name|
    inst.clear_local name
},</pre></div></div><div class="function" id="ClearScreen"><h2><code>ClearScreen[] &rarr; <span class="return">nil</span> </code><span class="genre">(IO)</span></h2>Clears the console's screen. <button class="source-button" id="ClearScreen-button">toggle source</button><div id="ClearScreen-source" class="code-source"><pre>"ClearScreen" => lambda { |inst|
    system "cls" or system "clear"
},</pre></div></div><div class="function" id="Collapse"><h2><code>Collapse[<span class="type">[(*)]</span> ...lists] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Concatenates all the lists in <code>lists</code>, except for matching prefix-suffix pairs. <button class="source-button" id="Collapse-button">toggle source</button><div id="Collapse-source" class="code-source"><pre>       "Collapse" => lambda { |inst, *lists|
           lists.map.with_index { |c, i|
               if i == 0
                   c
               else
                   prev = lists[i - 1]
                   minsize = [prev, c].map(&:size).min
                   ind = (0..minsize).reverse_each.find { |size|
                       offset = prev.size - size
                       (0...size).all? { |j|
                           c[j] == prev[offset + j]
                       }
                   }
                   c[ind..-1]
               end
           }.flatten(1)
       },</pre></div></div><div class="function" id="Collatz"><h2><code>Collatz[<span class="type">number</span> n] &rarr; <span class="return">[number]</span> </code><span class="genre">(numeric/series)</span></h2><p><em>Vectorizes monadically.</em></p>Produces the Collatz sequence of <code>n</code>. <button class="source-button" id="Collatz-button">toggle source</button><div id="Collatz-source" class="code-source"><pre>"Collatz" => vectorize_monad { |inst, n|
    collatz n
},</pre></div></div><div class="function" id="CollatzSize"><h2><code>CollatzSize[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/series)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the number of steps it takes for <code>n</code> to reach <code>1</code> according to the Collatz transformation. <button class="source-button" id="CollatzSize-button">toggle source</button><div id="CollatzSize-source" class="code-source"><pre>"CollatzSize" => vectorize_monad { |inst, n|
    collatz(n).size - 1
},</pre></div></div><div class="function" id="Complement"><h2><code>Complement[<span class="type">[(*)]</span> parent, <span class="type">[(*)]</span> ...args] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Returns all elements of <code>parent</code> not included in any of the lists in <code>args</code>. <button class="source-button" id="Complement-button">toggle source</button><div id="Complement-source" class="code-source"><pre>"Complement" => lambda { |inst, parent, *args|
    any = args.map { |e|
        inst.cast_list e
    }.flatten(1)
    inst.cast_list(parent).reject { |e| any.include? e }
},</pre></div></div><div class="function" id="Concat"><h2><code>Concat[<span class="type">[(*)]</span> ...args] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Returns the concatentation of each list in <code>args</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Concat</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">7</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_number">8</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">9</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 3, 4, 5, 2, 3, 7, [8, 9]]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2jk/LzmxJFrB0MpUR8HIylhHIdo8FkhEW@goWMbGKsTGctnbK0QbAiV1FICyJjoKpjC2OVAdRNn//wA">Try it online!</a><button class="source-button" id="Concat-button">toggle source</button><div id="Concat-source" class="code-source"><pre>"Concat" => lambda { |inst, *args|
    args.flatten(1)
},</pre></div></div><div class="function" id="Configure"><h2><code>Configure[<span class="type">fn</span> func, **opts] &rarr; <span class="return">fn</span> </code><span class="genre">(functional)</span></h2>Returns a function which calls <code>func</code> configured with <code>opts</code>. <h3>Example</h3><div class="example"><code><code class="at_word">print_weird</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Configure</code><code class="at_bracket_open">[</code><code class="at_whitespace">
    </code><code class="at_word">Print</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_word">joiner</code><code class="at_operator">-&gt;</code><code class="at_string">&quot;, &quot;</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_word">before</code><code class="at_operator">-&gt;</code><code class="at_string">&quot;{&quot;</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_word">after</code><code class="at_operator">-&gt;</code><code class="at_string">&quot;}\n&quot;</code><code class="at_whitespace">
</code><code class="at_bracket_close">]</code><code class="at_whitespace">

</code><code class="at_word">print_weird</code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? {3, 4, 5}</code></code></div><a href="https://tio.run/##SywpSUzOSP3/v6AoM68kvjw1syhFwcpWwTk/Ly0zvbQoNZpLAQgCQLI6YGZWfmZeapGunZKOghJEJCk1Lb8oFShSDRVITCsBq6iNyVPiiuXiQjI72lhHwURHwTSWy95eoRrKqf3/HwA">Try it online!</a><button class="source-button" id="Configure-button">toggle source</button><div id="Configure-source" class="code-source"><pre>"Configure" => lambda { |inst, func, **opts|
    lambda { |inst, *args|
        func[inst, *args, **opts]
    }
},</pre></div></div><div class="function" id="Cos"><h2><code>Cos[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>cos</mi><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="Cos-button">toggle source</button><div id="Cos-source" class="code-source"><pre>"Cos" => vectorize_monad { |inst, n|
    Math::cos n
},</pre></div></div><div class="function" id="Cosh"><h2><code>Cosh[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>cosh</mi><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="Cosh-button">toggle source</button><div id="Cosh-source" class="code-source"><pre>"Cosh" => vectorize_monad { |inst, n|
    Math::cosh n
},</pre></div></div><div class="function" id="Count"><h2><code>Count[<span class="type">fn|(*)</span> f, <span class="type">[(*)]</span> list] &rarr; <span class="return">number</span> </code><span class="genre">(list)</span></h2><p><em>Curries.</em></p>Counts the number of members satisfying <code>f</code> in <code>list</code>; or, if <code>f</code> is not a function, the number of times <code>f</code> appears in <code>list</code>. <button class="source-button" id="Count-button">toggle source</button><div id="Count-source" class="code-source"><pre>"Count" => curry { |inst, f, list|
    list = inst.cast_list list
    if f.is_a?(Proc) || f.is_a?(AtLambda)
        list.count { |e| f[inst, e] }
    else
        list.count f
    end
},</pre></div></div><div class="function" id="Curry"><h2><code>Curry[<span class="type">fn</span> f, <span class="type">number</span> arity?] &rarr; <span class="return">fn</span> </code><span class="genre">(functional)</span></h2>Returns <code>fn</code>, fully curried according to <code>arity</code>. <h3>Arguments</h3><p><code><span class="type">number</span> arity?</code> - Default: <code>#f</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">add_dy</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_word">x</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">y</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_func_start">{</code><code class="at_whitespace"> </code><code class="at_word">x</code><code class="at_whitespace"> </code><code class="at_operator">+</code><code class="at_whitespace"> </code><code class="at_word">y</code><code class="at_whitespace"> </code><code class="at_func_end">}</code><code class="at_whitespace">
</code><code class="at_word">adder</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Curry</code><code class="at_bracket_open">[</code><code class="at_word">add_dy</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">add3</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">adder</code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">add3</code><code class="at_bracket_open">[</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 8
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">adder</code><code class="at_bracket_open">[</code><code class="at_number">2</code><code class="at_bracket_close">]</code><code class="at_bracket_open">[</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 7
</code><code class="at_whitespace">
</code><code class="at_word">add_tri</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Curry</code><code class="at_bracket_open">[</code><code class="at_word">Add</code><code class="at_operator">/</code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">adder1</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">add_tri</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">add6</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">adder1</code><code class="at_bracket_open">[</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">add6</code><code class="at_bracket_open">[</code><code class="at_number">10</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 16</code></code></div><a href="https://tio.run/##RY1BCsIwEEX3OcXsVXQMRhFqES/gfhhKMAW7cREiNJSePWYaNdv3/ryxIdjHs0/JOte5COcGaFxDZNhcYIIRVhBhVtn2XuTt7X2kMmbBWuiiSbO6@@EVRGs6MKu2hVNlebLnHz8que6CH2r26txWc3mG364sCBdo/q8wV2rXEO5KFE1KHw">Try it online!</a><button class="source-button" id="Curry-button">toggle source</button><div id="Curry-source" class="code-source"><pre>       "Curry" => lambda { |inst, f, arity=f.arity|
           if arity.negative?
               arity = ~arity
           end
           arity += 1 if AtLambda === f || AtFunction === f
           rec = lambda { |fn, inst, *args, **opts|
               # parse arguments
               args.reject! { |e|
                   if ConfigureValue === e
                       opts[e.key.to_sym] = e.value
                       true
                   else
                       false
                   end
               }
               # p args, opts
               if args.size >= arity - 1
                   if AtState.configurable? fn
                       fn[inst, *args, **opts]
                   elsif opts.empty?
                       fn[inst, *args]
                   else
                       STDERR.puts "Excess parameter options in curried function: #{opts}"
                       fn[inst, *args]
                   end
               else
                   lambda { |inst, *more, **moreopts|
                       rec[fn, inst, *args, *more, **moreopts.merge(opts)]
                   }
               end
           }
           rec[f, inst]
       },</pre></div></div><div class="function" id="Decreasing"><h2><code>Decreasing[<span class="type">[(*)]</span> list] &rarr; <span class="return">bool</span> </code><span class="genre">(list/logic)</span></h2>Returns <code>true</code> if every element <code>a</code> which is followed by an element <code>b</code> is strictly greater than <code>b</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Decreasing</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_operator">-</code><code class="at_paren_open">(</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_paren_close">)</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? true
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Decreasing</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? true
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Decreasing</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? true
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Decreasing</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? false
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Decreasing</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? false</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2iU1uSg1sTgzLz1aQVfD0MpUUyE2lsveXqGkqDSVC1NNtJGOgqGOgkEsAWWxhI1BMyktMacYm1Kgm5BV/P8PAA">Try it online!</a><button class="source-button" id="Decreasing-button">toggle source</button><div id="Decreasing-source" class="code-source"><pre>"Decreasing" => lambda { |inst, list|
    inst.cast_list(list).delta.all?(&:negative?) rescue false
},</pre></div></div><div class="function" id="Define"><h2><code>Define[<span class="type">string</span> name, <span class="type">(*)</span> value] &rarr; <span class="return">(*)</span> </code><span class="genre">(scope)</span></h2>Defines <code>name</code> in the global scope as <code>value</code>. Returns <code>value</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Define</code><code class="at_bracket_open">[</code><code class="at_reference">$a</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;This is variable a!&quot;</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">a</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? This is variable a!</code></code></div><a href="https://tio.run/##SywpSUzOSP3/3yU1LTMvNVolUUdBKSQjs1gBiMoSizITk3JSFRIVlWK5Aooy80qiE2O57O0VsKj4/x8A">Try it online!</a><button class="source-button" id="Define-button">toggle source</button><div id="Define-source" class="code-source"><pre>"Define" => lambda { |inst, name, value|
    inst.define name, value
},</pre></div></div><div class="function" id="Delta"><h2><code>Delta[<span class="type">[number]</span> list] &rarr; <span class="return">[number]</span> </code><span class="genre">(list)</span></h2>Returns the differences between each member of <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Delta</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">4</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 1, 1]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Delta</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? []
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Delta</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_word">Square</code><code class="at_bracket_open">[</code><code class="at_number">0</code><code class="at_operator">:</code><code class="at_number">4</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 3, 5, 7]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2iU1pyQxWsHQykQhNpbL3l4h2lBHAYRiuVAURMfC5NEkggtLE4tSow2sTGKRTDDWUTDVUTCP/f8fAA">Try it online!</a><button class="source-button" id="Delta-button">toggle source</button><div id="Delta-source" class="code-source"><pre>"Delta" => lambda { |inst, list|
    list.delta
},</pre></div></div><div class="function" id="Denominator"><h2><code>Denominator[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/rational)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the numerator of <code>n</code>. <button class="source-button" id="Denominator-button">toggle source</button><div id="Denominator-source" class="code-source"><pre>"Denominator" => vectorize_monad { |inst, n|
    Rational(n).denominator
},</pre></div></div><div class="function" id="Difference"><h2><code>Difference[<span class="type">[(*)]</span> a, <span class="type">[(*)]</span> b] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Returns all elements exclusive to <code>a</code> or <code>b</code>. <button class="source-button" id="Difference-button">toggle source</button><div id="Difference-source" class="code-source"><pre>"Difference" => lambda { |inst, a, b|
    halve1 = @@functions["Complement"][inst, a, b]
    halve2 = @@functions["Complement"][inst, b, a]
    halve1 + halve2
},</pre></div></div><div class="function" id="Digits"><h2><code>Digits[<span class="type">number</span> n] &rarr; <span class="return">[number]</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes monadically.</em></p>Produces the digits of <code>n</code>. <button class="source-button" id="Digits-button">toggle source</button><div id="Digits-source" class="code-source"><pre>"Digits" => vectorize_monad { |list, n|
    n.digits.reverse
},</pre></div></div><div class="function" id="Display"><h2><code>Display[<span class="type">(*)</span> ent] &rarr; <span class="return">(*)</span> </code><span class="genre">(IO)</span></h2>Displays <code>ent</code> in a human-reversible format. Primarily, prints the elements of arrays (whose dimension is at least 2) on separate lines. <h3>Example</h3><div class="example"><code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_operator">:</code><code class="at_number">6</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">9</code><code class="at_operator">:</code><code class="at_number">11</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">??  1  2  3
</code><code class="at_comment">??  4  5  6
</code><code class="at_comment">??  9 10 11
</code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;Hello, World!&quot;</code></code></div><a href="https://tio.run/##SywpSUzOSP3/3yWzuCAnsTJaIdrQylhHwcTKTEfB0srQMFYhlsveXkHBUEHBSEHBGMw2UVAwVVAwA7MtFQwNFAwNueD6lTxSc3LydRTC84tyUhSVINrRBP//BwA">Try it online!</a><button class="source-button" id="Display-button">toggle source</button><div id="Display-source" class="code-source"><pre>"Display" => lambda { |inst, ent|
    display ent
},</pre></div></div><div class="function" id="Divide"><h2><code>Divide[<span class="type">number</span> ...args] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2>Divides each number in <code>args</code> by the next. That is, folding division over <code>args</code> <button class="source-button" id="Divide-button">toggle source</button><div id="Divide-source" class="code-source"><pre>"Divide" => lambda { |inst, *args|
    args[0] = args[0].to_f
    args.inject(:/)
},</pre></div></div><div class="function" id="Double"><h2><code>Double[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes monadically.</em></p>Doubles <code>n</code>. <button class="source-button" id="Double-button">toggle source</button><div id="Double-source" class="code-source"><pre>"Double" => vectorize_monad { |inst, n|
    @@operators["*"][inst, n, 2]
},</pre></div></div><div class="function" id="DoWhile"><h2><code>DoWhile[<span class="type">expression</span> cond, <span class="type">expression</span> body] &rarr; <span class="return">(*)</span> </code><span class="genre">(logic)</span></h2>Evaluates <code>body</code>, then stops only if <code>cond</code> evaluates as falsey. <h3>Example</h3><div class="example"><code><code class="at_word">i</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_whitespace">
</code><code class="at_word">DoWhile</code><code class="at_bracket_open">[</code><code class="at_word">i</code><code class="at_whitespace"> </code><code class="at_operator">&lt;</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">i</code><code class="at_bracket_close">]</code><code class="at_statement_sep">;</code><code class="at_whitespace"> </code><code class="at_word">i</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">i</code><code class="at_whitespace"> </code><code class="at_operator">+</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 0
</code><code class="at_comment">?? 1
</code><code class="at_comment">?? 2
</code><code class="at_comment">?? 3
</code><code class="at_comment">?? 4
</code><code class="at_word">DoWhile</code><code class="at_bracket_open">[</code><code class="at_word">false</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? Hello!</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P1PBylbBgMslPzwjMyc1OlPBRsFURyGgKDOvJDoz1loBLJ@poK1gGMtlbw9UCSQMQYQRiDAGESZw3WmJOcWpMN1KHqk5OfmKSrFgjRDO//8A">Try it online!</a><button class="source-button" id="DoWhile-button">toggle source</button><div id="DoWhile-source" class="code-source"><pre>"DoWhile" => lambda { |inst, cond, body|
    res = nil
    loop {
        res = inst.evaluate_node body
        c = inst.evaluate_node cond
        unless AtState.truthy? c
            break
        end
    }
    res
},</pre></div></div><div class="function" id="Downcase"><h2><code>Downcase[<span class="type">string</span> str] &rarr; <span class="return">string</span> </code><span class="genre">(string)</span></h2><p><em>Vectorizes monadically.</em></p>Replaces all uppercase letters in <code>str</code> with the respective lowercase one. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Downcase</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? hello, world!
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Downcase</code><code class="at_bracket_open">[</code><code class="at_string">&quot;&gt;&gt;&gt; NO ONE&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &gt;&gt;&gt; no one
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Downcase</code><code class="at_bracket_open">[</code><code class="at_string">&quot;le monde&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? le monde</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2iW/PC85sTg1WskjNScnX0chPL8oJ0VRKTaWy95eIQMiVg4W40LXYWdnp@Dnr@Dv5wpVDhLIy1fIz0vFUJuTqpCbn5eSClUJ4/7/DwA">Try it online!</a><button class="source-button" id="Downcase-button">toggle source</button><div id="Downcase-source" class="code-source"><pre>"Downcase" => vectorize_monad { |inst, str|
    str.downcase
},</pre></div></div><div class="function" id="else"><h2><code>(<span class="type">(*)</span> a) else (<span class="type">(*)</span> b) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>a</code> if <code>a</code> is truthy, <code>b</code> otherwise. Short-circuits. <button class="source-button" id="else-button">toggle source</button><div id="else-source" class="code-source"><pre>"else" => lambda { |inst, a, b|
    lres = inst.evaluate_node_safe a
    if AtState.truthy? lres
        lres
    else
        inst.evaluate_node_safe b
    end
},</pre></div></div><div class="function" id="Enumerate"><h2><code>Enumerate[<span class="type">[(*)]</span> list, start=0] &rarr; <span class="return">[[(*), number]]</span> </code><span class="genre">(list)</span></h2>Returns a list of all elements in <code>list</code> paired with their indices, starting at <code>offset</code>. <button class="source-button" id="Enumerate-button">toggle source</button><div id="Enumerate-source" class="code-source"><pre>"Enumerate" => lambda { |inst, list, start=0|
    i = start
    list.map { |e|
        res = [e, i]
        i = @@functions["Succ"][inst, i]
        res
    }
},</pre></div></div><div class="function" id="Eval"><h2><code>Eval[<span class="type">string</span> str] &rarr; <span class="return">(*)</span> </code><span class="genre">(meta)</span></h2>Evaluates <code>str</code> in a new scope. Returns the last expression evaluated. <button class="source-button" id="Eval-button">toggle source</button><div id="Eval-source" class="code-source"><pre>"Eval" => lambda { |inst, str|
    AtState.new(str).run.last
},</pre></div></div><div class="function" id="EvalHere"><h2><code>EvalHere[<span class="type">string</span> str, blanks=[]] &rarr; <span class="return">(*)</span> </code><span class="genre">(meta)</span></h2>Evaluates <code>str</code> in a the current scope. Returns the last expression evaluated. <button class="source-button" id="EvalHere-button">toggle source</button><div id="EvalHere-source" class="code-source"><pre>"EvalHere" => lambda { |inst, str, blanks=[]|
    ast(str).map { |tree|
        inst.evaluate_node tree, blanks
    }.last
},</pre></div></div><div class="function" id="Even"><h2><code>Even[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/logic)</span></h2><p><em>Vectorizes monadically.</em></p>Returns <code>true</code> if <code>n</code> is even (a multiple of <code>2</code>), otherwise <code>false</code>. <button class="source-button" id="Even-button">toggle source</button><div id="Even-source" class="code-source"><pre>"Even" => vectorize_monad { |inst, n|
    n.even?
},</pre></div></div><div class="function" id="Exit"><h2><code>Exit[<span class="type">number</span> code?] &rarr; <span class="return">nil</span> </code><span class="genre">(IO)</span></h2>Terminates the program with exit code <code>0</code>. Flushes STDOUT. <h3>Arguments</h3><p><code><span class="type">number</span> code?</code> - the code to exit with.</p><button class="source-button" id="Exit-button">toggle source</button><div id="Exit-source" class="code-source"><pre>"Exit" => lambda { |inst, code=0|
    STDOUT.flush
    exit! code
},</pre></div></div><div class="function" id="Exp"><h2><code>Exp[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>e</mi><mi>n</mi></msup></math>. <button class="source-button" id="Exp-button">toggle source</button><div id="Exp-source" class="code-source"><pre>"Exp" => lambda { |inst, n|
    Math::exp n
},</pre></div></div><div class="function" id="Falsey"><h2><code>Falsey[<span class="type">(*)</span> arg] &rarr; <span class="return">bool</span> </code><span class="genre">(logic)</span></h2>Returns <code>true</code> if <code>arg</code> is falsey, <code>false</code> otherwise. (See also: <a href="#Not"><code>Not</code></a>.) <button class="source-button" id="Falsey-button">toggle source</button><div id="Falsey-source" class="code-source"><pre>"Falsey" => lambda { |inst, arg|
    AtState.falsey? arg
},</pre></div></div><div class="function" id="Fibonacci"><h2><code>Fibonacci[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/series)</span></h2>Returns the <code>n</code>th number in the Fibonacci sequence, starting with <code>f<sub>0</sub> = 0</code> and <code>f<sub>1</sub> = 1</code>. <button class="source-button" id="Fibonacci-button">toggle source</button><div id="Fibonacci-source" class="code-source"><pre>"Fibonacci" => lambda { |inst, n|
    nth_fibonacci(n)
},</pre></div></div><div class="function" id="FileExists"><h2><code>FileExists[<span class="type">string</span> name] &rarr; <span class="return">bool</span> </code><span class="genre">(IO/files)</span></h2>Returns <code>true</code> if <code>name</code> represents a valid file, <code>false</code> otherwise. <button class="source-button" id="FileExists-button">toggle source</button><div id="FileExists-source" class="code-source"><pre>"FileExists" => lambda { |inst, name|
    File.exists? name.strip
},</pre></div></div><div class="function" id="FileRead"><h2><code>FileRead[<span class="type">string</span> name, **opts] &rarr; <span class="return">string</span> </code><span class="genre">(IO/files)</span></h2>Returns the contents of file <code>name</code>, or <code>nil</code> if the file does not exist. <h3>Options</h3><p><code>encoding</code> &rarr; The encoding that the target file is in.</p><button class="source-button" id="FileRead-button">toggle source</button><div id="FileRead-source" class="code-source"><pre>"FileRead" => lambda { |inst, name, **opts|
    opts[:encoding] ||= "UTF-8"
    File.read(name.strip, encoding: opts[:encoding]) rescue nil
},</pre></div></div><div class="function" id="FileWrite"><h2><code>FileWrite[<span class="type">string</span> name, <span class="type">string</span> content, **opts] &rarr; <span class="return">number</span> </code><span class="genre">(IO/files)</span></h2>Writes <code>content</code> to file <code>name</code>. Returns the number of bytes written. <h3>Options</h3><p><code>encoding</code> &rarr; The encoding that the target file is in.</p><button class="source-button" id="FileWrite-button">toggle source</button><div id="FileWrite-source" class="code-source"><pre>"FileWrite" => lambda { |inst, name, content, **opts|
    opts[:encoding] ||= "UTF-8"
    File.write(name.strip, content, encoding: opts[:encoding])
},</pre></div></div><div class="function" id="Find"><h2><code>Find[<span class="type">fn|(*)</span> f, <span class="type">[(*)]</span> list] &rarr; <span class="return">(*)</span> </code><span class="genre">(list)</span></h2>Returns the first element <code>e</code> in <code>list</code> which satisfies <code>f</code>. Returns <code>nil</code> otherwise. <h3>Arguments</h3><p><code><span class="type">fn</span> f</code> - applied to each successive member of <code>list</code> until a truthy value is obtained.</p><p><code><span class="type">(*)</span> f</code> - returns the first element in <code>list</code> equal to <code>f</code>.</p><button class="source-button" id="Find-button">toggle source</button><div id="Find-source" class="code-source"><pre>"Find" => lambda { |inst, f, list|
    if AtState.func_like? f
        list.find { |e| f[inst, e] }
    else
        list.find { |e| e == f }
    end
},</pre></div></div><div class="function" id="FindHead"><h2><code>FindHead[<span class="type">[string]|{string->(*)}</span> opts, <span class="type">string</span> val] &rarr; <span class="return">string</span> </code><span class="genre">(string)</span></h2>Selects the first key (or value) in <code>opts</code> which start with <code>val</code>. <h3>Example</h3><div class="example"><code><code class="at_word">options</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_curry_open">&lt;~</code><code class="at_whitespace">
  </code><code class="at_word">stop</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_comma">,</code><code class="at_whitespace">
  </code><code class="at_word">continue</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace">
  </code><code class="at_word">redo</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_whitespace">
</code><code class="at_curry_close">~&gt;</code><code class="at_whitespace">
</code><code class="at_word">choice</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_string">&quot;s&quot;</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">FindHead</code><code class="at_bracket_open">[</code><code class="at_word">options</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">choice</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? stop</code></code></div><a href="https://tio.run/##LYw7DoQwDAV7n8KiBgkoV3w6REmPKKLEEm5sREzL1QPZ3XJG740zc36nlPQwVon46bG7ATGaHlgNWJcveBVjuSiLJouTgmZo4R7A78qe8rOIBSwni60TS5jJhfXfLfG32jYYx288pQc">Try it online!</a><button class="source-button" id="FindHead-button">toggle source</button><div id="FindHead-source" class="code-source"><pre>       "FindHead" => lambda { |inst, opts, val|
           if Hash === opts
               opts = opts.keys
           end
           opts.sort.select { |e|
               e.start_with? val
           }.first
       },</pre></div></div><div class="function" id="First"><h2><code>First[<span class="type">[(*)]</span> list] &rarr; <span class="return">(*)</span> </code><span class="genre">(list)</span></h2>Returns the first element of <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">First</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">9</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 3
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">First</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_string">&quot;Hello!&quot;</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? H</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2i2zqLgkWiHaWEfBUkfBSEfBIFYhNpbL3l7BmAtFhZJHak5OvqISVNbj/38A">Try it online!</a><button class="source-button" id="First-button">toggle source</button><div id="First-source" class="code-source"><pre>"First" => lambda { |inst, list|
    inst.cast_list(list)[0]
},</pre></div></div><div class="function" id="Fixpoint"><h2><code>Fixpoint[<span class="type">fn</span> f, <span class="type">(*)</span> n] &rarr; <span class="return">(*)</span> </code><span class="genre">(functional)</span></h2><p><em>Curries.</em></p>Applies <code>f</code> to <code>n</code> until <code>f[n]</code> converges. <button class="source-button" id="Fixpoint-button">toggle source</button><div id="Fixpoint-source" class="code-source"><pre>"Fixpoint" => curry { |inst, f, n|
    fixpoint f.bind(inst), n
},</pre></div></div><div class="function" id="Flat"><h2><code>Flat[<span class="type">[(*)]</span> list, <span class="type">number</span> n?] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Flattens <code>list</code>. <h3>Arguments</h3><p><code><span class="type">number</span> n?</code> - when specified, flattens <code>list</code> to 1 level <code>n</code> times.</p><button class="source-button" id="Flat-button">toggle source</button><div id="Flat-source" class="code-source"><pre>"Flat" => lambda { |inst, list, n=nil|
    list.flatten(n)
},</pre></div></div><div class="function" id="FlatGet"><h2><code>FlatGet[<span class="type">[(*)]</span> list, <span class="type">[(*)]|(*)</span> inds] &rarr; <span class="return">(*)</span> </code><span class="genre">(list)</span></h2>Returns <code>list[i0][i1]...[iN]</code> for each <code>i</code> in <code>inds</code>. <h3>Example</h3><div class="example"><code><code class="at_word">id</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Identity</code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">id</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">??  1 0 0
</code><code class="at_comment">??  0 1 0
</code><code class="at_comment">??  0 0 1
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">FlatGet</code><code class="at_bracket_open">[</code><code class="at_word">id</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 0, 0]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">FlatGet</code><code class="at_bracket_open">[</code><code class="at_word">id</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">0</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 0, 0]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">FlatGet</code><code class="at_bracket_open">[</code><code class="at_word">id</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">0</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 1</code></code></div><a href="https://tio.run/##SywpSUzOSP3/PzNFwcpWwTMlNa8ks6Qy2jiWyyWzuCAnsTI6MyWWy95eQcFQwUDBAMwyALGhLCCbK6AoM68k2i0nscQ9tQSoXkfBIBasJ9oQyATxsCiJBqohQhHYLLA6w///AQ">Try it online!</a><button class="source-button" id="FlatGet-button">toggle source</button><div id="FlatGet-source" class="code-source"><pre>"FlatGet" => lambda { |inst, list, inds|
    inst.enlist(inds).each { |i|
        list = list[i]
    }
    list
},</pre></div></div><div class="function" id="Flip"><h2><code>Flip[<span class="type">[(*)]</span> list] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result.</em></p>Reverses and transposes a list, or, if the list has only one dimension, reverses it. <button class="source-button" id="Flip-button">toggle source</button><div id="Flip-source" class="code-source"><pre>       "Flip" => lambda { |inst, list|
           is_string = String === list
           inner = is_string ? @@functions["Grid"][inst, list] : inst.cast_list(list)
           result = begin
               inner.transpose.reverse
           rescue
               inner.reverse
           end
           is_string ? @@functions["UnGrid"][inst, result] : reform_list(result, list)
       },</pre></div></div><div class="function" id="Floor"><h2><code>Floor[<span class="type">number</span> n, <span class="type">number</span> r?] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>n</code> rounded down to the nearest integer. <h3>Arguments</h3><p><code><span class="type">number</span> r?</code> - the precision to round. No precision if omitted.</p><button class="source-button" id="Floor-button">toggle source</button><div id="Floor-source" class="code-source"><pre>"Floor" => vectorize_dyad { |inst, n, r=nil|
    if r.nil?
        n.floor
    else
        n.floor(r)
    end
},</pre></div></div><div class="function" id="ForEach"><h2><code>ForEach[<span class="type">[(*)]</span> ent, body] &rarr; <span class="return">nil</span> </code><span class="genre">(logic)</span></h2>For every value <code>el</code> in <code>ent</code>, evaluates <code>body</code>, setting the first abstract value to <code>el</code>, and the second to its index. <button class="source-button" id="ForEach-button">toggle source</button><div id="ForEach-source" class="code-source"><pre>       "ForEach" => lambda { |inst, ent, body|
           arr = inst.cast_list(ent)
           arr.each_with_index { |x, i|
               inst.evaluate_node body, [x, i]
           }
           nil
       },
</pre></div></div><div class="function" id="Fork"><h2><code>Fork[<span class="type">fn</span> f, <span class="type">fn</span> g, <span class="type">fn</span> h] &rarr; <span class="return">fn</span> </code><span class="genre">(functional)</span></h2>Composes the functions <code>f</code>, <code>g</code>, and <code>h</code> into a fork. When called with arguments <code>args</code>, this is equivalent to calling <code>g[f[...args], h[...args]]</code>. <h3>Example</h3><div class="example"><code><code class="at_word">avg</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Fork</code><code class="at_bracket_open">[</code><code class="at_word">Sum</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Divide</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Size</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">avg</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 3.0</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P7EsXcHKVsEtvyg7Org0V0fBJbMsMyVVRyE4syo1liugKDOvJBqoKNrQyjQ2lsveXsFYz@D/fwA">Try it online!</a><button class="source-button" id="Fork-button">toggle source</button><div id="Fork-source" class="code-source"><pre>"Fork" => lambda { |inst, f, g, h|
    lambda { |inst, *args|
        g[inst, f[inst, *args], h[inst, *args]]
    }
},</pre></div></div><div class="function" id="Format"><h2><code>Format[<span class="type">string</span> str, <span class="type">(*)</span> ...args] &rarr; <span class="return">string</span> </code><span class="genre">(string)</span></h2>Formats a string. Currently, uses Ruby's <a href="https://ruby-doc.org/core-2.0.0/String.html#method-i-25"><code>%</code></a> method on strings. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Format</code><code class="at_bracket_open">[</code><code class="at_string">&quot;%s is a %s&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;Java&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;Joke&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? Java is a Joke</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2i2/KDexJFpJtVghs1ghUUG1WElHQckrsSwRTOdnpyrFxnLZ2yuAhCBKQIL//wMA">Try it online!</a><button class="source-button" id="Format-button">toggle source</button><div id="Format-source" class="code-source"><pre>"Format" => lambda { |inst, str, *args|
    str % args
},</pre></div></div><div class="function" id="FromBase"><h2><code>FromBase[<span class="type">[number]</span> num, <span class="type">number</span> base] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/bases)</span></h2><p><em>Vectorizes dyadically on the right.</em></p>Converts <code>num</code> from base <code>base</code> to base <code>10</code>. <h3>Arguments</h3><p><code><span class="type">[number]</span> num</code> - an array of digits representing the number in base <code>base</code>.</p><p><code><span class="type">number</span> base</code> - a number greater than <code>0</code>, representing the source base of the numeric array.</p><button class="source-button" id="FromBase-button">toggle source</button><div id="FromBase-source" class="code-source"><pre>"FromBase" => vectorize_dyad(RIGHT) { |inst, num, base|
    from_base num, base
},</pre></div></div><div class="function" id="GCD"><h2><code>GCD[<span class="type">number</span> ...args] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2>Takes the Greatest Common Divisor of the atoms of <code>args</code>. <h3>Arguments</h3><p><code><span class="type">number</span> ...args</code> - List of numbers, which can have nested elements.</p><button class="source-button" id="GCD-button">toggle source</button><div id="GCD-source" class="code-source"><pre>"GCD" => lambda { |inst, *args|
    gcd args.flatten
},</pre></div></div><div class="function" id="GenerateFirst"><h2><code>GenerateFirst[<span class="type">fn</span> f, <span class="type">fn</span> cond, <span class="type">number</span> start?] &rarr; <span class="return">(*)</span> </code><span class="genre">(functional)</span></h2>Starting at <code>n = start</code>, increments <code>n</code> until <code>cond[f[n]]</code> is truthy. Returns <code>f[n]</code>. Note: this ignores <code>nil</code> values returned. <h3>Arguments</h3><p><code><span class="type">fn</span> f</code> - A function that maps a number to a domain, such as <code>Square</code> or <code>Prime</code>.</p><p><code><span class="type">fn</span> cond</code> - A function which, given a possible result of <code>f</code>, returns a truthy or falsey value.</p><p><code><span class="type">number</span> start?</code> - The starting point for testing numbers.</p><button class="source-button" id="GenerateFirst-button">toggle source</button><div id="GenerateFirst-source" class="code-source"><pre>"GenerateFirst" => lambda { |inst, f, cond, start=0|
    res = nil
    n = start
    loop {
        res = f[inst, n]
        unless res.nil?
            break if AtState.truthy? cond[inst, res]
        end
        n = @@functions["Succ"][inst, n]
    }
    res
},</pre></div></div><div class="function" id="GenerateN"><h2><code>GenerateN[<span class="type">fn</span> f, <span class="type">fn</span> cond, <span class="type">number</span> size, <span class="type">number</span> start?] &rarr; <span class="return">(*)</span> </code><span class="genre">(functional)</span></h2>Similar to <a href="#GenerateFirst"><code>GenerateFirst</code></a>, returns the first <code>size</code> values of <code>f</code> satisfying <code>cond</code> <h3>Arguments</h3><p><code><span class="type">fn</span> f</code> - A function that maps a number to a domain, such as <code>Square</code> or <code>Prime</code>.</p><p><code><span class="type">fn</span> cond</code> - A function which, given a possible result of <code>f</code>, returns a truthy or falsey value.</p><p><code><span class="type">number</span> start?</code> - The starting point for testing numbers.</p><button class="source-button" id="GenerateN-button">toggle source</button><div id="GenerateN-source" class="code-source"><pre>"GenerateN" => lambda { |inst, f, cond, size, start=0|
    res = nil
    collect = []
    n = start
    until collect.size >= size
        res = f[inst, n]
        if !res.nil? && AtState.truthy?(cond[inst, res])
            collect << res
        end
        n = @@functions["Succ"][inst, n]
    end
    collect
},
</pre></div></div><div class="function" id="Get"><h2><code>Get[<span class="type">[(*)]</span> list, <span class="type">number|ConfigureValue</span> ind] &rarr; <span class="return">[(*)]|string</span> </code><span class="genre">(list)</span></h2><p><em>Vectorizes dyadically on the right.</em></p>Gets all members at indices <code>inds</code> from list. <h3>Arguments</h3><p><code><span class="type">ConfigureValue</span> ind</code> - Returns the members between the key and the value. If the value is negative, starts at the respective index from the right. Returns a string if given a string, instead of an array of characters.</p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Get</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 3
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Get</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_operator">:</code><code class="at_number">4</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;H&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Get</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_operator">-</code><code class="at_number">4</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2j21JNrQylRHwSg2lsveXsGYCyGu5JGak5OvoxCeX5SToqiko2BgZQJRBZQCcpVSQUQOnMhXisWn20RB105BF2jC//8A">Try it online!</a><button class="source-button" id="Get-button">toggle source</button><div id="Get-source" class="code-source"><pre>"Get" => vectorize_dyad(RIGHT) { |inst, list, ind|
    if Hash === list
        list[ind]
    else
        ind = force_number ind
        if ConfigureValue === ind
            list[ind.key..ind.value]
        elsif class_has? list, "$get"
            list["$get"][inst, list, ind]
        else
            list[ind]
        end
    end
},</pre></div></div><div class="function" id="Grade"><h2><code>Grade[<span class="type">[(*)]</span> list] &rarr; <span class="return">[number]</span> </code><span class="genre">(list)</span></h2>Returns a list of indices such that, when <code>list</code> is indexed by that list, the result is <code>list</code> sorted. <button class="source-button" id="Grade-button">toggle source</button><div id="Grade-source" class="code-source"><pre>"Grade" => lambda { |inst, list|
    grade inst.cast_list list
},</pre></div></div><div class="function" id="Grid"><h2><code>Grid[<span class="type">string</span> str, <span class="type">string</span> inner?] &rarr; <span class="return">string</span> </code><span class="genre">(string)</span></h2>Returns the characters of each line of <code>str</code>. <h3>Arguments</h3><p><code><span class="type">string</span> inner?</code> - Character to pad the ends of each line with. Default: <code>" "</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">Map</code><code class="at_bracket_open">[</code><code class="at_word">Print</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Grid</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello,\nWorld\nof mine!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;H&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;, &quot;,&quot;, &quot; &quot;, &quot; &quot;]
</code><code class="at_comment">?? [&quot;W&quot;, &quot;o&quot;, &quot;r&quot;, &quot;l&quot;, &quot;d&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;]
</code><code class="at_comment">?? [&quot;o&quot;, &quot;f&quot;, &quot; &quot;, &quot;m&quot;, &quot;i&quot;, &quot;n&quot;, &quot;e&quot;, &quot;!&quot;]</code></code></div><a href="https://tio.run/##Tc4xDoAgDEDR3VNUZu7AqIuJm4MyEIFIgsUQ7o9WTcPyhvYnrSnF7IerdTLXOueARcKQg13F6GJMcsMl5Wg3TB7OgK4XWndKwbMXEoQjIpMIScDH3y68zNzaJmvbN/M8P4lAIB98nqj1Bg">Try it online!</a><button class="source-button" id="Grid-button">toggle source</button><div id="Grid-source" class="code-source"><pre>"Grid" => lambda { |inst, str, inner=" "|
    str = str.lines rescue str
    grid = str.map(&:chomp).map(&:chars) rescue str
    pad_grid grid, inner
},</pre></div></div><div class="function" id="Halve"><h2><code>Halve[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes monadically.</em></p>Takes half of <code>n</code>. <button class="source-button" id="Halve-button">toggle source</button><div id="Halve-source" class="code-source"><pre>"Halve" => vectorize_monad { |inst, n|
    @@operators["/"][inst, n, 2]
},</pre></div></div><div class="function" id="Has"><h2><code>Has[<span class="type">[(*)]|string</span> list, <span class="type">(*)</span> member] &rarr; <span class="return">bool</span> </code><span class="genre">(list)</span></h2>Returns <code>true</code> if <code>list</code> contains <code>member</code>, <code>false</code> otherwise. <h3>Arguments</h3><p><code><span class="type">string</span> list</code> - returns if <code>member</code> is contained within <code>list</code>.</p><button class="source-button" id="Has-button">toggle source</button><div id="Has-source" class="code-source"><pre>"Has" => lambda { |inst, list, member|
    if String === list
        !!list.index(member)
    else
        list.include? member
    end
},</pre></div></div><div class="function" id="Hash"><h2><code>Hash[<span class="type">ConfigureValue</span> ...opts] &rarr; <span class="return">Hash[string -> (*)]</span> </code><span class="genre">(data)</span></h2>Creates a hash. <h3>Arguments</h3><p><code><span class="type">ConfigureValue</span> ...opts</code> - A series of value pairs <code>a -> v</code>.</p><button class="source-button" id="Hash-button">toggle source</button><div id="Hash-source" class="code-source"><pre>"Hash" => lambda { |inst, *opts|
    res = {}
    # p opts
    opts.each { |k, v|
        res[k] = v
    }
    res
},</pre></div></div><div class="function" id="Hex"><h2><code>Hex[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/bases)</span></h2><p><em>Vectorizes monadically.</em></p>Converts <code>n</code> to base <code>16</code>. <button class="source-button" id="Hex-button">toggle source</button><div id="Hex-source" class="code-source"><pre>"Hex" => vectorize_monad { |inst, n|
    @@functions["ToBase"][inst, n, 16]
},</pre></div></div><div class="function" id="Hook"><h2><code>Hook[<span class="type">fn</span> f, <span class="type">fn</span> g] &rarr; <span class="return">fn</span> </code><span class="genre">(functional)</span></h2>Composes the functions <code>f</code> and <code>g</code> into a hook. When called with arguments <code>args</code> this is equivalent to calling <code>f[First[args], g[...args]]</code>. <button class="source-button" id="Hook-button">toggle source</button><div id="Hook-source" class="code-source"><pre>"Hook" => lambda { |inst, f, g|
    lambda { |inst, *args|
        f[inst, args.first, g[inst, *args]]
    }
},</pre></div></div><div class="function" id="HTMLEscape"><h2><code>HTMLEscape[<span class="type">string</span> str] &rarr; <span class="return">string</span> </code><span class="genre">(string/HTML)</span></h2>Escapes <code>str</code> such that it is safe to be passed to an HTML document. (Escapes the following: <code>&<>"</code>.) <button class="source-button" id="HTMLEscape-button">toggle source</button><div id="HTMLEscape-source" class="code-source"><pre>"HTMLEscape" => lambda { |inst, str|
    str.gsub("&", "&amp;").gsub("<", "&lt;").gsub(">", "&gt;").gsub("\"", "&quot;")
},</pre></div></div><div class="function" id="Id"><h2><code>Id[<span class="type">(*)</span> a] &rarr; <span class="return">(*)</span> </code><span class="genre">(functional)</span></h2>Identity function; returns its argument. <button class="source-button" id="Id-button">toggle source</button><div id="Id-source" class="code-source"><pre>"Id" => lambda { |inst, a|
    a
},</pre></div></div><div class="function" id="If"><h2><code>If[<span class="type">(*)</span> cond, <span class="type">expression</span> t, <span class="type">expression</span> f?] &rarr; <span class="return">(*)</span> </code><span class="genre">(logic)</span></h2>If <code>cond</code> is truthy, evaluates <code>t</code>. Otherwise, if <code>f</code> is specified, evaluates <code>f</code>. <h3>Example</h3><div class="example"><code><code class="at_word">If</code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_whitespace"> </code><code class="at_operator">=</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Logic does not hold!&quot;</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Everything is situation normal.&quot;</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_bracket_close">]</code></code></div><a href="https://tio.run/##VcqxCoAgEADQva@4nKOl1saGoKFdHERND8wDvYK@3lx789PM2gRX63bKCRaYhw6aI2NiKXbyaMCSK5CIIVC0vVC/sj4uvxwwecACBfnWjJTaz5eOo1CdqvUD">Try it online!</a><button class="source-button" id="If-button">toggle source</button><div id="If-source" class="code-source"><pre>"If" => lambda { |inst, cond, t, f=nil|
    res = if AtState.truthy? cond
        t
    else
        f
    end
    inst.evaluate_node_safe res
},</pre></div></div><div class="function" id="Im"><h2><code>Im[<span class="type">(*)</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the imaginary part of <code>n</code>, or <code>0</code> if it doesn't exist. <button class="source-button" id="Im-button">toggle source</button><div id="Im-source" class="code-source"><pre>"Im" => vectorize_monad { |inst, n|
    n.imaginary rescue 0
},</pre></div></div><div class="function" id="Imaginary"><h2><code>Imaginary[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/logic)</span></h2><p><em>Vectorizes monadically.</em></p>Returns <code>true</code> if <code>n</code> = <code>a+bi</code> for <code>b /= 0</code>, otherwise <code>false</code>. <button class="source-button" id="Imaginary-button">toggle source</button><div id="Imaginary-source" class="code-source"><pre>"Imaginary" => vectorize_monad { |inst, n|
    @@functions["IsImaginary"][inst, n]
},</pre></div></div><div class="function" id="in"><h2><code>(<span class="type">(*)</span> x) in (<span class="type">[(*)]</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if <code>y</code> contains <code>x</code>, otherwise <code>false</code>. See also: <code><a href="#Has">Has</a></code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_whitespace"> </code><code class="at_operator">in</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? true
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_number">30</code><code class="at_whitespace"> </code><code class="at_operator">in</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? false</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2lghM0/B0Mo0lsveXqGkqDSVCypugCyRlphTDNQCAA">Try it online!</a><button class="source-button" id="in-button">toggle source</button><div id="in-source" class="code-source"><pre>"in" => lambda { |inst, x, y|
    @@functions["Has"][inst, y, x]
},</pre></div></div><div class="function" id="Increasing"><h2><code>Increasing[<span class="type">[(*)]</span> list] &rarr; <span class="return">bool</span> </code><span class="genre">(list/logic)</span></h2>Returns <code>true</code> if each member <code>el</code> is strictly greater than the previous element, otherwise <code>false</code>. <button class="source-button" id="Increasing-button">toggle source</button><div id="Increasing-source" class="code-source"><pre>"Increasing" => lambda { |inst, list|
    inst.cast_list(list).delta.all?(&:positive?) rescue false
},</pre></div></div><div class="function" id="Index"><h2><code>Index[<span class="type">[(*)]</span> list, <span class="type">(*)</span> ind] &rarr; <span class="return">number</span> </code><span class="genre">(list)</span></h2><p><em>Vectorizes dyadically on the right.</em></p>Returns the index of the first occurrence of <code>ind</code> in <code>list</code>. <button class="source-button" id="Index-button">toggle source</button><div id="Index-source" class="code-source"><pre>"Index" => vectorize_dyad(RIGHT) { |inst, list, ind|
    if String === list
        list.index ind
    else
        inst.cast_list(list).index ind
    end
},</pre></div></div><div class="function" id="IndexFlat"><h2><code>IndexFlat[<span class="type">[(*)]</span> list, <span class="type">(*)</span> ind] &rarr; <span class="return">number</span> </code><span class="genre">(list)</span></h2>Returns the index of the first occurrence of <code>ind</code> in <code>list</code>. <button class="source-button" id="IndexFlat-button">toggle source</button><div id="IndexFlat-source" class="code-source"><pre>"IndexFlat" => lambda { |inst, list, ind|
    inst.cast_list(list).index ind
},</pre></div></div><div class="function" id="Indices"><h2><code>Indices[<span class="type">[(*)]</span> list, <span class="type">(*)</span> ind] &rarr; <span class="return">[number]</span> </code><span class="genre">(list)</span></h2><p><em>Vectorizes dyadically on the right.</em></p>Returns all indices at which <code>ind</code> occurs in <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Indices</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[0, 1, 4, 6], [3, 5]]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2jMvJTM5tThaIdpQRwGIjHQUjMEMEBmrAxY2jlWIjeWyt1eIjjYAy5noKJiB5IBqTGNj//8HAA">Try it online!</a><button class="source-button" id="Indices-button">toggle source</button><div id="Indices-source" class="code-source"><pre>"Indices" => vectorize_dyad(RIGHT) { |inst, list, ind|
    inst.cast_list(list).indices ind
},</pre></div></div><div class="function" id="IndicesFlat"><h2><code>IndicesFlat[<span class="type">[(*)]</span> list, <span class="type">(*)</span> ind] &rarr; <span class="return">[number]</span> </code><span class="genre">(list)</span></h2>Returns all indices at which <code>ind</code> occurs in <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">IndicesFlat</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? []</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2jMvJTM5tdgtJ7EkWiHaUEcBiIx0FIzBDBAZqwMWNo5ViI3lsrdXiI79/x8A">Try it online!</a><button class="source-button" id="IndicesFlat-button">toggle source</button><div id="IndicesFlat-source" class="code-source"><pre>"IndicesFlat" => lambda { |inst, list, ind|
    inst.cast_list(list).indices ind
},</pre></div></div><div class="function" id="Integers"><h2><code>Integers[...args] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Returns the first <code>Prod[Size => args]</code> non-negative integers. <button class="source-button" id="Integers-button">toggle source</button><div id="Integers-source" class="code-source"><pre>       "Integers" => lambda { |inst, *args|
           args = args.flat_map { |e| e }
           size = args.prod
           iter = args[1..-1]
           res = (0...size).to_a
           until iter.empty?
               res = @@functions["Chop"][inst, res, iter.pop]
           end
           res
       },</pre></div></div><div class="function" id="Integral"><h2><code>Integral[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/logic)</span></h2><p><em>Vectorizes monadically.</em></p>Returns <code>true</code> if <code>n</code> represents an integer, otherwise <code>false</code>. <button class="source-button" id="Integral-button">toggle source</button><div id="Integral-source" class="code-source"><pre>"Integral" => vectorize_monad { |inst, n|
    n == n.floor
},</pre></div></div><div class="function" id="Intersection"><h2><code>Intersection[<span class="type">[(*)]</span> ...lists] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Returns the intersection of the arguments. <button class="source-button" id="Intersection-button">toggle source</button><div id="Intersection-source" class="code-source"><pre>"Intersection" => lambda { |inst, *lists|
    lists.inject(&:&)
},</pre></div></div><div class="function" id="Intersperse"><h2><code>Intersperse[<span class="type">[(*)]</span> list, <span class="type">(*)</span> joiner] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Returns a list where <code>joiner</code> is placed in between each element of <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Intersperse</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 0, 2, 0, 3]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2jOvJLWouACIU6MNrYx1FAxiY7ns7RWiDYFMHQUjMGkc@/8/AA">Try it online!</a><button class="source-button" id="Intersperse-button">toggle source</button><div id="Intersperse-source" class="code-source"><pre>"Intersperse" => lambda { |inst, list, joiner|
    res = []
    inst.cast_list(list).each_with_index { |e, i|
        res << e
        res << joiner if i != list.size - 1
    }
    res
},</pre></div></div><div class="function" id="IntLog"><h2><code>IntLog[<span class="type">number</span> n, base] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes dyadically.</em></p>Calculates the discrete logarithm of <code>n</code> mod <code>base</code>. <button class="source-button" id="IntLog-button">toggle source</button><div id="IntLog-source" class="code-source"><pre>"IntLog" => vectorize_dyad { |inst, n, base|
    discrete_log n, base
},</pre></div></div><div class="function" id="Invariant"><h2><code>Invariant[<span class="type">fn</span> func, <span class="type">(*)</span> arg?] &rarr; <span class="return">bool</span> </code><span class="genre">(logic)</span></h2>Determines whether or not <code>arg = func[arg]</code> <h3>Arguments</h3><p><code><span class="type">(*)</span> arg?</code> - when omitted, returns a function <code>f[x] = Invariant[func, x]</code>.</p><button class="source-button" id="Invariant-button">toggle source</button><div id="Invariant-source" class="code-source"><pre>"Invariant" => lambda { |inst, func, arg=nil|
    if arg.nil?
        lambda { |inst, arg|
            func[inst, arg] == arg
        }
    else
        func[inst, arg] == arg
    end
},</pre></div></div><div class="function" id="InvocationIndex"><h2><code>InvocationIndex[<span class="type">fn</span> func] &rarr; <span class="return">fn</span> </code><span class="genre">(functional)</span></h2>Given a function <code>func</code>, returns a function which calls <code>func</code> with an additional argument representing the number of times <code>func</code> has been invoked. <button class="source-button" id="InvocationIndex-button">toggle source</button><div id="InvocationIndex-source" class="code-source"><pre>"InvocationIndex" => lambda { |inst, func|
    i = -1
    lambda { |inst, *args|
        func[inst, *args, @@functions["Succ"][inst, i]]
    }
},</pre></div></div><div class="function" id="Iota"><h2><code>Iota[<span class="type">[(*)]|number</span> min] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Returns an range from <code>0</code> (inclusive) to <code>min</code> or the length of <code>min</code> as applicable (exclusive). <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Iota</code><code class="at_bracket_open">[</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [0, 1, 2, 3, 4]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Iota</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hi!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [0, 1, 2]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2jO/JDHaNDaWy95eIdpAR8FQR8FIR8FYR8EklgtJhZJHpqISqqrY//8B">Try it online!</a><button class="source-button" id="Iota-button">toggle source</button><div id="Iota-source" class="code-source"><pre>"Iota" => lambda { |inst, min|
    ((0...min) rescue (0...min.size)).to_a
},</pre></div></div><div class="function" id="is"><h2><code>(<span class="type">(*)</span> x) is (<span class="type">(*)</span> y) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Synonym for <a href="#=="><code>==</code></a>. <button class="source-button" id="is-button">toggle source</button><div id="is-source" class="code-source"><pre>"is" => lambda { |inst, x, y|
    @@operators["=="][inst, x, y]
},</pre></div></div><div class="function" id="is_a"><h2><code>(<span class="type">(*)</span> el) is_a (<span class="type">class</span> klass) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if <code>el</code> is an instance of <code>klass</code>, otherwise <code>false</code>. <button class="source-button" id="is_a-button">toggle source</button><div id="is_a-source" class="code-source"><pre>"is_a" => lambda { |inst, el, klass|
    # https://www.strawpoll.me/15544904/r
    el.parent == klass rescue false
},</pre></div></div><div class="function" id="IsComposite"><h2><code>IsComposite[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/prime)</span></h2><p><em>Vectorizes monadically.</em></p>Returns <code>true</code> if <code>n</code> is composite (not prime), and <code>false</code> otherwise. <button class="source-button" id="IsComposite-button">toggle source</button><div id="IsComposite-source" class="code-source"><pre>"IsComposite" => vectorize_monad { |inst, n|
    !Prime.prime? n
},</pre></div></div><div class="function" id="IsImaginary"><h2><code>IsImaginary[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/logic)</span></h2>Returns <code>true</code> if <code>n</code> = <code>a+bi</code> for <code>b /= 0</code>, otherwise <code>false</code>. <button class="source-button" id="IsImaginary-button">toggle source</button><div id="IsImaginary-source" class="code-source"><pre>"IsImaginary" => lambda { |inst, n|
    if Numeric === n
        unless n.real?
            n.imaginary != 0
        else
            false
        end
    else
        false
    end
},</pre></div></div><div class="function" id="IsPrime"><h2><code>IsPrime[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/prime)</span></h2><p><em>Vectorizes monadically.</em></p>Returns <code>true</code> if <code>n</code> is prime, and <code>false</code> otherwise. <button class="source-button" id="IsPrime-button">toggle source</button><div id="IsPrime-source" class="code-source"><pre>"IsPrime" => vectorize_monad { |inst, n|
    Prime.prime? n
},</pre></div></div><div class="function" id="IsRational"><h2><code>IsRational[<span class="type">(*)</span> x] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/logic)</span></h2>Returns <code>true</code> is <code>n</code> is a <a href="#Rational"><code>Rational</code></a>, <code>false</code> otherwise. <button class="source-button" id="IsRational-button">toggle source</button><div id="IsRational-source" class="code-source"><pre>"IsRational" => lambda { |inst, x|
    Rational === x
},</pre></div></div><div class="function" id="Join"><h2><code>Join[<span class="type">[(*)]</span> list, <span class="type">string</span> joiner?] &rarr; <span class="return">string</span> </code><span class="genre">(string)</span></h2><p><em>Vectorizes dyadically on the right.</em></p>Joins <code>list</code> by <code>joiner</code>. <button class="source-button" id="Join-button">toggle source</button><div id="Join-source" class="code-source"><pre>"Join" => vectorize_dyad(RIGHT) { |inst, list, joiner=""|
    list.join joiner
},</pre></div></div><div class="function" id="Larger"><h2><code>Larger[<span class="type">[(*)]</span> a, <span class="type">[(*)]</span> b] &rarr; <span class="return">(*)</span> </code><span class="genre">(list)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns the larger of <code>a</code> and <code>b</code>. Similar to <a href="#Max"><code>Max</code></a>, except <code>Larger</code> vectorizes. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Larger</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 5
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Larger</code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [3, 2, 3]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2iexKD21KNpQR8E0NpbL3l7BlAtFAiRjpKNgHKujEG0MZhrGQhRCucax//8DAA">Try it online!</a><button class="source-button" id="Larger-button">toggle source</button><div id="Larger-source" class="code-source"><pre>"Larger" => vectorize_dyad { |inst, a, b|
    [*a, *b].max
},</pre></div></div><div class="function" id="Last"><h2><code>Last[<span class="type">[(*)]|string</span> list] &rarr; <span class="return">(*)</span> </code><span class="genre">(list)</span></h2>Returns the last member of <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Last</code><code class="at_bracket_open">[</code><code class="at_string">&quot;hiya&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? a
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Last</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 5</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2iexuCRaKSOzMlEpNpbL3l4hkQtJwtDKFCJq@v8/AA">Try it online!</a><button class="source-button" id="Last-button">toggle source</button><div id="Last-source" class="code-source"><pre>"Last" => lambda { |inst, list|
    inst.cast_list(list)[-1]
},</pre></div></div><div class="function" id="LastIndex"><h2><code>LastIndex[<span class="type">[(*)]</span> list, <span class="type">(*)</span> ind] &rarr; <span class="return">number</span> </code><span class="genre">(list)</span></h2><p><em>Vectorizes dyadically on the right.</em></p>Returns the index of the last occurrence of <code>ind</code> in <code>list</code>. <button class="source-button" id="LastIndex-button">toggle source</button><div id="LastIndex-source" class="code-source"><pre>"LastIndex" => vectorize_dyad(RIGHT) { |inst, list, ind|
    if String === list
        list.rindex ind
    else
        inst.cast_list(list).rindex ind
    end
},</pre></div></div><div class="function" id="LastIndexFlat"><h2><code>LastIndexFlat[<span class="type">[(*)]</span> list, <span class="type">(*)</span> ind] &rarr; <span class="return">number</span> </code><span class="genre">(list)</span></h2>Returns the index of the last occurrence of <code>ind</code> in <code>list</code>. <button class="source-button" id="LastIndexFlat-button">toggle source</button><div id="LastIndexFlat-source" class="code-source"><pre>"LastIndexFlat" => lambda { |inst, list, ind|
    inst.cast_list(list).rindex ind
},</pre></div></div><div class="function" id="LCM"><h2><code>LCM[<span class="type">number</span> ...args] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2>Takes the Least Common Multiple of the atoms of <code>args</code>. <h3>Arguments</h3><p><code><span class="type">number</span> ...args</code> - List of numbers, which can have nested elements.</p><button class="source-button" id="LCM-button">toggle source</button><div id="LCM-source" class="code-source"><pre>"LCM" => lambda { |inst, *args|
    lcm args.flatten
},</pre></div></div><div class="function" id="Lines"><h2><code>Lines[<span class="type">string</span> str] &rarr; <span class="return">[string]</span> </code><span class="genre">(string)</span></h2><p><em>Vectorizes monadically.</em></p>Returns all lines of <code>str</code>; splits on line breaks, which are newlines preceeded by an optional carriage reutrn. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Lines</code><code class="at_bracket_open">[</code><code class="at_string">&quot;abc\nhello&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;abc&quot;, &quot;hello&quot;]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2iczL7U4WikxKTkmLyM1JydfKTaWy95eASykpKOgBBX8/x8A">Try it online!</a><button class="source-button" id="Lines-button">toggle source</button><div id="Lines-source" class="code-source"><pre>"Lines" => vectorize_monad { |inst, str|
    str.split(/\r?\n/)
},</pre></div></div><div class="function" id="List"><h2><code>List[<span class="type">(*)</span> ent] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Forces <code>ent</code> into a list. <h3>Arguments</h3><p><code><span class="type">number</span> ent</code> - Returns the digits of <code>ent</code>.</p><p><code><span class="type">string</span> ent</code> - Returns the characters of <code>ent</code>.</p><p><code><span class="type">hash</span> ent</code> - Returns an array of key-value pairs in <code>ent</code>.</p><button class="source-button" id="List-button">toggle source</button><div id="List-source" class="code-source"><pre>"List" => lambda { |inst, ent|
    inst.cast_list ent
},</pre></div></div><div class="function" id="Ln"><h2><code>Ln[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes monadically.</em></p>Takes the natural logarithm of <code>n</code>. Note that <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ln</mi><mo>(</mo><mi>n</mi><mo>)</mo><mo>=</mo><msub><mi>log</mi><mi>e</mi></msub><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="Ln-button">toggle source</button><div id="Ln-source" class="code-source"><pre>"Ln" => vectorize_monad { |inst, n|
    Math::log n
},</pre></div></div><div class="function" id="Local"><h2><code>Local[<span class="type">string</span> name, <span class="type">(*)</span> value] &rarr; <span class="return">(*)</span> </code><span class="genre">(scope)</span></h2>Defines <code>name</code> in the local scope as <code>value</code>. Returns <code>value</code>. <button class="source-button" id="Local-button">toggle source</button><div id="Local-source" class="code-source"><pre>"Local" => lambda { |inst, name, value|
    inst.define_local name, value
},</pre></div></div><div class="function" id="Log"><h2><code>Log[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes monadically.</em></p>Takes the base-<code>10</code> logarithm of <code>n</code>. <button class="source-button" id="Log-button">toggle source</button><div id="Log-source" class="code-source"><pre>"Log" => vectorize_monad { |inst, n|
    Math::log10 n
},</pre></div></div><div class="function" id="LogBase"><h2><code>LogBase[<span class="type">number</span> n, b] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes dyadically.</em></p>Takes the base-<code>b</code> logarithm of <code>n</code>. <button class="source-button" id="LogBase-button">toggle source</button><div id="LogBase-source" class="code-source"><pre>"LogBase" => vectorize_dyad { |inst, n, b|
    force_number Math::log n, b
},</pre></div></div><div class="function" id="LowerTriangle"><h2><code>LowerTriangle[<span class="type">[[(*)]]</span> mat, <span class="type">bool</span> strict?] &rarr; <span class="return">[[(*)]]</span> </code><span class="genre">(list/matrix)</span></h2>Returns the lower triangle of <code>mat</code>, where the remaining values are replaced with zeroes. <h3>Arguments</h3><p><code><span class="type">bool</span> strict?</code> - If <code>true</code>, includes the diagonal. Default: <code>true</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">mat</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Integers</code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_operator">+</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_whitespace">
</code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">mat</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">??  1 2 3
</code><code class="at_comment">??  4 5 6
</code><code class="at_comment">??  7 8 9
</code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">LowerTriangle</code><code class="at_bracket_open">[</code><code class="at_word">mat</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">??  1 0 0
</code><code class="at_comment">??  4 5 0
</code><code class="at_comment">??  7 8 9
</code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">LowerTriangle</code><code class="at_bracket_open">[</code><code class="at_word">mat</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">true</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">??  0 0 0
</code><code class="at_comment">??  4 0 0
</code><code class="at_comment">??  7 8 0</code></code></div><a href="https://tio.run/##SywpSUzOSP3/PzexRMHKVsEzryQ1PbWoONpYR8E4VkFbwZDLJbO4ICexMhqoIpbL3l5BwVDBSMEYzDJRMFUwA7PMFSwULOFKffLLU4tCijIT89JzUsEaYToNFAzgOg2I0amjUFJUmgrVb4Ck3wBJv8H//wA">Try it online!</a><button class="source-button" id="LowerTriangle-button">toggle source</button><div id="LowerTriangle-source" class="code-source"><pre>"LowerTriangle" => lambda { |inst, mat, strict=false|
    lower_triangle mat, AtState.truthy?(strict)
},</pre></div></div><div class="function" id="Mask"><h2><code>Mask[<span class="type">[(*)]</span> mask, <span class="type">[(*)]</span> list] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(logic)</span></h2><p><em>Reforms result.</em></p>Selects all elements <code>el</code> in <code>list</code> whose respective member in <code>mask</code> is truthy. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Mask</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_word">true</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">false</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">true</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">true</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">false</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 3, 4]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2jexODtaIbqkqDRVRyEtMacYSEE4SEKxOgqGVqaxsVz29grRhjoKxjoKJrH//wMA">Try it online!</a><button class="source-button" id="Mask-button">toggle source</button><div id="Mask-source" class="code-source"><pre>"Mask" => lambda { |inst, mask, list|
    masked = inst.cast_list(list).select.with_index { |e, i|
        AtState.truthy? mask[i]
    }
    reform_list masked, list
},</pre></div></div><div class="function" id="Match"><h2><code>Match[<span class="type">string</span> source, <span class="type">(*)</span> match] &rarr; <span class="return">string</span> </code><span class="genre">(string/regex)</span></h2><p><em>Vectorizes dyadically.</em></p>Matches first occurrence of <code>match</code> (cast to regex) in <code>source</code>. If only one argument <code>source</code> is given, then returns a function which takes the source as input. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Match</code><code class="at_bracket_open">[</code><code class="at_string">&quot;no you?&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;.{3}&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;no &quot;
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Match</code><code class="at_bracket_open">[</code><code class="at_string">&quot;cat in the hat&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;[ch]at&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;cat&quot;
</code><code class="at_word">match2vowels</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Match</code><code class="at_bracket_open">[</code><code class="at_raw_string">`&quot;\w*[aeiou]{2}\w*&quot;</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">match2vowels</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, loopy man!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;loopy&quot;</code></code></div><a href="https://tio.run/##VYwxC8IwEIX3/orzRikOdRMkq4vgHgMeIZBCmhO9tpTS3x4TraDb3Xvf90iErHcpXR5tFH0msV5jZJi4V1gD7ub9gsZUSkGJsfoDLQm0EcQ78CSF19abfK1G7rHqCtsMPLrwhMMRPu4Nr@NWk2u5N3Oz5AfNOv4raDy5ELiGwHyfoKO4@Y6/E0zpBQ">Try it online!</a><button class="source-button" id="Match-button">toggle source</button><div id="Match-source" class="code-source"><pre>"Match" => vectorize_dyad { |inst, source, match|
    if match.nil?
        match = source
        lambda { |inst, source|
            @@functions["Match"][inst, source, match]
        }
    else
        match = make_regex match
        res = source.match(match).to_a
        if res.empty?
            nil
        elsif res.size == 1
            res[0]
        else
            res
        end
    end
},</pre></div></div><div class="function" id="MatchAll"><h2><code>MatchAll[<span class="type">string</span> source, <span class="type">(*)</span> match] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(string/regex)</span></h2><p><em>Vectorizes dyadically.</em></p>Matches all occurrences of <code>match</code> in <code>source</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">MatchAll</code><code class="at_bracket_open">[</code><code class="at_string">&quot;no you?&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;.{3}&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;no &quot;, &quot;you&quot;]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">MatchAll</code><code class="at_bracket_open">[</code><code class="at_string">&quot;cat in the hat&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;[ch]at&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;cat&quot;, &quot;hat&quot;]
</code><code class="at_word">match2vowels</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">MatchAll</code><code class="at_bracket_open">[</code><code class="at_raw_string">`&quot;\w*[aeiou]{2}\w*&quot;</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">match2vowels</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, loopy man!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;loopy&quot;]</code></code></div><a href="https://tio.run/##XY2xCsJADIb3PkXMKOJQN0GKm4vgfgYMx8EVrhfR1FJKn/3sVSzilnx/vvysyta7lC6POqo5s1p/DMFgFOilrXADuB12IxIVVQUzz2zKkIp/ybJCHUG9A8@a74z1NE1f235oDqlosle@pHPhCfsDLH9ueO3Whl0tLQ3lOC1L169j8ORCkA0EkXsPDcfVUjQjpJTe">Try it online!</a><button class="source-button" id="MatchAll-button">toggle source</button><div id="MatchAll-source" class="code-source"><pre>"MatchAll" => vectorize_dyad { |inst, source, match|
    if match.nil?
        match = source
        lambda { |inst, source|
            @@functions["MatchAll"][inst, source, match]
        }
    else
        match = make_regex match
        source.scan(match)
    end
},</pre></div></div><div class="function" id="Max"><h2><code>Max[<span class="type">(*)</span> ...args] &rarr; <span class="return">(*)</span> </code><span class="genre">(list)</span></h2>Returns the largest element contained in any atom of <code>args</code>. <button class="source-button" id="Max-button">toggle source</button><div id="Max-source" class="code-source"><pre>"Max" => lambda { |inst, *args|
    (args.flatten - [nil]).max
},</pre></div></div><div class="function" id="Median"><h2><code>Median[<span class="type">[number]</span> list] &rarr; <span class="return">number</span> </code><span class="genre">(list)</span></h2>Returns the median of <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Median</code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 2
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Median</code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 2.5</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2jc1JTMxLzraUEfBSEfBODY2lsveXsGIC6usjoIJTIGe6f//AA">Try it online!</a><button class="source-button" id="Median-button">toggle source</button><div id="Median-source" class="code-source"><pre>"Median" => lambda { |inst, list|
    force_number list.median
},</pre></div></div><div class="function" id="Min"><h2><code>Min[<span class="type">(*)</span> ...args] &rarr; <span class="return">(*)</span> </code><span class="genre">(list)</span></h2>Returns the smallest element contained in any atom of <code>args</code>. <button class="source-button" id="Min-button">toggle source</button><div id="Min-source" class="code-source"><pre>"Min" => lambda { |inst, *args|
    (args.flatten - [nil]).min
},</pre></div></div><div class="function" id="Modify"><h2><code>Modify[<span class="type">string</span> head, <span class="type">expression</span> body] &rarr; <span class="return">(*)</span> </code><span class="genre">(scope)</span></h2>Modifies <code>head</code> according to <code>body</code>. <h3>Arguments</h3><p><code><span class="type">expression</span> body</code> - an expression using the first abstract variable <code>_</code> to represent the original value.</p><h3>Example</h3><div class="example"><code><code class="at_word">a</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_whitespace">
</code><code class="at_word">Modify</code><code class="at_bracket_open">[</code><code class="at_reference">$a</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_abstract">_</code><code class="at_whitespace"> </code><code class="at_operator">*</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_whitespace"> </code><code class="at_operator">+</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">a</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 7</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P1HBylbBmMs3PyUzrTJaJVFHIV5BS8FIQVvBMJYroCgzryQ6MZbL3l7B/P9/AA">Try it online!</a><button class="source-button" id="Modify-button">toggle source</button><div id="Modify-source" class="code-source"><pre>"Modify" => lambda { |inst, head, body|
    init = inst.get_variable head
    result = inst.evaluate_node body, [init]
    inst.define head, result
},</pre></div></div><div class="function" id="Multiply"><h2><code>Multiply[<span class="type">number</span> ...args] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2>Takes the product of the elements of <code>args</code>. <button class="source-button" id="Multiply-button">toggle source</button><div id="Multiply-source" class="code-source"><pre>"Multiply" => lambda { |inst, *args|
    @@functions["Prod"][inst, args]
},</pre></div></div><div class="function" id="N"><h2><code>N[<span class="type">[number]|string|number|(*)</span> ent] &rarr; <span class="return">number</span> </code><span class="genre">(conversion)</span></h2>Converts <code>ent</code> to an integer. <h3>Arguments</h3><p><code><span class="type">[number]</span> ent</code> - Converts <code>ent</code> to base <code>10</code>.</p><p><code><span class="type">string</span> ent</code> - Parses <code>ent</code> as a base <code>10</code> integer.</p><p><code><span class="type">number</span> ent</code> - Converts <code>ent</code> to an integer if it represents one.</p><p><code><span class="type">(*)</span> ent</code> - Attempts to cast <code>ent</code> to an integer.</p><button class="source-button" id="N-button">toggle source</button><div id="N-source" class="code-source"><pre>"N" => lambda { |inst, ent|
    force_number ent
},</pre></div></div><div class="function" id="nand"><h2><code>(<span class="type">(*)</span> a) nand (<span class="type">(*)</span> b) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if one of <code>a</code> and <code>b</code> are falsey, <code>false</code> otherwise. Short-circuits. <button class="source-button" id="nand-button">toggle source</button><div id="nand-source" class="code-source"><pre>"nand" => lambda { |inst, a, b|
    if AtState.falsey? inst.evaluate_node_safe a
        true
    elsif AtState.falsey? inst.evaluate_node_safe b
        true
    else
        false
    end
},</pre></div></div><div class="function" id="Needs"><h2><code>Needs[<span class="type">string</span> ...libs] &rarr; <span class="return">[string]</span> </code><span class="genre">(meta)</span></h2>Imports libraries. Returns list of libaries' names included. <h3>Arguments</h3><p><code><span class="type">string</span> ...libs</code> - list of strings corresponding to library names.</p><button class="source-button" id="Needs-button">toggle source</button><div id="Needs-source" class="code-source"><pre>"Needs" => lambda { |inst, *libs|
    libs.each { |lib|
        inst.load_lib lib
    }
},</pre></div></div><div class="function" id="Negative"><h2><code>Negative[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/logic)</span></h2><p><em>Vectorizes monadically.</em></p>Returns <code>true</code> if <code>n</code> is less than <code>0</code>, otherwise <code>false</code>. <button class="source-button" id="Negative-button">toggle source</button><div id="Negative-source" class="code-source"><pre>"Negative" => vectorize_monad { |inst, n|
    n.negative?
},</pre></div></div><div class="function" id="Nest"><h2><code>Nest[<span class="type">fn</span> f, init, <span class="type">number</span> n] &rarr; <span class="return">(*)</span> </code><span class="genre">(functional)</span></h2>Applies <code>f</code> to <code>init</code> <code>n</code> times. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Nest</code><code class="at_bracket_open">[</code><code class="at_word">Double</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 8 (= 2 ^ 3)</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2i@1uCTaJb80KSdVR8FQR8E4NpbL3l7BQkHDVsFIIU7BWPP/fwA">Try it online!</a><button class="source-button" id="Nest-button">toggle source</button><div id="Nest-source" class="code-source"><pre>"Nest" => lambda { |inst, f, init, n|
    iter = init
    from_numlike(n).times {
        iter = f[inst, iter]
    }
    iter
},</pre></div></div><div class="function" id="NestList"><h2><code>NestList[<span class="type">fn</span> f, init, <span class="type">number</span> n, **opts] &rarr; <span class="return">(*)</span> </code><span class="genre">(functional)</span></h2>Applies <code>f</code> to <code>init</code> <code>n</code> times, keeping the intermediate results. <h3>Options</h3><p><code>first</code> &rarr; Specifies whether or not to include the first element. Default: <code>true</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">NestList</code><code class="at_bracket_open">[</code><code class="at_word">Double</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 4, 8]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">NestList</code><code class="at_bracket_open">[</code><code class="at_word">Double</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">first</code><code class="at_operator">-&gt;</code><code class="at_word">false</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [2, 4, 8]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2i@1uMQns7gk2iW/NCknVUfBUEfBODaWy95eIRrINNJRMNFRsIjlwqNaRyEts6i4RNcuLTGnOBWqF6bx/38A">Try it online!</a><button class="source-button" id="NestList-button">toggle source</button><div id="NestList-source" class="code-source"><pre>"NestList" => configurable { |inst, f, init, n, **opts|
    first = get_default opts, :first, true
    iter = init
    list = first ? [iter] : []
    from_numlike(n).times {
        iter = f[inst, iter]
        list << iter
    }
    list
},</pre></div></div><div class="function" id="NestListWhile"><h2><code>NestListWhile[<span class="type">fn</span> f, <span class="type">(*)</span> init, <span class="type">fn</span> cond, **opts] &rarr; <span class="return">(*)</span> </code><span class="genre">(functional)</span></h2>Applies <code>f</code> to <code>init</code> until <code>cond[init]</code> is truthy. <h3>Options</h3><p><code>first</code> &rarr; whether or not the input element <code>init</code> is included as the first element in the results. Default: <code>true</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">NestListWhile</code><code class="at_bracket_open">[</code><code class="at_word">Halve</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">100</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Even</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [100, 50, 25]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2i@1uMQns7gkPCMzJzXaIzGnLFVHwdDAQEfBtSw1LzaWy95eIRrMNwViI9PY//8B">Try it online!</a><button class="source-button" id="NestListWhile-button">toggle source</button><div id="NestListWhile-source" class="code-source"><pre>"NestListWhile" => configurable { |inst, f, init, cond, **opts|
    first = get_default opts, :first, true
    iter = init
    list = first ? [iter] : []
    while cond[inst, iter]
        iter = f[inst, iter]
        list << iter
    end
    list
},</pre></div></div><div class="function" id="NestWhile"><h2><code>NestWhile[<span class="type">fn</span> f, <span class="type">(*)</span> init, <span class="type">fn</span> cond] &rarr; <span class="return">(*)</span> </code><span class="genre">(functional)</span></h2>Applies <code>f</code> to <code>init</code> until <code>cond[init]</code> is truthy. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">NestWhile</code><code class="at_bracket_open">[</code><code class="at_word">Halve</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">100</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Even</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 25</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2i@1uCQ8IzMnNdojMacsVUfB0MBAR8G1LDUvNpbL3l7ByPT/fwA">Try it online!</a><button class="source-button" id="NestWhile-button">toggle source</button><div id="NestWhile-source" class="code-source"><pre>"NestWhile" => lambda { |inst, f, init, cond|
    iter = init
    while cond[inst, iter]
        iter = f[inst, iter]
    end
    iter
},</pre></div></div><div class="function" id="New"><h2><code>New[<span class="type">class</span> ac, <span class="type">(*)</span> ...args] &rarr; <span class="return">class[]</span> </code><span class="genre">(class)</span></h2>Instantiates a class with parameters <code>args</code>. <button class="source-button" id="New-button">toggle source</button><div id="New-source" class="code-source"><pre>"New" => lambda { |inst, ac, *args|
    ac.create(*args)
},
</pre></div></div><div class="function" id="NextPrime"><h2><code>NextPrime[<span class="type">number</span> n, <span class="type">number</span> rep?] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/prime)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns the next prime greater than <code>n</code>. <h3>Arguments</h3><p><code><span class="type">number</span> rep?</code> - When specified, returns the <code>rep</code>th prime after <code>n</code>.</p><button class="source-button" id="NextPrime-button">toggle source</button><div id="NextPrime-source" class="code-source"><pre>"NextPrime" => vectorize_dyad { |inst, n, rep=1|
    rep.times {
        n += 1 + n % 2
        n += 2 until Prime.prime? n
    }
    n
},</pre></div></div><div class="function" id="None"><h2><code>None[<span class="type">fn|[(*)]</span> f, <span class="type">[(*)]</span> list?] &rarr; <span class="return">bool</span> </code><span class="genre">(logic)</span></h2>Returns <code>Not[Any[...]]</code>. <h3>Arguments</h3><p><code><span class="type">[(*)]</span> list?</code> - When omitted, returns <code>true</code> if any member of <code>f</code> is truthy. Otherwise, returns <code>false</code>. When specified, <code>f</code> <em>must</em> be a function.</p><button class="source-button" id="None-button">toggle source</button><div id="None-source" class="code-source"><pre>"None" => lambda { |inst, f, list=nil|
    !@@functions["Any"][inst, f, list]
},</pre></div></div><div class="function" id="nor"><h2><code>(<span class="type">(*)</span> a) nor (<span class="type">(*)</span> b) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if both of <code>a</code> and <code>b</code> are falsey, <code>false</code> otherwise. Short-circuits. <button class="source-button" id="nor-button">toggle source</button><div id="nor-source" class="code-source"><pre>"nor" => lambda { |inst, a, b|
    if AtState.truthy? inst.evaluate_node_safe a
        false
    elsif AtState.truthy? inst.evaluate_node_safe b
        false
    else
        true
    end
},</pre></div></div><div class="function" id="not"><h2><code>(<span class="type">(*)</span> a) not (<span class="type">(*)</span> b) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>false</code> if <code>b</code> is truthy, <code>a</code> otherwise. <h3>Example</h3><div class="example"><code><code class="at_word">even_nonpos</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_func_start">{</code><code class="at_whitespace"> </code><code class="at_word">Even</code><code class="at_bracket_open">[</code><code class="at_abstract">_</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_operator">not</code><code class="at_whitespace"> </code><code class="at_word">Positive</code><code class="at_bracket_open">[</code><code class="at_abstract">_</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_func_end">}</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Select</code><code class="at_bracket_open">[</code><code class="at_word">even_nonpos</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_operator">-</code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_operator">-</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_operator">-</code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [-4, -2, 0]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P7UsNS8@Lz@vIL9YwcpWoVrBFSgQHR@rkJdfohCQX5xZklmWCuLXcgUUZeaVRAen5qQml0Qj6dNRiNY10VHQNQZiIx0FAx0FIAnkmMTGxnLZ20NlQTKx//8DAA">Try it online!</a><button class="source-button" id="not-button">toggle source</button><div id="not-source" class="code-source"><pre>"not" => lambda { |inst, a, b|
    # A && !B
    rres = inst.evaluate_node_safe b
    if AtState.truthy? rres
        false
    else
        inst.evaluate_node_safe a
    end
},</pre></div></div><div class="function" id="Not"><h2><code>Not[<span class="type">(*)</span> arg] &rarr; <span class="return">bool</span> </code><span class="genre">(logic)</span></h2>Returns <code>true</code> if <code>arg</code> is falsey, <code>false</code> otherwise. (See also: <a href="#Falsey"><code>Falsey</code></a>.) <button class="source-button" id="Not-button">toggle source</button><div id="Not-source" class="code-source"><pre>"Not" => lambda { |inst, arg|
    AtState.falsey? arg
},</pre></div></div><div class="function" id="unary_not"><h2><code>not (<span class="type">(*)</span> arg) &rarr; <span class="return">bool</span> </code><span class="genre">(unary operator)</span></h2>Returns <code>false</code> if <code>b</code> is truthy, <code>true</code> otherwise. <button class="source-button" id="unary_not-button">toggle source</button><div id="unary_not-source" class="code-source"><pre>"not" => lambda { |inst, arg|
    AtState.falsey? inst.evaluate_node arg
},</pre></div></div><div class="function" id="Numerator"><h2><code>Numerator[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/rational)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the numerator of <code>n</code>. <button class="source-button" id="Numerator-button">toggle source</button><div id="Numerator-source" class="code-source"><pre>"Numerator" => vectorize_monad { |inst, n|
    Rational(n).numerator
},</pre></div></div><div class="function" id="Numeric"><h2><code>Numeric[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/logic)</span></h2>Returns <code>true</code> if <code>n</code> is a numeric value, otherwise <code>false</code>. <button class="source-button" id="Numeric-button">toggle source</button><div id="Numeric-source" class="code-source"><pre>"Numeric" => lambda { |inst, n|
    Numeric === n
},
</pre></div></div><div class="function" id="Oct"><h2><code>Oct[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/bases)</span></h2><p><em>Vectorizes monadically.</em></p>Converts <code>n</code> to base <code>8</code>. <button class="source-button" id="Oct-button">toggle source</button><div id="Oct-source" class="code-source"><pre>"Oct" => vectorize_monad { |inst, n|
    @@functions["ToBase"][inst, n, 8]
},</pre></div></div><div class="function" id="Odd"><h2><code>Odd[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/logic)</span></h2><p><em>Vectorizes monadically.</em></p>Returns <code>true</code> if <code>n</code> is odd (not a multiple of <code>2</code>), otherwise <code>false</code>. <button class="source-button" id="Odd-button">toggle source</button><div id="Odd-source" class="code-source"><pre>"Odd" => vectorize_monad { |inst, n|
    n.odd?
},</pre></div></div><div class="function" id="On"><h2><code>On[<span class="type">fn|[number]</span> cond, <span class="type">fn</span> f, <span class="type">[(*)]</span> arr] &rarr; <span class="return">[number]</span> </code><span class="genre">(functional)</span></h2><p><em>Curries.</em></p>Applies <code>f</code> to indices of <code>arr</code>, selected by <code>cond</code>. <h3>Arguments</h3><p><code><span class="type">fn</span> cond</code> - If the given index yields true over <code>cond</code>, then the respective element is mapped to <code>f</code>.</p><p><code><span class="type">[number]</span> cond</code> - If the given index is a member of <code>cond</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">on_second</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">On</code><code class="at_bracket_open">[</code><code class="at_word">Odd</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">rev_second</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">on_second</code><code class="at_bracket_open">[</code><code class="at_word">Reverse</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">rev_second</code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_whitespace">
    </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_bracket_open">[</code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">6</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_bracket_open">[</code><code class="at_string">&quot;a&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;b&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;c&quot;</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_bracket_open">[</code><code class="at_string">&quot;d&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;e&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;f&quot;</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1, 2, 3], [6, 5, 4], [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], [&quot;f&quot;, &quot;e&quot;, &quot;d&quot;]]</code></code></div><a href="https://tio.run/##XYzBCsIwEETv@Yplz3tR2x4E6SdUvC5LickWvaSQhv5@bBRTcQ/DvmFmbErWPTTnOYyLujl4OF9gCDx4Lybq@uPWCN901biomGt8hsR7jNnAdnwgOBKchD7YELQE3RfRIgHeizispi@sRSYUIyKm74H3KeDuPdOU929iM6Za9yiS8ws">Try it online!</a><button class="source-button" id="On-button">toggle source</button><div id="On-source" class="code-source"><pre>       "On" => curry { |inst, cond, f, arr|
           unless AtState.func_like? cond
               old = [*cond]
               cond = lambda { |inst, e| old.include? e }
           end
           map_vector(inst, arr, with_index: true) { |inst, e, i|
               cond[inst, i] ? f[inst, e] : e
           }
       },</pre></div></div><div class="function" id="Option"><h2><code>Option[<span class="type">string</span> prompt, **opts] &rarr; <span class="return">string</span> </code><span class="genre">(IO)</span></h2>Prints <code>prompt</code> and waits for character input found in <code>opts</code>. <h3>Example</h3><div class="example"><code><code class="at_word">input</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Option</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Press something!&quot;</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_word">s</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_string">&quot;stop this program&quot;</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_word">i</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_string">&quot;print info&quot;</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_word">h</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_string">&quot;print hello world&quot;</code><code class="at_whitespace">
</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? outputs &quot;Press something!&quot;
</code><code class="at_comment">?? user presses the `i` key
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Received:&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Repr</code><code class="at_bracket_open">[</code><code class="at_word">input</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? Received: &quot;i&quot;</code></code></div><a href="https://tio.run/##ZY9BCoNADEX3c4p01vYCQusRKm5FUDR1QnUyTGJLT29HkVJolu/Bf6RT7XqH60o@LAr5BW5BiX1ty4giIDyjOvLjyWYG0gmcr2BFOUDiAiHyGLv5sLTbEMkrkL/zgd0PdjhNDC@O02BNY4oCeNHUFvhPbnYRjKmSDEpKIrTUwgPfptzmalthj/TEIbcZVBhivX/S7MtfB5bsun4A">Try it online!</a><button class="source-button" id="Option-button">toggle source</button><div id="Option-source" class="code-source"><pre>"Option" => lambda { |inst, prompt, **opts|
    read_option prompt, opts
},</pre></div></div><div class="function" id="or"><h2><code>(<span class="type">(*)</span> a) or (<span class="type">(*)</span> b) &rarr; <span class="return">(*)</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>a</code> if <code>a</code> is truthy, <code>b</code> otherwise. Short-circuits. <button class="source-button" id="or-button">toggle source</button><div id="or-source" class="code-source"><pre>"or" => lambda { |inst, a, b|
    lres = inst.evaluate_node_safe a
    if AtState.truthy? lres
        lres
    else
        inst.evaluate_node_safe b
    end
},</pre></div></div><div class="function" id="Ord"><h2><code>Ord[<span class="type">string|number</span> ent, <span class="type">number</span> offset?] &rarr; <span class="return">number</span> </code><span class="genre">(string)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns the UTF-8 ordinal representing <code>ent</code>. <h3>Arguments</h3><p><code><span class="type">number</span> offset?</code> - Specifies the offset at which the ordinal is taken.</p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Ord</code><code class="at_bracket_open">[</code><code class="at_string">&quot;A&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 65
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Ord</code><code class="at_bracket_open">[</code><code class="at_string">&quot;asdf&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 97
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Ord</code><code class="at_bracket_open">[</code><code class="at_string">&quot;asdf&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 115
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Ord</code><code class="at_bracket_open">[</code><code class="at_string">&quot;asdf&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [115, 100, 102]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Ord</code><code class="at_bracket_open">[</code><code class="at_number">33</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 33</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2r8oJVrJUSk2lsveXsHMlAtJNLE4JQ0qYWmOIaGjYAiRMzQ0xSZpZQyRjgbKA7kGBiDCKBZJqTFUhbHx//8A">Try it online!</a><button class="source-button" id="Ord-button">toggle source</button><div id="Ord-source" class="code-source"><pre>"Ord" => vectorize_dyad { |inst, ent, offset=0|
    Numeric === ent ? ent : ent[offset].ord
},</pre></div></div><div class="function" id="Ords"><h2><code>Ords[<span class="type">string|number</span> ent] &rarr; <span class="return">[number]</span> </code><span class="genre">(string)</span></h2><p><em>Vectorizes monadically.</em></p>Maps <code>Ord</code> over the characters of <code>ent</code> if it is a string; otherwise, is equivalent to <code>[Ord[ent]]</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Ords</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [72, 101, 108, 108, 111, 33]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Ords</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">33</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">34</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">35</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [32, 34, 35]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2r8opThaySM1JydfUSk2lsveXiHa3EhHwdDAEERYwAhDINfYOJYLSZdCtLExUNAEiE1jFaB6jY3gQv//AwA">Try it online!</a><button class="source-button" id="Ords-button">toggle source</button><div id="Ords-source" class="code-source"><pre>"Ords" => vectorize_monad { |inst, ent|
    if ent.is_a? String
        ent.chars.map(&:ord)
    else
        ent.ord
    end
},</pre></div></div><div class="function" id="Outers"><h2><code>Outers[<span class="type">[(*)]</span> list, <span class="type">number</span> n?] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2><p><em>Vectorizes dyadically on the right.</em></p>Returns the outermost <code>n</code> elements from the left and right sides of <code>list</code>. <h3>Arguments</h3><p><code><span class="type">number</span> n?</code> - Default: <code>1</code></p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Outers</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 5]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Outers</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 4, 5]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68k2r@0JLWoONrQyjQ2lsveXiHaUEfBNJYLXVJHwQghb6SjYAJS9f8/AA">Try it online!</a><button class="source-button" id="Outers-button">toggle source</button><div id="Outers-source" class="code-source"><pre>"Outers" => vectorize_dyad(RIGHT) { |inst, list, n=1|
    list[0...n] + list[-n..-1]
},</pre></div></div><div class="function" id="Overlap"><h2><code>Overlap[<span class="type">[(*)]</span> list, <span class="type">[(*)]</span> search] &rarr; <span class="return">bool</span> </code><span class="genre">(list/logic)</span></h2>Returns <code>true</code> if <code>search</code> exists as a contiguous subset in <code>list</code>, otherwise <code>false</code>. <button class="source-button" id="Overlap-button">toggle source</button><div id="Overlap-source" class="code-source"><pre>"Overlap" => lambda { |inst, list, search|
    overlap list, search
},</pre></div></div><div class="function" id="PadLeft"><h2><code>PadLeft[<span class="type">(*)</span> ent, <span class="type">number</span> amt, <span class="type">(*)</span> fill?] &rarr; <span class="return">(*)</span> </code><span class="genre">(string)</span></h2>Pads <code>ent</code> to be no less than length <code>amt</code>, padding with fill elements <code>fill</code> on the left. <h3>Arguments</h3><p><code><span class="type">string</span> ent</code> - appends space characters to the left of <code>ent</code>.</p><p><code><span class="type">[(*)]</span> ent</code> - appends <code>0</code>s to the left of <code>ent</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">PadLeft</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Charles&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">20</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;             Charles&quot;
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">PadLeft</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">6</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [0, 0, 0, 1, 2, 3]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/3yWzuCAnsTI6IDHFJzWtJFrJOSOxKCe1WElHwcggNpbL3l5BSQEZwOS5Aooy80rg@gytjHUUzCAaog10FCDIEGiKjoJx7P//AA">Try it online!</a><button class="source-button" id="PadLeft-button">toggle source</button><div id="PadLeft-source" class="code-source"><pre>       "PadLeft" => lambda { |inst, ent, amt, fill=NOT_PROVIDED|
           case ent
               when String
                   fill = default_sentinel(fill, " ")
                   ent.rjust(amt, fill)
               else
                   fill = default_sentinel(fill, 0)
                   ent = inst.cast_list ent
                   until ent.size >= amt
                       ent = [fill, *ent]
                   end
                   ent
           end
       },</pre></div></div><div class="function" id="PadRight"><h2><code>PadRight[<span class="type">(*)</span> ent, <span class="type">number</span> amt, <span class="type">(*)</span> fill?] &rarr; <span class="return">(*)</span> </code><span class="genre">(string)</span></h2>Pads <code>ent</code> to be no less than length <code>amt</code>, padding with fill elements <code>fill</code> on the right. <h3>Arguments</h3><p><code><span class="type">string</span> ent</code> - appends space characters to the right of <code>ent</code>.</p><p><code><span class="type">[(*)]</span> ent</code> - appends <code>0</code>s to the right of <code>ent</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">PadRight</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Charles&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">20</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;Charles             &quot;
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">PadRight</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">6</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 3, 0, 0, 0]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/3yWzuCAnsTI6IDElKDM9oyRayTkjsSgntVhJR8HIIDaWy95eASakgAyUuAKKMvNKEBoNrYx1FMwgOqINgbp1FIACBhAU@/8/AA">Try it online!</a><button class="source-button" id="PadRight-button">toggle source</button><div id="PadRight-source" class="code-source"><pre>       "PadRight" => lambda { |inst, ent, amt, fill=NOT_PROVIDED|
           case ent
               when String
                   fill = default_sentinel(fill, " ")
                   ent.ljust(amt, fill)
               else
                   fill = default_sentinel(fill, 0)
                   ent = inst.cast_list ent
                   until ent.size >= amt
                       ent = [*ent, fill]
                   end
                   ent
           end
       },</pre></div></div><div class="function" id="Palindromic"><h2><code>Palindromic[<span class="type">[(*)]|string</span> ent] &rarr; <span class="return">bool</span> </code><span class="genre">(list/logic)</span></h2>Determines if <code>ent</code> is palindromic, that is, if it is itself reversed. <button class="source-button" id="Palindromic-button">toggle source</button><div id="Palindromic-source" class="code-source"><pre>"Palindromic" => lambda { |inst, ent|
    reverse(ent) == ent
},</pre></div></div><div class="function" id="unary_parentof"><h2><code>parentof (<span class="type">(*)</span> el) &rarr; <span class="return">class|nil</span> </code><span class="genre">(unary operator)</span></h2>Returns the parent class of <code>el</code>, or <code>nil</code> if it doesn't exist. <button class="source-button" id="unary_parentof-button">toggle source</button><div id="unary_parentof-source" class="code-source"><pre>"parentof" => lambda { |inst, el|
    el.parent rescue nil
},</pre></div></div><div class="function" id="Periodic"><h2><code>Periodic[<span class="type">fn</span> f] &rarr; <span class="return">fn</span> </code><span class="genre">(functional)</span></h2>Returns a function which, given <code>(*) x</code>, applies <code>f</code> to <code>x</code> until a result occurs twice, then returns the final result. <h3>Example</h3><div class="example"><code><code class="at_word">dig_root</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Periodic</code><code class="at_bracket_open">[</code><code class="at_word">Sum</code><code class="at_operator">@</code><code class="at_word">Digits</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">dig_root</code><code class="at_bracket_open">[</code><code class="at_number">1853</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 8</code></code></div><a href="https://tio.run/##SywpSUzOSP3/PyUzPb4oP79EwcpWISC1KDM/JTM5Org018ElMz2zpDiWK6AoM68kGqYs2tDC1Dg2lsveXsHi/38A">Try it online!</a><button class="source-button" id="Periodic-button">toggle source</button><div id="Periodic-source" class="code-source"><pre>"Periodic" => lambda { |inst, f|
    # p "PERIODOC #{f}"
    lambda { |inst, x|
        periodicloop(f.bind(inst), x).last
    }
},</pre></div></div><div class="function" id="PeriodicSteps"><h2><code>PeriodicSteps[<span class="type">fn</span> f] &rarr; <span class="return">fn</span> </code><span class="genre">(functional)</span></h2>Returns a function which, given <code>(*) x</code>, applies <code>f</code> to <code>x</code> until a result occurs twice, then returns the list of intermediate steps. <h3>Example</h3><div class="example"><code><code class="at_word">dig_root_steps</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">PeriodicSteps</code><code class="at_bracket_open">[</code><code class="at_word">Sum</code><code class="at_operator">@</code><code class="at_word">Digits</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">dig_root_steps</code><code class="at_bracket_open">[</code><code class="at_number">1853</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1853, 17, 8, 8]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/PyUzPb4oP78kvrgktaBYwcpWISC1KDM/JTM5GCQQHVya6@CSmZ5ZUhzLFVCUmVcSjaoj2tDC1Dg2lsveXgHM1FEwNNdRsACi2P//AQ">Try it online!</a><button class="source-button" id="PeriodicSteps-button">toggle source</button><div id="PeriodicSteps-source" class="code-source"><pre>"PeriodicSteps" => lambda { |inst, f|
    lambda { |inst, x|
        periodicloop f.bind(inst), x
    }
},</pre></div></div><div class="function" id="PlusMinus"><h2><code>PlusMinus[<span class="type">number</span> a, <span class="type">number</span> b] &rarr; <span class="return">[number]</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>[a - b, a + b]</code>. <button class="source-button" id="PlusMinus-button">toggle source</button><div id="PlusMinus-source" class="code-source"><pre>"PlusMinus" => vectorize_dyad { |inst, a, b|
    [@@operators["+"][inst, a, b], @@operators["-"][inst, a, b]]
},</pre></div></div><div class="function" id="Polygonal"><h2><code>Polygonal[<span class="type">number</span> n, <span class="type">number</span> order=3] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/series)</span></h2><p><em>Vectorizes dyadically.</em></p>Obtains the <code>n</code>th <code>order</code>-agonal number. <h3>Example</h3><div class="example"><code><code class="at_comment">(* The triangular numbers (default) *)</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Polygonal</code><code class="at_bracket_open">[</code><code class="at_number">0</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [0, 1, 3, 6, 10, 15]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Polygonal</code><code class="at_bracket_open">[</code><code class="at_number">0</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [0, 1, 3, 6, 10, 15]
</code><code class="at_whitespace">
</code><code class="at_comment">(* The square numbers *)</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Polygonal</code><code class="at_bracket_open">[</code><code class="at_number">0</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [0, 1, 4, 9, 16, 25]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/X0NLISQjVaGkKDMxL700J7FIIa80Nym1qFhBIyU1LbE0p0RTQUuTK6AoM68kOiA/pzI9Py8xJ9rAylRHwTg2lsveXiHaQEfBEMjTUTADMkAc01hsGvCo5oI6o7iwNLEoFe4EXBaboBhloqNgCWQAjTMyjf3/HwA">Try it online!</a><button class="source-button" id="Polygonal-button">toggle source</button><div id="Polygonal-source" class="code-source"><pre>"Polygonal" => vectorize_dyad { |inst, n, order=3|
    gonal n, order
},</pre></div></div><div class="function" id="Pop"><h2><code>Pop[<span class="type">[(*)]</span> list] &rarr; <span class="return">(*)</span> </code><span class="genre">(list)</span></h2>Pops a member from the end of <code>list</code>, modifying it. Returns that element. <button class="source-button" id="Pop-button">toggle source</button><div id="Pop-source" class="code-source"><pre>"Pop" => lambda { |inst, list|
    list.pop
},</pre></div></div><div class="function" id="Positions"><h2><code>Positions[<span class="type">[(*)]</span> arr, <span class="type">[(*)]</span> els?] &rarr; <span class="return">[(*), [(*)]]</span> </code><span class="genre">(list)</span></h2>Returns a list of lists of the form <code>[id, inds]</code>, where <code>id</code> corresponds to a unique element of <code>els</code>. <code>inds</code> is a narray of indices where <code>id</code> occurs. <h3>Arguments</h3><p><code><span class="type">[(*)]</span> els?</code> - Default: <code>arr</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">Positions</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
 </code><code class="at_number">1</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">0</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_whitespace">
 </code><code class="at_number">2</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace">
 </code><code class="at_number">3</code><code class="at_whitespace">    </code><code class="at_bracket_open">[</code><code class="at_number">2</code><code class="at_bracket_close">]</code><code class="at_whitespace">
 </code><code class="at_number">4</code><code class="at_whitespace">    </code><code class="at_bracket_open">[</code><code class="at_number">4</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">Positions</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_string">&quot;l&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_string">&quot;l&quot;</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_string">&quot;!&quot;</code><code class="at_whitespace">    </code><code class="at_bracket_open">[</code><code class="at_number">5</code><code class="at_bracket_close">]</code></code></div><a href="https://tio.run/##ZYw7CgMxDET7PcWsahXxZ2@QImV6ocKEhRhMHLCbnN4RalfF8Bg0r8xZXu9zrXsd31Z@8uyjzto/QyCBERnJMzOCQnVDgNwYh1H0l2SUYCfRKDtl3a5Cepyt9Z0YQs2SdlITGtvUPdb4/NC1/g">Try it online!</a><button class="source-button" id="Positions-button">toggle source</button><div id="Positions-source" class="code-source"><pre>"Positions" => lambda { |inst, arr, els=arr|
    arr = inst.cast_list arr
    els = inst.cast_list els
    positions arr, els
},</pre></div></div><div class="function" id="Positive"><h2><code>Positive[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/logic)</span></h2><p><em>Vectorizes monadically.</em></p>Returns <code>true</code> if <code>n</code> is greater than <code>0</code>, otherwise <code>false</code>. <button class="source-button" id="Positive-button">toggle source</button><div id="Positive-source" class="code-source"><pre>"Positive" => vectorize_monad { |inst, n|
    n.positive?
},</pre></div></div><div class="function" id="Powerset"><h2><code>Powerset[<span class="type">[(*)]</span> list] &rarr; <span class="return">[[(*)]]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result's elements.</em></p>Returns the powerset of <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Powerset</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">9</code><code class="at_comma">,</code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_number">6</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[], [9], [4], [9, 4], [6], [9, 6], [4, 6], [9, 4, 6]]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Powerset</code><code class="at_bracket_open">[</code><code class="at_number">123</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [0, 1, 2, 12, 3, 13, 23, 123]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOiC/PLWoOLUkWiHaUsdExyxWITaWy95eITo6VgcoBCJMwCwdBTBtBuWAaRMoDZIEMWO50Aw1NDKGGmego2Coo2AEJIHYGEgBsRGIBqr4/x8A">Try it online!</a><button class="source-button" id="Powerset-button">toggle source</button><div id="Powerset-source" class="code-source"><pre>"Powerset" => lambda { |inst, list|
    inst.cast_list(list).powerset.map { |e|
        reform_list e, list
    }
},</pre></div></div><div class="function" id="Pred"><h2><code>Pred[<span class="type">(*)</span> ent] &rarr; <span class="return">(*)</span> </code><span class="genre">(data)</span></h2>Returns the successor of <code>ent</code>. <button class="source-button" id="Pred-button">toggle source</button><div id="Pred-source" class="code-source"><pre>"Pred" => lambda { |inst, ent|
    ent.pred
},</pre></div></div><div class="function" id="Prefixes"><h2><code>Prefixes[<span class="type">[(*)]</span> list] &rarr; <span class="return">[[(*)]]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result's elements.</em></p>Returns the non-empty prefixes of <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Prefixes</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1], [1, 2], [1, 2, 3], [1, 2, 3, 4], [1, 2, 3, 4, 5]]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Prefixes</code><code class="at_bracket_open">[</code><code class="at_string">&quot;hi?&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;h&quot;, &quot;hi&quot;, &quot;hi?&quot;]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Prefixes</code><code class="at_bracket_open">[</code><code class="at_number">901</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [9, 90, 901]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOqAoNS2zIrU42tDKNDaWy95eITraMFZHIdpQR8EIRusoGCMxdRRMUHk6CiCtaOYpZWTaK0FNVMpQ0lEACkBIoDC6YksDQ6hSSx0FSwMQNoz9/x8A">Try it online!</a><button class="source-button" id="Prefixes-button">toggle source</button><div id="Prefixes-source" class="code-source"><pre>"Prefixes" => lambda { |inst, list|
    inst.cast_list(list).prefixes.map { |e|
        reform_list e, list
    }
},</pre></div></div><div class="function" id="PreviousPrime"><h2><code>PreviousPrime[<span class="type">number</span> n, <span class="type">number</span> rep?] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/prime)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns the closest previous prime before <code>n</code>. <h3>Arguments</h3><p><code><span class="type">number</span> rep?</code> - When specified, returns the <code>rep</code>th prime before <code>n</code>.</p><button class="source-button" id="PreviousPrime-button">toggle source</button><div id="PreviousPrime-source" class="code-source"><pre>"PreviousPrime" => vectorize_dyad { |inst, n, rep=1|
    rep.times {
        break n = nil if n <= 2
        if n == 3
            n = 2
        else
            n -= 1 + n % 2
            n -= 2 until Prime.prime? n
        end
    }
    n
},</pre></div></div><div class="function" id="Prime"><h2><code>Prime[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/prime)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the <code>n</code>th prime, starting at <Code>Prime[1] = 2</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Prime</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">10</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kGkjmpkYbWhkaxMb@/w8A">Try it online!</a><button class="source-button" id="Prime-button">toggle source</button><div id="Prime-source" class="code-source"><pre>"Prime" => vectorize_monad { |inst, n|
    nth_prime n
},</pre></div></div><div class="function" id="PrimeDivision"><h2><code>PrimeDivision[<span class="type">number</span> n] &rarr; <span class="return">[[number, number]]</span> </code><span class="genre">(numeric/prime)</span></h2><p><em>Vectorizes monadically.</em></p>Returns a list of the prime exponents of <code>n</code>. That is, a list of base-exponent pairs <code>[[p1, e1], ..., [pN, eN]]</code> such that <math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>k</mi></msub><mo>&#x2208;</mo><mi mathvariant="normal">&#x2119;</mi></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo>=</mo><munder><mo>&#x220F;</mo><mrow><mn>1</mn><mo>&#x2264;</mo><mi>k</mi><mo>&lt;</mo><mi>n</mi></mrow></munder><msubsup><mi>p</mi><mi>k</mi><msub><mi>e</mi><mi>k</mi></msub></msubsup></math>. <button class="source-button" id="PrimeDivision-button">toggle source</button><div id="PrimeDivision-source" class="code-source"><pre>"PrimeDivision" => vectorize_monad { |inst, n|
    Prime.prime_division n
},</pre></div></div><div class="function" id="PrimeFactors"><h2><code>PrimeFactors[<span class="type">number</span> n] &rarr; <span class="return">[number]</span> </code><span class="genre">(numeric/prime)</span></h2><p><em>Vectorizes monadically.</em></p>Returns a list of the prime factors of <code>n</code> with duplicates. <button class="source-button" id="PrimeFactors-button">toggle source</button><div id="PrimeFactors-source" class="code-source"><pre>"PrimeFactors" => vectorize_monad { |inst, n|
    prime_factors n
},</pre></div></div><div class="function" id="PrimeNu"><h2><code>PrimeNu[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/prime)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the number of unique prime factors of <code>n</code>. <button class="source-button" id="PrimeNu-button">toggle source</button><div id="PrimeNu-source" class="code-source"><pre>"PrimeNu" => vectorize_monad { |inst, n|
    prime_factors(n).uniq.size
},</pre></div></div><div class="function" id="PrimeOmega"><h2><code>PrimeOmega[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/prime)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the number of prime factors of <code>n</code>. <button class="source-button" id="PrimeOmega-button">toggle source</button><div id="PrimeOmega-source" class="code-source"><pre>"PrimeOmega" => vectorize_monad { |inst, n|
    prime_factors(n).size
},
</pre></div></div><div class="function" id="Primes"><h2><code>Primes[<span class="type">number</span> n] &rarr; <span class="return">[number]</span> </code><span class="genre">(numeric/prime)</span></h2><p><em>Vectorizes monadically.</em></p>Returns a list of the first <code>n</code> primes. <button class="source-button" id="Primes-button">toggle source</button><div id="Primes-source" class="code-source"><pre>"Primes" => vectorize_monad { |inst, n|
    Prime.first n
},</pre></div></div><div class="function" id="Print"><h2><code>Print[<span class="type">(*)</span> ...args, **opts] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(IO)</span></h2>Prints each argument of <code>args</code>, separated by spaces. <h3>Options</h3><p><code>after</code> &rarr; String printed after everything else. Default: <code>"\n"</code>.</p>
<p><code>before</code> &rarr; String printed before everything else. Default: <code>""</code>.</p>
<p><code>joiner</code> &rarr; The string which joins <code>args</code>. Default: <code>" "</code>.</p><button class="source-button" id="Print-button">toggle source</button><div id="Print-source" class="code-source"><pre>"Print" => lambda { |inst, *args, **opts|
    joiner = opts[:joiner] || " "
    inst.out.print opts[:before] || ""
    inst.out.print args.map { |e|
        inst.cast_string e
    }.join(joiner)
    inst.out.print opts[:after] || "\n"
    args
},</pre></div></div><div class="function" id="Prod"><h2><code>Prod[<span class="type">[number]</span> list] &rarr; <span class="return">number</span> </code><span class="genre">(list)</span></h2>Returns the product of all members of <code>list</code>. <button class="source-button" id="Prod-button">toggle source</button><div id="Prod-source" class="code-source"><pre>"Prod" => lambda { |inst, list|
    list.inject(1) { |a, c|
        @@operators["*"][inst, a, c]
    }
},</pre></div></div><div class="function" id="Prompt"><h2><code>Prompt[<span class="type">string</span> prompt?] &rarr; <span class="return">string</span> </code><span class="genre">(IO)</span></h2>Prompts for a line of input. Returns string without trailing newline. <h3>Arguments</h3><p><code><span class="type">string</span> prompt?</code> - String to display before input text. Nothing if omitted.</p><button class="source-button" id="Prompt-button">toggle source</button><div id="Prompt-source" class="code-source"><pre>"Prompt" => lambda { |inst, prompt=nil|
    prompt_input prompt, inst.in
},</pre></div></div><div class="function" id="Push"><h2><code>Push[<span class="type">[(*)]</span> list, <span class="type">(*)</span> ...args] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Pushes <code>args</code> to the end of <code>list</code>, modifying it. Returns <code>list</code>. <button class="source-button" id="Push-button">toggle source</button><div id="Push-source" class="code-source"><pre>"Push" => lambda { |inst, list, *args|
    list.push *args
},</pre></div></div><div class="function" id="Pythagorean"><h2><code>Pythagorean[<span class="type">number</span> n] &rarr; <span class="return">[number]</span> </code><span class="genre">(numeric/series)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the <code>n</code>th enumeration of the Pythagorean triples. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_whitespace"> </code><code class="at_operator">=&gt;</code><code class="at_whitespace"> </code><code class="at_word">Pythagorean</code><code class="at_bracket_open">[</code><code class="at_number">0</code><code class="at_operator">:</code><code class="at_number">10</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [3, 4, 5]
</code><code class="at_comment">?? [8, 6, 10]
</code><code class="at_comment">?? [5, 12, 13]
</code><code class="at_comment">?? [15, 8, 17]
</code><code class="at_comment">?? [12, 16, 20]
</code><code class="at_comment">?? [7, 24, 25]
</code><code class="at_comment">?? [24, 10, 26]
</code><code class="at_comment">?? [21, 20, 29]
</code><code class="at_comment">?? [16, 30, 34]
</code><code class="at_comment">?? [9, 40, 41]
</code><code class="at_comment">?? [35, 12, 37]</code></code></div><a href="https://tio.run/##NY6xDoMwDER3vsIfkCGOA4FKNL/AjhiiCkEXKqEs/fr0oriDpXu6O9sp5/Q691KW@31lmp@0fPOZjs@9p2u1D7ZbFyOtYsgb6huMhgZDf6uHdBhpyGAEOChWC2mn6QCJTU5XVc0WPChzjWImraMqYPGNJ/wB9Kxv6XEJWyk/">Try it online!</a><button class="source-button" id="Pythagorean-button">toggle source</button><div id="Pythagorean-source" class="code-source"><pre>"Pythagorean" => vectorize_monad { |inst, n|
    pythagorean n
},</pre></div></div><div class="function" id="Random"><h2><code>Random[<span class="type">number</span> n?, <span class="type">number</span> m?] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns a pseudo-random number. By default, returns a random float between <code>0</code> (inclusive) and <code>1</code> (exclusive). <h3>Arguments</h3><p><code><span class="type">number</span> n?</code> - If <code>m</code> is omitted, returns a random integer between <code>0</code> (inclusive) and <code>n</code> (exclusive).</p><p><code><span class="type">number</span> m?</code> - When provided, returns a random integer between <code>n</code> and <code>m</code>, inclusive.</p><button class="source-button" id="Random-button">toggle source</button><div id="Random-source" class="code-source"><pre>"Random" => vectorize_dyad { |inst, n=nil, m=nil|
    random(n, m)
},</pre></div></div><div class="function" id="Range"><h2><code>Range[<span class="type">number|string</span> min, <span class="type">number|string</span> max?] &rarr; <span class="return">[number|string]</span> </code><span class="genre">(list)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns a range from <code>min</code> to <code>max</code> inclusive. <h3>Arguments</h3><p><code><span class="type">number|string</span> max?</code> - If omitted, returns <code>Range[0, min]</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Range</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 3, 4, 5]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Range</code><code class="at_bracket_open">[</code><code class="at_string">&quot;a&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;d&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOigxLz012lBHwTQ2lsveXgHENNJRMNZRMAGJcSGrUkpU0lFQSlGCqoRwk0BEMlTi/38A">Try it online!</a><button class="source-button" id="Range-button">toggle source</button><div id="Range-source" class="code-source"><pre>"Range" => vectorize_dyad { |inst, min, max=nil|
    if max.nil?
        (0..min).to_a
    else
        (min..max).to_a
    end
},</pre></div></div><div class="function" id="Rational"><h2><code>Rational[<span class="type">number</span> a, <span class="type">number</span> b] &rarr; <span class="return">rational</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns a fraction representing <code>a / b</code>. <button class="source-button" id="Rational-button">toggle source</button><div id="Rational-source" class="code-source"><pre>"Rational" => vectorize_dyad { |inst, a, b|
    Rational(a, b)
},</pre></div></div><div class="function" id="RBond"><h2><code>RBond[<span class="type">fn</span> func, <span class="type">(*)</span> rarg] &rarr; <span class="return">fn</span> </code><span class="genre">(functional)</span></h2>Bonds <code>larg</code> to the right side of <code>func</code>. That is, <code>Bond[func, rarg][...args]</code> is the same as <code>func[...args, rarg]</code>. <button class="source-button" id="RBond-button">toggle source</button><div id="RBond-source" class="code-source"><pre>       "RBond" => lambda { |inst, func, rarg|
           lambda { |inst, *args|
               func[inst, *args, rarg]
           }
       },
</pre></div></div><div class="function" id="Re"><h2><code>Re[<span class="type">(*)</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the imaginary part of <code>n</code>, or <code>n</code> if it doesn't exist. <button class="source-button" id="Re-button">toggle source</button><div id="Re-source" class="code-source"><pre>"Re" => vectorize_monad { |inst, n|
    n.real rescue n
},</pre></div></div><div class="function" id="ReadChar"><h2><code>ReadChar[] &rarr; <span class="return">string</span> </code><span class="genre">(IO)</span></h2>Reads a character from the input. <button class="source-button" id="ReadChar-button">toggle source</button><div id="ReadChar-source" class="code-source"><pre>"ReadChar" => lambda { |inst|
    inst.in.getc
},</pre></div></div><div class="function" id="ReadFloat"><h2><code>ReadFloat[] &rarr; <span class="return">number</span> </code><span class="genre">(IO)</span></h2>Reads a float from the input. <button class="source-button" id="ReadFloat-button">toggle source</button><div id="ReadFloat-source" class="code-source"><pre>"ReadFloat" => lambda { |inst|
    inst.in.gets.chomp.to_f
},</pre></div></div><div class="function" id="ReadInt"><h2><code>ReadInt[] &rarr; <span class="return">number</span> </code><span class="genre">(IO)</span></h2>Reads an integer from the input. <button class="source-button" id="ReadInt-button">toggle source</button><div id="ReadInt-source" class="code-source"><pre>"ReadInt" => lambda { |inst|
    inst.in.gets.chomp.to_i
},</pre></div></div><div class="function" id="ReadLine"><h2><code>ReadLine[] &rarr; <span class="return">string</span> </code><span class="genre">(IO)</span></h2>Reads a line of input, to include any trailing newline. <button class="source-button" id="ReadLine-button">toggle source</button><div id="ReadLine-source" class="code-source"><pre>"ReadLine" => lambda { |inst|
    inst.in.gets
},</pre></div></div><div class="function" id="ReadLineLoop"><h2><code>ReadLineLoop[<span class="type">(*)</span> ...args, <span class="type">fn[string -> string]</span> func] &rarr; <span class="return">[string]</span> </code><span class="genre">(IO)</span></h2>Iterates <code>func</code> over lines of stdin received by <code>Prompt[...args]</code>. Returns a list of these lines modified by <code>func</code>. <h3>Arguments</h3><p><code><span class="type">fn[string -> string]</span> func</code> - A function that receives lines of input and returns a string.</p><button class="source-button" id="ReadLineLoop-button">toggle source</button><div id="ReadLineLoop-source" class="code-source"><pre>"ReadLineLoop" => lambda { |inst, *args, func|
    lines = []
    loop {
        line = @@functions["Prompt"][inst, *args]
        break if line.nil?
        lines << func[inst, line]
    }
    lines
},</pre></div></div><div class="function" id="ReadNumber"><h2><code>ReadNumber[] &rarr; <span class="return">number</span> </code><span class="genre">(IO)</span></h2>Reads a number from the input. <button class="source-button" id="ReadNumber-button">toggle source</button><div id="ReadNumber-source" class="code-source"><pre>"ReadNumber" => lambda { |inst|
    force_number inst.in.gets.chomp
},</pre></div></div><div class="function" id="Real"><h2><code>Real[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/logic)</span></h2><p><em>Vectorizes monadically.</em></p>Returns <code>true</code> if <code>n</code> has no imaginary part, otherwise <code>false</code>. <button class="source-button" id="Real-button">toggle source</button><div id="Real-source" class="code-source"><pre>"Real" => vectorize_monad { |inst, n|
    unless n.real?
        n.imaginary == 0
    else
        true
    end
},</pre></div></div><div class="function" id="Remove"><h2><code>Remove[<span class="type">[(*)]</span> list, <span class="type">(*)</span> ent] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result.</em></p>Returns <code>list</code> without any instances of <code>ent</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Remove</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 4, 5]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Remove</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;l&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;Heo, Word!&quot;
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Remove</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;ll&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;Hello, World!&quot;</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOig1N78sNdrQylRHwTg2lsveXiHaUEfBSEfBREfBNJYLRZWSR2pOTr6OQnh@UU6KopKOglKOEkQPUAYiDhQmqAdJE7LU//8A">Try it online!</a><button class="source-button" id="Remove-button">toggle source</button><div id="Remove-source" class="code-source"><pre>"Remove" => lambda { |inst, list, ent|
    iter = inst.cast_list(list)
    iter.delete ent
    reform_list iter, list
},</pre></div></div><div class="function" id="RemoveAmong"><h2><code>RemoveAmong[<span class="type">[(*)]</span> list, <span class="type">[(*)]</span> ents] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result.</em></p>Returns <code>list</code> without any of the elements specified by <code>ents</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">RemoveAmong</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">9</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_operator">:</code><code class="at_number">7</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 3, 8, 9]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">RemoveAmong</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_reference">$A</code><code class="at_operator">:</code><code class="at_reference">$Z</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? ello, orld!
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">RemoveAmong</code><code class="at_bracket_open">[</code><code class="at_number">12930</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_operator">'</code><code class="at_number">2</code><code class="at_operator">'</code><code class="at_number">4</code><code class="at_operator">'</code><code class="at_number">6</code><code class="at_operator">'</code><code class="at_number">8</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 12930</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOig1N78s1TE3Py892tDKUkfBxMo8NpbL3l4h2lBHwUhHwVhHwUJHwTKWC1O9kkdqTk6@jkJ4flFOiqKSjoKKo5VKFEQ3RAYsgUWnoZGlsYGOgoG6kbqJupm6BUQPWPT/fwA">Try it online!</a><button class="source-button" id="RemoveAmong-button">toggle source</button><div id="RemoveAmong-source" class="code-source"><pre>"RemoveAmong" => lambda { |inst, list, ents|
    ents = ents.nil? ? [ents] : [*ents]
    iter = inst.cast_list(list)
    iter.reject! { |e| ents.include? e }
    reform_list iter, list
},</pre></div></div><div class="function" id="RemoveFirst"><h2><code>RemoveFirst[<span class="type">[(*)]</span> list, <span class="type">(*)</span> ent] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result.</em></p>Returns <code>list</code> without the first occurrence of <code>ent</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">RemoveFirst</code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 3, 4, 4, 5]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">RemoveFirst</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;l&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;Helo, World!&quot;
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">RemoveFirst</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;ll&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;Hello, World!&quot;</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOig1N78s1S2zqLgkOtpQR8FIR8EYjEzAyDQWyImN5bK3V0DIwqS4MI1Q8kjNycnXUQjPL8pJUVTSUVDKUYJoB8kgJIjTiqwXSer/fwA">Try it online!</a><button class="source-button" id="RemoveFirst-button">toggle source</button><div id="RemoveFirst-source" class="code-source"><pre>"RemoveFirst" => lambda { |inst, list, ent|
    iter = inst.cast_list(list)
    index = iter.index ent
    iter.delete_at index unless index.nil?
    reform_list iter, list
},</pre></div></div><div class="function" id="RemoveLast"><h2><code>RemoveLast[<span class="type">[(*)]</span> list, <span class="type">(*)</span> ent] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result.</em></p>Returns <code>list</code> without the first occurrence of <code>ent</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">RemoveLast</code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 3, 3, 4, 4]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">RemoveLast</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;l&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;Hello, Word!&quot;
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">RemoveLast</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;ll&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;Hello, World!&quot;</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOig1N78s1SexuCQ62lBHwUhHwRiMTMDIOBaEY7ns7RUwZGO5MExQ8kjNycnXUQjPL8pJUVTSUVDKUYLoRpIBShClE4tWkNT//wA">Try it online!</a><button class="source-button" id="RemoveLast-button">toggle source</button><div id="RemoveLast-source" class="code-source"><pre>"RemoveLast" => lambda { |inst, list, ent|
    iter = inst.cast_list(list)
    index = iter.rindex ent
    iter.delete_at index unless index.nil?
    reform_list iter, list
},</pre></div></div><div class="function" id="Repeat"><h2><code>Repeat[<span class="type">number</span> ent, amt] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2><p><em>Vectorizes dyadically on the right.</em></p>Returns <code>ent</code> repeated <code>amt</code> times. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Repeat</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;Hello!&quot;, &quot;Hello!&quot;, &quot;Hello!&quot;]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Repeat</code><code class="at_bracket_open">[</code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? []
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Repeat</code><code class="at_bracket_open">[</code><code class="at_number">9</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[9], [9, 9], [9, 9, 9], [9, 9, 9, 9], [9, 9, 9, 9, 9]]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOii1IDWxJFrJIzUnJ19RSUfBODaWy95eAUkEkxXLhaLZREfBAKoLTcZSR8HQyhQqF20Zq6MAEoLTqEwMHkgg9v9/AA">Try it online!</a><button class="source-button" id="Repeat-button">toggle source</button><div id="Repeat-source" class="code-source"><pre>"Repeat" => vectorize_dyad(RIGHT) { |inst, ent, amt|
    Array.new(amt) { ent }
},</pre></div></div><div class="function" id="Replace"><h2><code>Replace[<span class="type">string</span> str, <span class="type">string|regex</span> search, <span class="type">string</span> replace?] &rarr; <span class="return">string</span> </code><span class="genre">(string)</span></h2>Replaces all occurrences of <code>search</code> in <code>str</code> with <code>replace</code>. <h3>Arguments</h3><p><code></code> - : <code>""</code>.</p><button class="source-button" id="Replace-button">toggle source</button><div id="Replace-source" class="code-source"><pre>"Replace" => lambda { |inst, str, search, replace=""|
    replace str, search, replace
},</pre></div></div><div class="function" id="ReplaceF"><h2><code>ReplaceF[<span class="type">string</span> str, <span class="type">string|regex</span> search, <span class="type">fn</span> func] &rarr; <span class="return">string</span> </code><span class="genre">(string)</span></h2>For each <code>e</code> matching <code>search</code> found in <code>str</code>, replaces it with <code>func[e]</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">ReplaceF</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Student 9234-B hsa received a 97.03% on their test.&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_operator">/</code><code class="at_string">&quot;\\d+&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Reverse</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? Student 4329-B hsa received a 79.30% on their test.</code></code></div><a href="https://tio.run/##ZcyxCsIwFAXQ3a94BJzUWJpCyVRwcJY6th0eyYUEJJXk2d@PLi66nemwCLuAWm85JplGPB/scJ3UXV4eSci2pjtdKBSmDIe4wROT7XVj9rQmkoCYSVBEqyOd1Tz7wwcjNuSCZdkNA32vzrT2/@qtNs3vVesb">Try it online!</a><button class="source-button" id="ReplaceF-button">toggle source</button><div id="ReplaceF-source" class="code-source"><pre>"ReplaceF" => lambda { |inst, str, search, func|
    str.gsub(search) { |e|
        func[inst, e]
    }
},</pre></div></div><div class="function" id="ReplaceMultiple"><h2><code>ReplaceMultiple[<span class="type">string</span> str, <span class="type">ConfigureValue</span> ...args] &rarr; <span class="return">string</span> </code><span class="genre">(string)</span></h2>For each ConfigureValue <code>search -&gt; replace</code> in <code>args</code>, replaces all occurrences of <code>search</code> in <code>str</code> with <code>replace</code>. Works iteratively, starting with the first replacement. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">ReplaceMultiple</code><code class="at_bracket_open">[</code><code class="at_whitespace">
    </code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_word">ll</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_string">&quot;no&quot;</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_word">oo</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_string">&quot;&quot;</code><code class="at_comma">,</code><code class="at_whitespace">
    </code><code class="at_word">l</code><code class="at_whitespace"> </code><code class="at_operator">-&gt;</code><code class="at_whitespace"> </code><code class="at_string">&quot;q&quot;</code><code class="at_whitespace">
</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? Hen, Worqd!</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOii1ICcxOdW3NKcksyAnNZpLAQiUPFJzcvJ1FMLzi3JSFJV0wII5OQq6dgpKeflQfn4@mA@TBXMKlbhiY7ns7RU8UvPA2gtTFP//BwA">Try it online!</a><button class="source-button" id="ReplaceMultiple-button">toggle source</button><div id="ReplaceMultiple-source" class="code-source"><pre>"ReplaceMultiple" => lambda { |inst, str, *args|
    str = str.dup
    args.map(&:to_a).each { |k, v|
        str.gsub!(Regexp.new(k), v)
    }
    str
},</pre></div></div><div class="function" id="Resize"><h2><code>Resize[<span class="type">[(*)]</span> list, <span class="type">number</span> size] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result.</em></p>Resizes <code>list</code> to be of length <code>size</code>, cyclically repeating elements if <code>size</code> exceeds <code>#list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Resize</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? He
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Resize</code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">7</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 1, 2, 1, 2, 1]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOii1OLMqNVrJIzUnJ19RSUfBKDaWy95ewSOVC0VBtCFISkfBHCIN5uoooJCx//8DAA">Try it online!</a><button class="source-button" id="Resize-button">toggle source</button><div id="Resize-source" class="code-source"><pre>"Resize" => lambda { |inst, list, size|
    res = resize inst.cast_list(list), size
    reform_list res, list
},</pre></div></div><div class="function" id="Retrieve"><h2><code>Retrieve[<span class="type">string</span> name] &rarr; <span class="return">(*)</span> </code><span class="genre">(scope)</span></h2>Returns the value of the variable whose name is <code>name</code>. <h3>Example</h3><div class="example"><code><code class="at_word">a</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_number">323</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Retrieve</code><code class="at_bracket_open">[</code><code class="at_reference">$a</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 323</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P1HBylbB2MiYK6AoM68kOii1pCgztSw1WiUxNpbL3h4k9f8/AA">Try it online!</a><button class="source-button" id="Retrieve-button">toggle source</button><div id="Retrieve-source" class="code-source"><pre>"Retrieve" => lambda { |inst, name|
    inst.get_variable name
},</pre></div></div><div class="function" id="Reverse"><h2><code>Reverse[<span class="type">(*)</span> ent] &rarr; <span class="return">(*)</span> </code><span class="genre">(list)</span></h2>Reverses the elements of <code>ent</code>. <button class="source-button" id="Reverse-button">toggle source</button><div id="Reverse-source" class="code-source"><pre>"Reverse" => lambda { |inst, ent|
    reverse ent
},
</pre></div></div><div class="function" id="RLE"><h2><code>RLE[<span class="type">(*)</span> list] &rarr; <span class="return">[[(*),  number]]</span> </code><span class="genre">(list)</span></h2>Returns an array representing the run-length encoded version of <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">RLE</code><code class="at_bracket_open">[</code><code class="at_string">&quot;hmmmmm...&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
 </code><code class="at_string">&quot;h&quot;</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_whitespace">
 </code><code class="at_string">&quot;m&quot;</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_whitespace">
 </code><code class="at_string">&quot;.&quot;</code><code class="at_whitespace"> </code><code class="at_number">3</code></code></div><a href="https://tio.run/##SywpSUzOSP3/3yWzuCAnsTI6yMc1WikjFwT09PSUYmO5FJQylBQMgVSukoIpkNJTUjD@/x8A">Try it online!</a><button class="source-button" id="RLE-button">toggle source</button><div id="RLE-source" class="code-source"><pre>"RLE" => lambda { |inst, list|
    inst.cast_list(list)
        .chunk { |e| e }
        .map { |k, v| [k, v.size] }
},</pre></div></div><div class="function" id="Rot"><h2><code>Rot[<span class="type">string</span> str, <span class="type">number</span> amount=13] &rarr; <span class="return">str</span> </code><span class="genre">(string)</span></h2><p><em>Vectorizes dyadically on the right.</em></p>Translates every alphabetic character in <code>str</code> <code>amount</code> character to the right, wrapping around. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Rot</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? Uryyb, Jbeyq!
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Rot</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? Ifmmp, Xpsme!
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Rot</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Ifmmp, Xpsme!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_operator">-</code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? Hello, World!</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOii/JFrJIzUnJ19HITy/KCdFUSk2lsveXiG0qLIySUfBKym1slCRC6diHQVDiHrPtNzcAh2FiILi3FQU9SgSQPW6UA0o5vz/DwA">Try it online!</a><button class="source-button" id="Rot-button">toggle source</button><div id="Rot-source" class="code-source"><pre>"Rot" => vectorize_dyad(RIGHT) { |inst, str, amount=13|
    rotN(str, amount)
},</pre></div></div><div class="function" id="Rotate"><h2><code>Rotate[<span class="type">[(*)]</span> list, <span class="type">number</span> amount=1] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2><p><em>Vectorizes dyadically on the right.</em></p>Rotates <code>list</code> to the left by <code>amount</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Rotate</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [3, 4, 5, 1, 2]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Rotate</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Sorry!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_operator">-</code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? !Sorry</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOii/JLEkNdrQylRHwSg2lsveXiHaWEfBREcBKGAIEuNCUagUnF9UVKmopKOgawhRrggW@f8fAA">Try it online!</a><button class="source-button" id="Rotate-button">toggle source</button><div id="Rotate-source" class="code-source"><pre>"Rotate" => vectorize_dyad(RIGHT) { |inst, list, amount=1|
    iter = inst.cast_list list
    res = rotate iter, amount
    reform_list res, list
},</pre></div></div><div class="function" id="Rotations"><h2><code>Rotations[<span class="type">[(*)]</span> list] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Returns all rotations of <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">Rotations</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
 </code><code class="at_number">1</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_whitespace">
 </code><code class="at_number">2</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_whitespace">
 </code><code class="at_number">3</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_whitespace">
 </code><code class="at_number">4</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_whitespace">
 </code><code class="at_number">5</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_whitespace"> </code><code class="at_number">4</code></code></div><a href="https://tio.run/##SywpSUzOSP3/3yWzuCAnsTI6KL8ksSQzP6842tDKNDaWS8FQwUjBWMFEwZQLxlAw5IIxFIy4YAwFYy4YQ8Hk/38A">Try it online!</a><button class="source-button" id="Rotations-button">toggle source</button><div id="Rotations-source" class="code-source"><pre>"Rotations" => lambda { |inst, list|
    (0...list.size).map { |rot|
        @@functions["Rotate"][inst, list, rot]
    }
},</pre></div></div><div class="function" id="Round"><h2><code>Round[<span class="type">number</span> n, <span class="type">number</span> r?] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes dyadically.</em></p>Returns <code>n</code> rounded half-up to the nearest integer. <h3>Arguments</h3><p><code><span class="type">number</span> r?</code> - the precision to round. No precision if omitted.</p><button class="source-button" id="Round-button">toggle source</button><div id="Round-source" class="code-source"><pre>"Round" => vectorize_dyad { |inst, n, r=nil|
    if r.nil?
        n.round
    else
        n.round(r)
    end
},</pre></div></div><div class="function" id="Same"><h2><code>Same[<span class="type">[(*)]</span> ...args] &rarr; <span class="return">bool</span> </code><span class="genre">(list)</span></h2>Returns <code>true</code> if every member in each argument is the same. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Same</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? false
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Same</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? true
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Same</code><code class="at_bracket_open">[</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? true</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOjgxNzXa0Mo0NpbL3l4hLTGnOJULSUYh2lBHAYpiFSCKSopK0dVYGQPloQSysv//AQ">Try it online!</a><button class="source-button" id="Same-button">toggle source</button><div id="Same-source" class="code-source"><pre>"Same" => lambda { |inst, *args|
    list = args.flatten(1)
    list.all? { |e| e == list[0] }
},</pre></div></div><div class="function" id="Save"><h2><code>Save[<span class="type">(*)</span> ...args] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(meta)</span></h2>Updates values of global abstracts, respective to <code>args</code>. <code>_1</code> would become <code>args[0]</code>, and <code>_<em>n</em></code> would become <code>args[n-1]</code>. <button class="source-button" id="Save-button">toggle source</button><div id="Save-source" class="code-source"><pre>"Save" => lambda { |inst, *args|
    inst.saved = args
},</pre></div></div><div class="function" id="Series"><h2><code>Series[<span class="type">fn[number]</span> f, <span class="type">number</span> max, <span class="type">number</span> start?, **config] &rarr; <span class="return">[number]</span> </code><span class="genre">(functional)</span></h2>Obtains all non-negative values under <code>max</code> by repeating <code>f</code>. <h3>Options</h3><p><code>include</code> &rarr; determines whether or not to include <code>max</code> as an upperbound. Default: <code>false</code></p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Series</code><code class="at_bracket_open">[</code><code class="at_word">Prime</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">13</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [2, 3, 5, 7, 11]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Series</code><code class="at_bracket_open">[</code><code class="at_word">Prime</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">13</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">include</code><code class="at_operator">-&gt;</code><code class="at_word">true</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [2, 3, 5, 7, 11, 13]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOji1KDO1OBrIyU3VUTA0jo3lsrdXiDbSUTDWUTDVUTAHChrGcmFXrKOQmZecU5qSqmtXUlSailUv2ND//wE">Try it online!</a><button class="source-button" id="Series-button">toggle source</button><div id="Series-source" class="code-source"><pre>"Series" => lambda { |inst, f, max, start=0, **config|
    i = start
    collect = []
    loop {
        value = f[inst, i]
        unless value.nil?
            break if config[:include] ? value > max : value >= max
            collect.push value
        end
        i = @@functions["Succ"][inst, i]
    }
    collect
},</pre></div></div><div class="function" id="SeriesIf"><h2><code>SeriesIf[<span class="type">fn[n]</span> f, <span class="type">fn[n->b]</span> cond, <span class="type">number</span> max, <span class="type">number</span> start?, **config] &rarr; <span class="return">[number]</span> </code><span class="genre">(functional)</span></h2>Obtains all non-negative values under <code>max</code> which satisfy <code>cond</code> by repeating <code>f</code>. <h3>Options</h3><p><code>include</code> &rarr; determines whether or not to include <code>max</code> as an upperbound. Default: <code>false</code></p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">SeriesIf</code><code class="at_bracket_open">[</code><code class="at_word">Prime</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Odd</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">13</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [3, 5, 7, 11]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">SeriesIf</code><code class="at_bracket_open">[</code><code class="at_word">Prime</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Odd</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">13</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">include</code><code class="at_operator">-&gt;</code><code class="at_word">true</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [3, 5, 7, 11, 13]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOji1KDO12DMtGsjNTdVR8E9J0VEwNI6N5bK3V4g21lEw1VEwB4oYxnLh1aCjkJmXnFOakqprV1JUmoqpH2zq//8A">Try it online!</a><button class="source-button" id="SeriesIf-button">toggle source</button><div id="SeriesIf-source" class="code-source"><pre>"SeriesIf" => lambda { |inst, f, cond, max, start=0, **config|
    i = start
    collect = []
    loop {
        value = f[inst, i]
        unless value.nil?
            break if config[:include] ? value > max : value >= max
            collect.push value if cond[inst, value]
        end
        i = @@functions["Succ"][inst, i]
    }
    collect
},</pre></div></div><div class="function" id="Shift"><h2><code>Shift[<span class="type">[(*)]</span> list] &rarr; <span class="return">(*)</span> </code><span class="genre">(list)</span></h2>Pops a member from the start of <code>list</code>, modifying it. Returns that element. <button class="source-button" id="Shift-button">toggle source</button><div id="Shift-source" class="code-source"><pre>"Shift" => lambda { |inst, list|
    list.shift
},</pre></div></div><div class="function" id="Sign"><h2><code>Sign[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the sign of <code>n</code>; Returns <code>-1</code> if <code>n</code> is negative, <code>1</code> if it is positive, and <code>0</code> otherwise. <button class="source-button" id="Sign-button">toggle source</button><div id="Sign-source" class="code-source"><pre>"Sign" => vectorize_monad { |inst, n|
    sign n
},</pre></div></div><div class="function" id="Sin"><h2><code>Sin[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>sin</mi><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="Sin-button">toggle source</button><div id="Sin-source" class="code-source"><pre>"Sin" => vectorize_monad { |inst, n|
    Math::sin n
},</pre></div></div><div class="function" id="Sinh"><h2><code>Sinh[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>sinh</mi><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="Sinh-button">toggle source</button><div id="Sinh-source" class="code-source"><pre>"Sinh" => vectorize_monad { |inst, n|
    Math::sinh n
},</pre></div></div><div class="function" id="Slices"><h2><code>Slices[<span class="type">[(*)]</span> list, <span class="type">number|[number]</span> skew=(1..list.size).to_a] &rarr; <span class="return">[[(*)]]</span> </code><span class="genre">(list)</span></h2>Returns all slices of <code>list</code> of length <code>skew</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Slices</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">6</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1, 2], [2, 3], [3, 4], [4, 5], [5, 6]]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOjgnMzm1ONrQykxHwSg2lsveXiE62hDE1lGINtJRMAbRxjoKJiDaREfBFESb6iiYxcb@/w8A">Try it online!</a><button class="source-button" id="Slices-button">toggle source</button><div id="Slices-source" class="code-source"><pre>"Slices" => lambda { |inst, list, skew=(1..list.size).to_a|
    if skew.is_a? Array
        skew.flat_map { |e|
            slices list, e
        }
    else
        slices list, skew
    end
},</pre></div></div><div class="function" id="SlicesFill"><h2><code>SlicesFill[<span class="type">[(*)]</span> list, <span class="type">number|[number]</span> skew=(1..list.size).to_a, **opts] &rarr; <span class="return">[[(*)]]</span> </code><span class="genre">(list)</span></h2>Returns all slices of <code>list</code> of length <code>skew</code>, including an implied threshold of entities to the left and right of <code>list</code>. <h3>Options</h3><p><code>fill</code> &rarr; The entity to fill the threshold. Default: <code>0</code>.</p>
<p><code>compact</code> &rarr; If <code>true</code>, removes the treshold after the slices are generated. Default: <code>false</code>.</p>
<p><code>repeat</code> &rarr; </p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">SlicesFill</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">6</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[0, 1], [1, 2], [2, 3], [3, 4], [4, 5], [5, 6], [6, 0]]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">SlicesFill</code><code class="at_bracket_open">[</code><code class="at_string">&quot;a&quot;</code><code class="at_operator">:</code><code class="at_string">&quot;f&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">fill</code><code class="at_operator">-&gt;</code><code class="at_string">&quot; &quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_bracket_open">[</code><code class="at_bracket_open">[</code><code class="at_string">&quot; &quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;a&quot;</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_string">&quot;a&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;b&quot;</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_string">&quot;b&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;c&quot;</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_string">&quot;c&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;d&quot;</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_string">&quot;d&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;e&quot;</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_string">&quot;e&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;f&quot;</code><code class="at_bracket_close">]</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_string">&quot;f&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot; &quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">SlicesFill</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">compact</code><code class="at_operator">-&gt;</code><code class="at_word">true</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1], [1, 2], [2, 3], [3]]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">SlicesFill</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">repeat</code><code class="at_operator">-&gt;</code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[0, 0], [0, 0], [0, 1], [1, 2], [2, 3], [3, 0], [0, 0], [0, 0]]</code></code></div><a href="https://tio.run/##fZBNC4MwDIbv@xWh5whq1YMHve082DF4qLUywW3iut/fJSsD2dfpeUiTtyTGe2NPLoTDOl08HefJutt@mmfK6goh77pd2wJRipB1CJRJjZkjaKFGKIQFQiksESohz6Y8@5GqjKrVqDgFYeRC0ihQ3EjEROBnmWaw99F7cRvdig/RB3EX3YmP0SU9hn7ZST9/ttfzYqxPGr/e3WvF7/v9i1nd4gyn6M2VUpna8NfV3vv4WiE8AA">Try it online!</a><button class="source-button" id="SlicesFill-button">toggle source</button><div id="SlicesFill-source" class="code-source"><pre>       "SlicesFill" => configurable { |inst, list, skew=(1..list.size).to_a, **opts|
           fill = get_default(opts, :fill, 0)
           compact = get_default(opts, :compact, false)
           repeat = get_default(opts, :repeat, nil)
           list = list.dup
           if compact
               first = last = :none
           elsif AtState.func_like? fill
               first, last = [list.first, list.last].map { |e|
                   fill[inst, e]
               }
           else
               first = last = fill
           end
           res = if skew.is_a? Array
               skew.flat_map { |e|
                   slices_fill list, e, first, last, repeat
               }
           else
               slices_fill list, skew, first, last, repeat
           end
           res.map { |e| e - [:none] }
       },</pre></div></div><div class="function" id="Split"><h2><code>Split[<span class="type">string</span> str, <span class="type">string|regex</span> sep?] &rarr; <span class="return">[string]</span> </code><span class="genre">(string)</span></h2><p><em>Vectorizes dyadically.</em></p>Splits <code>str</code> on occurrences of <code>sep</code>. When <code>sep</code> is omitted, splits <code>str</code> on whitespace. <button class="source-button" id="Split-button">toggle source</button><div id="Split-source" class="code-source"><pre>"Split" => vectorize_dyad { |inst, str, sep=/\s+/|
    str.split sep
},</pre></div></div><div class="function" id="Sqrt"><h2><code>Sqrt[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the square root of <code>n</code>. The result is imaginary if <code>n</code> is negative. <button class="source-button" id="Sqrt-button">toggle source</button><div id="Sqrt-source" class="code-source"><pre>"Sqrt" => vectorize_monad { |inst, n|
    CMath.sqrt n
},</pre></div></div><div class="function" id="Square"><h2><code>Square[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the square of <code>n</code>. <button class="source-button" id="Square-button">toggle source</button><div id="Square-source" class="code-source"><pre>"Square" => vectorize_monad { |inst, n|
    @@operators["*"][inst, n, n]
},</pre></div></div><div class="function" id="StdDev"><h2><code>StdDev[<span class="type">[number]</span> list] &rarr; <span class="return">number</span> </code><span class="genre">(list)</span></h2>Calculates the standard deviation of <code>list</code>. <button class="source-button" id="StdDev-button">toggle source</button><div id="StdDev-source" class="code-source"><pre>"StdDev" => lambda { |inst, list|
    list.stddev
},</pre></div></div><div class="function" id="Stdin"><h2><code>Stdin[] &rarr; <span class="return">string</span> </code><span class="genre">(IO)</span></h2>Reads all of STDIN. <button class="source-button" id="Stdin-button">toggle source</button><div id="Stdin-source" class="code-source"><pre>"Stdin" => lambda { |inst|
    STDIN.read
},</pre></div></div><div class="function" id="Stdout"><h2><code>Stdout[<span class="type">(*)</span> ...args] &rarr; <span class="return">nil</span> </code><span class="genre">(IO)</span></h2>Writes <code>args</code>, joined together, to STDOUT. <button class="source-button" id="Stdout-button">toggle source</button><div id="Stdout-source" class="code-source"><pre>"Stdout" => lambda { |inst, *args|
    print args.flatten.join
},</pre></div></div><div class="function" id="String"><h2><code>String[<span class="type">(*)</span> ent] &rarr; <span class="return">string</span> </code><span class="genre">(conversion)</span></h2>Converts <code>ent</code> to a string. <button class="source-button" id="String-button">toggle source</button><div id="String-source" class="code-source"><pre>"String" => lambda { |inst, ent|
    inst.cast_string ent
},</pre></div></div><div class="function" id="Subtract"><h2><code>Subtract[<span class="type">number</span> ...args] &rarr; <span class="return">number</span> </code><span class="genre">(numeric)</span></h2>Subtracts each number in <code>args</code> by the next. That is, folding subtraction over <code>args</code>. <button class="source-button" id="Subtract-button">toggle source</button><div id="Subtract-source" class="code-source"><pre>"Subtract" => lambda { |inst, *args|
    args.inject(:-)
},</pre></div></div><div class="function" id="Succ"><h2><code>Succ[<span class="type">(*)</span> ent] &rarr; <span class="return">(*)</span> </code><span class="genre">(data)</span></h2>Returns the successor of <code>ent</code>. <button class="source-button" id="Succ-button">toggle source</button><div id="Succ-source" class="code-source"><pre>"Succ" => lambda { |inst, ent|
    ent.succ
},</pre></div></div><div class="function" id="Suffixes"><h2><code>Suffixes[<span class="type">[(*)]</span> list] &rarr; <span class="return">[[(*)]]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result's elements.</em></p>Returns the non-empty suffixes of <code>list</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Suffixes</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [[1, 2, 3, 4, 5], [2, 3, 4, 5], [3, 4, 5], [4, 5], [5]]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Suffixes</code><code class="at_bracket_open">[</code><code class="at_string">&quot;hi?&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [&quot;hi?&quot;, &quot;i?&quot;, &quot;?&quot;]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Suffixes</code><code class="at_bracket_open">[</code><code class="at_number">901</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [901, 1, 1]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOrg0LS2zIrU42tDKNDaWy95eITraUEfBSEfBWEfBREfBNFZHIRqVh8SE0SCtaOYpZWTaK0FNBLN1FJQgJFAYXbGlgSFUKZClowBCsf//AwA">Try it online!</a><button class="source-button" id="Suffixes-button">toggle source</button><div id="Suffixes-source" class="code-source"><pre>"Suffixes" => lambda { |inst, list|
    inst.cast_list(list).suffixes.map { |e|
        reform_list e, list
    }
},</pre></div></div><div class="function" id="TakeWhile"><h2><code>TakeWhile[<span class="type">fn</span> cond, <span class="type">[(*)]</span> list] &rarr; <span class="return">list</span> </code><span class="genre">(functional)</span></h2><p><em>Reforms result.</em></p>Returns elements from <code>list</code> until before the first element which does not satisfy <code>cond</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">TakeWhile</code><code class="at_bracket_open">[</code><code class="at_func_start">{</code><code class="at_abstract">_</code><code class="at_whitespace"> </code><code class="at_operator">/=</code><code class="at_whitespace"> </code><code class="at_word">sp</code><code class="at_func_end">}</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;Hello,&quot;
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">TakeWhile</code><code class="at_bracket_open">[</code><code class="at_word">Even</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_bracket_open">[</code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">6</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [2, 4, 6]
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">TakeWhile</code><code class="at_bracket_open">[</code><code class="at_word">IsPrime</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">357923</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 357</code></code></div><a href="https://tio.run/##SywpSUzOSP3/3yWzuCAnsTI6JDE7NTwjMyc1ujpeQd9WobigVkdBySM1JydfRyE8vygnRVEpNpbL3h4mqMQVUJSZV4Kk0bUsNU9HIdpIR8FER8FMR8FQRwHINo6FaIOJx2Lo8ywGiuSmApWamlsaGUOUA9n//wMA">Try it online!</a><button class="source-button" id="TakeWhile-button">toggle source</button><div id="TakeWhile-source" class="code-source"><pre>       "TakeWhile" => lambda { |inst, cond, list|
           collect = []
           inst.cast_list(list).each { |el|
               break unless cond[inst, el]
               collect << el
           }
           reform_list collect, list
       },</pre></div></div><div class="function" id="Tan"><h2><code>Tan[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>tan</mi><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="Tan-button">toggle source</button><div id="Tan-source" class="code-source"><pre>"Tan" => vectorize_monad { |inst, n|
    Math::tan n
},</pre></div></div><div class="function" id="Tanh"><h2><code>Tanh[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/trig)</span></h2><p><em>Vectorizes monadically.</em></p>Calculates <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>tan</mi><mo>(</mo><mi>n</mi><mo>)</mo></math>. <button class="source-button" id="Tanh-button">toggle source</button><div id="Tanh-source" class="code-source"><pre>"Tanh" => vectorize_monad { |inst, n|
    Math::tanh n
},
</pre></div></div><div class="function" id="Tie"><h2><code>Tie[<span class="type">(*)|fn</span> ...args] &rarr; <span class="return">(*)|fn</span> </code><span class="genre">(functional)</span></h2>Ties <code>args</code> together. <h3>Arguments</h3><p><code><span class="type">(*)</span> args</code> - Concatenates all <code>args</code> together.</p><p><code><span class="type">fn</span> args</code> - Creates a tie between all of <code>args</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Tie</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_operator">:</code><code class="at_number">7</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [1, 2, 3, 5, 6, 7]
</code><code class="at_word">f</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Tie</code><code class="at_bracket_open">[</code><code class="at_word">Double</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Halve</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">f</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">2</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">4</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">6</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [2, 1, 6, 2, 10, 3]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOiQzNdrQylhHwdTKPDaWy95eIdpQR8FIRwEkpKNgpqNgHsuVpmBlqwBS6ZJfmpSTqqPgkZhTlhrLBTEiDaHDBKIJahBQzBBsBIhhAFQQ@/8/AA">Try it online!</a><button class="source-button" id="Tie-button">toggle source</button><div id="Tie-source" class="code-source"><pre>"Tie" => lambda { |inst, *args|
    if args.any? { |e| !AtState.func_like? e }
        args.inject([]) { |acc, e| [*acc, *e] }
    else
        Tie.new args
    end
},</pre></div></div><div class="function" id="TieArray"><h2><code>TieArray[<span class="type">fn</span> ...funcs] &rarr; <span class="return">fn</span> </code><span class="genre">(functional)</span></h2><code>Tie</code>, but applied to the first argument instead of all arguments. <h3>Example</h3><div class="example"><code><code class="at_word">f</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">TieArray</code><code class="at_bracket_open">[</code><code class="at_word">Double</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Halve</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">f</code><code class="at_bracket_open">[</code><code class="at_number">1</code><code class="at_operator">:</code><code class="at_number">6</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? [2, 1, 6, 2, 10, 3]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P03BylYhJDPVsagosTLaJb80KSdVR8EjMacsNZYroCgzryQ6LdrQyiw2lsveXiHaSEfBUEfBTEcBxDDQUTCO/f8fAA">Try it online!</a><button class="source-button" id="TieArray-button">toggle source</button><div id="TieArray-source" class="code-source"><pre>"TieArray" => lambda { |inst, *funcs|
    Tie.new funcs, true
},</pre></div></div><div class="function" id="ToBase"><h2><code>ToBase[<span class="type">number</span> num, <span class="type">number</span> base] &rarr; <span class="return">[number]</span> </code><span class="genre">(numeric/bases)</span></h2><p><em>Vectorizes dyadically.</em></p>Converts <code>num</code> to base <code>base</code>. <button class="source-button" id="ToBase-button">toggle source</button><div id="ToBase-source" class="code-source"><pre>"ToBase" => vectorize_dyad { |inst, num, base|
    to_base num, base
},</pre></div></div><div class="function" id="Translate"><h2><code>Translate[<span class="type">string</span> str, <span class="type">string</span> source, <span class="type">string</span> repl] &rarr; <span class="return">string</span> </code><span class="genre">(string)</span></h2>Replaces each character in <code>source</code> with the respective character in <code>repl</code> in <code>str</code>. Character ranges are specified with <code>-</code>. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Translate</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;a-z&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;A-Z&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;HELLO, WORLD!&quot;
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Translate</code><code class="at_bracket_open">[</code><code class="at_string">&quot;No one is here today, James&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;a-zA-Z&quot;</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_string">&quot;A-Za-z&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &quot;nO ONE IS HERE TODAY, jAMES&quot;</code></code></div><a href="https://tio.run/##ZcyxCoMwEIDh3ac4b47PIIKBtFhTVCitOBz1QEuaQMzSvnzaULdO//LzUQh0XzjGs19tGAdPdjMUeETFxjgBF@fNnKMApOKdUhU3nKasLAGVbBr9XXTX1Dlmf0TrwFmGdYOFPUNwM70EHOnJ2w4m7GcmfWetBt1KOPSgZCdh0HV1FfCoTrLHGD8">Try it online!</a><button class="source-button" id="Translate-button">toggle source</button><div id="Translate-source" class="code-source"><pre>"Translate" => lambda { |inst, str, source, repl|
    str.tr source, repl
},</pre></div></div><div class="function" id="TriangleRange"><h2><code>TriangleRange[<span class="type">number</span> a, <span class="type">number</span> b] &rarr; <span class="return">[[number, number]]</span> </code><span class="genre">(list)</span></h2>Returns an array of lists representing all pairs <code>(x, y)</code> such that <code>a <= y <= b</code> and <code>a <= x < y</code>. <button class="source-button" id="TriangleRange-button">toggle source</button><div id="TriangleRange-source" class="code-source"><pre>       "TriangleRange" => lambda { |inst, a, b|
           pairs = []
           (a..b).each { |y|
               (a...y).each { |x|
                   pairs << [x, y]
               }
           }
           pairs
       },</pre></div></div><div class="function" id="TriangleSelect"><h2><code>TriangleSelect[<span class="type">fn</span> cond, <span class="type">number</span> a, <span class="type">number</span> b] &rarr; <span class="return">[[number, number]]</span> </code><span class="genre">(list)</span></h2>Returns an array of lists representing all pairs <code>(x, y)</code> satisfying <code>cond</code> such that <code>a <= y <= b</code> and <code>a <= x < y</code>. <button class="source-button" id="TriangleSelect-button">toggle source</button><div id="TriangleSelect-source" class="code-source"><pre>       "TriangleSelect" => lambda { |inst, cond, a, b|
           pairs = []
           (a..b).each { |y|
               (a...y).each { |x|
                   pairs << [x, y] if cond[inst, x, y]
               }
           }
           pairs
       },</pre></div></div><div class="function" id="Triangular"><h2><code>Triangular[<span class="type">number</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/series)</span></h2><p><em>Vectorizes monadically.</em></p>Returns the <code>n</code>th Triangular number. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Triangular</code><code class="at_bracket_open">[</code><code class="at_number">0</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Polygonal</code><code class="at_bracket_open">[</code><code class="at_number">0</code><code class="at_operator">:</code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">

</code><code class="at_comment">?? [0, 1, 3, 6, 10, 15]</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOqQoMzEvvTQnsSjawMo0NpYLIhyQn1OZnp@XmAMS1VEwBkpw2dsrRBvoKBgCuToKZkAGiGMa@/8/AA">Try it online!</a><button class="source-button" id="Triangular-button">toggle source</button><div id="Triangular-source" class="code-source"><pre>"Triangular" => vectorize_monad { |inst, n|
    gonal n, 3
},</pre></div></div><div class="function" id="Truthy"><h2><code>Truthy[<span class="type">(*)</span> arg] &rarr; <span class="return">bool</span> </code><span class="genre">(logic)</span></h2>Returns <code>true</code> if <code>arg</code> is truthy, <code>false</code> otherwise. <button class="source-button" id="Truthy-button">toggle source</button><div id="Truthy-source" class="code-source"><pre>"Truthy" => lambda { |inst, arg|
    AtState.truthy? arg
},</pre></div></div><div class="function" id="unary_typeof"><h2><code>typeof (<span class="type">(*)</span> el) &rarr; <span class="return">Type</span> </code><span class="genre">(unary operator)</span></h2>Returns the type of <code>el</code>. <button class="source-button" id="unary_typeof-button">toggle source</button><div id="unary_typeof-source" class="code-source"><pre>"typeof" => lambda { |inst, el|
    AtState.typeof(el)
},</pre></div></div><div class="function" id="UnBin"><h2><code>UnBin[<span class="type">[number]</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/bases)</span></h2>Converts from base <code>2</code> (binary) to base <code>10</code>. <button class="source-button" id="UnBin-button">toggle source</button><div id="UnBin-source" class="code-source"><pre>"UnBin" => lambda { |inst, n|
    @@functions["FromBase"][inst, n, 2]
},</pre></div></div><div class="function" id="UnHex"><h2><code>UnHex[<span class="type">[number]</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/bases)</span></h2>Converts from base <code>16</code> (hexadecimal) to base <code>10</code>. <button class="source-button" id="UnHex-button">toggle source</button><div id="UnHex-source" class="code-source"><pre>"UnHex" => lambda { |inst, n|
    @@functions["FromBase"][inst, n, 16]
},</pre></div></div><div class="function" id="Union"><h2><code>Union[<span class="type">[(*)]</span> ...lists] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Returns an array representing the union of all lists in <code>lists</code>. <button class="source-button" id="Union-button">toggle source</button><div id="Union-source" class="code-source"><pre>"Union" => lambda { |inst, *lists|
    lists.inject(&:|)
},</pre></div></div><div class="function" id="Unique"><h2><code>Unique[<span class="type">[(*)]</span> list, <span class="type">fn</span> func?] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2><p><em>Reforms result.</em></p>Returns the non-duplicated elements in <code>list</code>. <button class="source-button" id="Unique-button">toggle source</button><div id="Unique-source" class="code-source"><pre>"Unique" => lambda { |inst, list, func=nil|
    fl = inst.cast_list list
    unique = if func.nil?
        fl.uniq
    else
        fl.uniq { |e| arg[func, e] }
    end
    reform_list unique, list
},</pre></div></div><div class="function" id="UnOct"><h2><code>UnOct[<span class="type">[number]</span> n] &rarr; <span class="return">number</span> </code><span class="genre">(numeric/bases)</span></h2>Converts from base <code>8</code> (octal) to base <code>10</code>. <button class="source-button" id="UnOct-button">toggle source</button><div id="UnOct-source" class="code-source"><pre>"UnOct" => lambda { |inst, n|
    @@functions["FromBase"][inst, n, 8]
},
</pre></div></div><div class="function" id="Unshift"><h2><code>Unshift[<span class="type">[(*)]</span> list, <span class="type">(*)</span> ...args] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(list)</span></h2>Pushes <code>args</code> to the start of <code>list</code>, modifying it. Returns <code>list</code>. <button class="source-button" id="Unshift-button">toggle source</button><div id="Unshift-source" class="code-source"><pre>"Unshift" => lambda { |inst, list, *args|
    list.unshift *args
},</pre></div></div><div class="function" id="Upcase"><h2><code>Upcase[<span class="type">string</span> str] &rarr; <span class="return">string</span> </code><span class="genre">(string)</span></h2><p><em>Vectorizes monadically.</em></p>Replaces all lowercase letters in <code>str</code> with the respective uppercase one. <h3>Example</h3><div class="example"><code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Upcase</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello, World!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? HELLO, WORLD!
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Upcase</code><code class="at_bracket_open">[</code><code class="at_string">&quot;&gt;&gt;&gt; NO ONE&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? &gt;&gt;&gt; NO ONE
</code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">Upcase</code><code class="at_bracket_open">[</code><code class="at_string">&quot;le monde&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? LE MONDE</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P6AoM68kOrQgObE4NVrJIzUnJ19HITy/KCdFUSk2lsveXsHD1cfHHyjmH@TjosiFqt7Ozk7Bz1/B388VqhghgKYyJ1UhNz8vJRWqzsdVwdffz8X1/38A">Try it online!</a><button class="source-button" id="Upcase-button">toggle source</button><div id="Upcase-source" class="code-source"><pre>"Upcase" => vectorize_monad { |inst, str|
    str.upcase
},</pre></div></div><div class="function" id="UpperTriangle"><h2><code>UpperTriangle[<span class="type">[[(*)]]</span> mat, <span class="type">bool</span> strict?] &rarr; <span class="return">[[(*)]]</span> </code><span class="genre">(list/matrix)</span></h2>Returns the upper triangle of <code>mat</code>, where the remaining values are replaced with zeroes. <h3>Arguments</h3><p><code><span class="type">bool</span> strict?</code> - If <code>true</code>, includes the diagonal. Default: <code>true</code>.</p><h3>Example</h3><div class="example"><code><code class="at_word">mat</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">Integers</code><code class="at_bracket_open">[</code><code class="at_number">3</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_number">3</code><code class="at_bracket_close">]</code><code class="at_whitespace"> </code><code class="at_operator">+</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_whitespace">
</code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">mat</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">??  1 2 3
</code><code class="at_comment">??  4 5 6
</code><code class="at_comment">??  7 8 9
</code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">UpperTriangle</code><code class="at_bracket_open">[</code><code class="at_word">mat</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">??  1 2 3
</code><code class="at_comment">??  0 5 6
</code><code class="at_comment">??  0 0 9
</code><code class="at_word">Display</code><code class="at_bracket_open">[</code><code class="at_word">UpperTriangle</code><code class="at_bracket_open">[</code><code class="at_word">mat</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">true</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">??  0 2 3
</code><code class="at_comment">??  0 0 6
</code><code class="at_comment">??  0 0 0</code></code></div><a href="https://tio.run/##SywpSUzOSP3/PzexRMHKVsEzryQ1PbWoONpYR8E4VkFbwZDLJbO4ICexMhqoIpbL3l5BwVDBSMEYzDJRMFUwA7PMFSwULOFKQwsKUotCijIT89JzUsEa0XUawHUaACEenToKJUWlqVD9Bkj6DZD0G/z/DwA">Try it online!</a><button class="source-button" id="UpperTriangle-button">toggle source</button><div id="UpperTriangle-source" class="code-source"><pre>"UpperTriangle" => lambda { |inst, mat, strict=false|
    upper_triangle mat, AtState.truthy?(strict)
},
</pre></div></div><div class="function" id="V"><h2><code>V[<span class="type">(*)</span> ...args] &rarr; <span class="return">[(*)]</span> </code><span class="genre">(data)</span></h2>Returns an array of the arguments. <button class="source-button" id="V-button">toggle source</button><div id="V-source" class="code-source"><pre>"V" => lambda { |inst, *args|
    args
},
</pre></div></div><div class="function" id="While"><h2><code>While[<span class="type">expression</span> cond, <span class="type">expression</span> body] &rarr; <span class="return">(*)</span> </code><span class="genre">(logic)</span></h2>While <code>cond</code> evaluates as truthy, evaluates <code>body</code>. Returns <code>nil</code> if <code>cond</code> was false before executing <code>body</code>. <h3>Example</h3><div class="example"><code><code class="at_word">i</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_number">0</code><code class="at_whitespace">
</code><code class="at_word">While</code><code class="at_bracket_open">[</code><code class="at_word">i</code><code class="at_whitespace"> </code><code class="at_operator">&lt;</code><code class="at_whitespace"> </code><code class="at_number">5</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_word">i</code><code class="at_bracket_close">]</code><code class="at_statement_sep">;</code><code class="at_whitespace"> </code><code class="at_word">i</code><code class="at_whitespace"> </code><code class="at_operator">:=</code><code class="at_whitespace"> </code><code class="at_word">i</code><code class="at_whitespace"> </code><code class="at_operator">+</code><code class="at_whitespace"> </code><code class="at_number">1</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? 0
</code><code class="at_comment">?? 1
</code><code class="at_comment">?? 2
</code><code class="at_comment">?? 3
</code><code class="at_comment">?? 4
</code><code class="at_word">While</code><code class="at_bracket_open">[</code><code class="at_word">false</code><code class="at_comma">,</code><code class="at_whitespace"> </code><code class="at_word">Print</code><code class="at_bracket_open">[</code><code class="at_string">&quot;Hello!&quot;</code><code class="at_bracket_close">]</code><code class="at_bracket_close">]</code><code class="at_whitespace">
</code><code class="at_comment">?? nothing is printed</code></code></div><a href="https://tio.run/##SywpSUzOSP3/P1PBylbBgCs8IzMnNTpTwUbBVEchoCgzryQ6M9ZaASybqaCtYBjLZW8PVAckDEGEEYgwBhEmUL1piTnFqTC9Sh6pOTn5ikqxYG15@SUZmXnpCpnFCgUg6dSU//8B">Try it online!</a><button class="source-button" id="While-button">toggle source</button><div id="While-source" class="code-source"><pre>"While" => lambda { |inst, cond, body|
    res = nil
    loop {
        # dhash "while scope", inst.locals.last
        c = inst.evaluate_node cond
        unless AtState.truthy? c
            break
        end
        res = inst.evaluate_node body
        # p body
        # dhash "after scope", inst.locals.last
        # STDIN.gets
    }
    res
},</pre></div></div><div class="function" id="xor"><h2><code>(<span class="type">(*)</span> a) xor (<span class="type">(*)</span> b) &rarr; <span class="return">bool</span> </code><span class="genre">(operator/logic)</span></h2>Returns <code>true</code> if exactly one of <code>a</code> and <code>b</code> is truthy, <code>false</code> otherwise. <button class="source-button" id="xor-button">toggle source</button><div id="xor-source" class="code-source"><pre>"xor" => lambda { |inst, a, b|
    # no short circuiting, since both values must be compared
    AtState.truthy?(a) ^ AtState.truthy?(b)
},</pre></div></div><div class="function" id="Zero"><h2><code>Zero[<span class="type">number</span> n] &rarr; <span class="return">bool</span> </code><span class="genre">(numeric/logic)</span></h2><p><em>Vectorizes monadically.</em></p>Returns <code>true</code> if <code>n</code> is <code>0</code>, otherwise <code>false</code>. <button class="source-button" id="Zero-button">toggle source</button><div id="Zero-source" class="code-source"><pre>"Zero" => vectorize_monad { |inst, n|
    n.zero?
},</pre></div></div></div></div></body>
</html>